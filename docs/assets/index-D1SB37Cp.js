var Eh=Object.defineProperty;var kh=(e,t,n)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xo=(e,t,n)=>kh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Xe={},Fi=[],cn=()=>{},mu=()=>!1,Eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),aa=e=>e.startsWith("onUpdate:"),dt=Object.assign,la=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ah=Object.prototype.hasOwnProperty,Ge=(e,t)=>Ah.call(e,t),Fe=Array.isArray,wi=e=>Fr(e)==="[object Map]",ko=e=>Fr(e)==="[object Set]",Na=e=>Fr(e)==="[object Date]",Ie=e=>typeof e=="function",st=e=>typeof e=="string",fn=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",yu=e=>(qe(e)||Ie(e))&&Ie(e.then)&&Ie(e.catch),bu=Object.prototype.toString,Fr=e=>bu.call(e),Ph=e=>Fr(e).slice(8,-1),Su=e=>Fr(e)==="[object Object]",ca=e=>st(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ji=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_h=/-\w/g,jt=Ao(e=>e.replace(_h,t=>t.slice(1).toUpperCase())),Oh=/\B([A-Z])/g,si=Ao(e=>e.replace(Oh,"-$1").toLowerCase()),Po=Ao(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ko=Ao(e=>e?`on${Po(e)}`:""),zn=(e,t)=>!Object.is(e,t),ro=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},xu=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Cu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ua;const _o=()=>Ua||(Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ua(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=st(i)?Lh(i):ua(i);if(r)for(const o in r)t[o]=r[o]}return t}else if(st(e)||qe(e))return e}const Th=/;(?![^(]*\))/g,Rh=/:([^]+)/,Mh=/\/\*[^]*?\*\//g;function Lh(e){const t={};return e.replace(Mh,"").split(Th).forEach(n=>{if(n){const i=n.split(Rh);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ln(e){let t="";if(st(e))t=e;else if(Fe(e))for(let n=0;n<e.length;n++){const i=ln(e[n]);i&&(t+=i+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Dh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bh=sa(Dh);function Fu(e){return!!e||e===""}function Nh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Oo(e[i],t[i]);return n}function Oo(e,t){if(e===t)return!0;let n=Na(e),i=Na(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=fn(e),i=fn(t),n||i)return e===t;if(n=Fe(e),i=Fe(t),n||i)return n&&i?Nh(e,t):!1;if(n=qe(e),i=qe(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Oo(e[s],t[s]))return!1}}return String(e)===String(t)}function Uh(e,t){return e.findIndex(n=>Oo(n,t))}const wu=e=>!!(e&&e.__v_isRef===!0),xt=e=>st(e)?e:e==null?"":Fe(e)||qe(e)&&(e.toString===bu||!Ie(e.toString))?wu(e)?xt(e.value):JSON.stringify(e,Iu,2):String(e),Iu=(e,t)=>wu(t)?Iu(e,t.value):wi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],o)=>(n[qo(i,o)+" =>"]=r,n),{})}:ko(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>qo(n))}:fn(t)?qo(t):qe(t)&&!Fe(t)&&!Su(t)?String(t):t,qo=(e,t="")=>{var n;return fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wt;class Eu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!t&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=wt;try{return wt=this,t()}finally{wt=n}}}on(){++this._on===1&&(this.prevScope=wt,wt=this)}off(){this._on>0&&--this._on===0&&(wt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Vh(e){return new Eu(e)}function Gh(){return wt}let Ye;const Yo=new WeakSet;class ku{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yo.has(this)&&(Yo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Va(this),_u(this);const t=Ye,n=qt;Ye=this,qt=!0;try{return this.fn()}finally{Ou(this),Ye=t,qt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ha(t);this.deps=this.depsTail=void 0,Va(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ts(this)&&this.run()}get dirty(){return Ts(this)}}let Au=0,Qi,er;function Pu(e,t=!1){if(e.flags|=8,t){e.next=er,er=e;return}e.next=Qi,Qi=e}function fa(){Au++}function da(){if(--Au>0)return;if(er){let t=er;for(er=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Qi;){let t=Qi;for(Qi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function _u(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ou(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ha(i),zh(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Ts(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Tu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Tu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pr)||(e.globalVersion=pr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ts(e))))return;e.flags|=2;const t=e.dep,n=Ye,i=qt;Ye=e,qt=!0;try{_u(e);const r=e.fn(e._value);(t.version===0||zn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ye=n,qt=i,Ou(e),e.flags&=-3}}function ha(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)ha(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function zh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qt=!0;const Ru=[];function An(){Ru.push(qt),qt=!1}function Pn(){const e=Ru.pop();qt=e===void 0?!0:e}function Va(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ye;Ye=void 0;try{t()}finally{Ye=n}}}let pr=0;class jh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ye||!qt||Ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ye)n=this.activeLink=new jh(Ye,this),Ye.deps?(n.prevDep=Ye.depsTail,Ye.depsTail.nextDep=n,Ye.depsTail=n):Ye.deps=Ye.depsTail=n,Mu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ye.depsTail,n.nextDep=void 0,Ye.depsTail.nextDep=n,Ye.depsTail=n,Ye.deps===n&&(Ye.deps=i)}return n}trigger(t){this.version++,pr++,this.notify(t)}notify(t){fa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{da()}}}function Mu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Mu(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Rs=new WeakMap,ei=Symbol(""),Ms=Symbol(""),vr=Symbol("");function ht(e,t,n){if(qt&&Ye){let i=Rs.get(e);i||Rs.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new pa),r.map=i,r.key=n),r.track()}}function xn(e,t,n,i,r,o){const s=Rs.get(e);if(!s){pr++;return}const a=l=>{l&&l.trigger()};if(fa(),t==="clear")s.forEach(a);else{const l=Fe(e),c=l&&ca(n);if(l&&n==="length"){const u=Number(i);s.forEach((f,d)=>{(d==="length"||d===vr||!fn(d)&&d>=u)&&a(f)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(vr)),t){case"add":l?c&&a(s.get("length")):(a(s.get(ei)),wi(e)&&a(s.get(Ms)));break;case"delete":l||(a(s.get(ei)),wi(e)&&a(s.get(Ms)));break;case"set":wi(e)&&a(s.get(ei));break}}da()}function ci(e){const t=Ve(e);return t===e?t:(ht(t,"iterate",vr),Vt(e)?t:t.map(Jt))}function To(e){return ht(e=Ve(e),"iterate",vr),e}function Bn(e,t){return _n(e)?Oi(ti(e)?Jt(t):t):Jt(t)}const Hh={__proto__:null,[Symbol.iterator](){return Zo(this,Symbol.iterator,e=>Bn(this,e))},concat(...e){return ci(this).concat(...e.map(t=>Fe(t)?ci(t):t))},entries(){return Zo(this,"entries",e=>(e[1]=Bn(this,e[1]),e))},every(e,t){return hn(this,"every",e,t,void 0,arguments)},filter(e,t){return hn(this,"filter",e,t,n=>n.map(i=>Bn(this,i)),arguments)},find(e,t){return hn(this,"find",e,t,n=>Bn(this,n),arguments)},findIndex(e,t){return hn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hn(this,"findLast",e,t,n=>Bn(this,n),arguments)},findLastIndex(e,t){return hn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Jo(this,"includes",e)},indexOf(...e){return Jo(this,"indexOf",e)},join(e){return ci(this).join(e)},lastIndexOf(...e){return Jo(this,"lastIndexOf",e)},map(e,t){return hn(this,"map",e,t,void 0,arguments)},pop(){return Vi(this,"pop")},push(...e){return Vi(this,"push",e)},reduce(e,...t){return Ga(this,"reduce",e,t)},reduceRight(e,...t){return Ga(this,"reduceRight",e,t)},shift(){return Vi(this,"shift")},some(e,t){return hn(this,"some",e,t,void 0,arguments)},splice(...e){return Vi(this,"splice",e)},toReversed(){return ci(this).toReversed()},toSorted(e){return ci(this).toSorted(e)},toSpliced(...e){return ci(this).toSpliced(...e)},unshift(...e){return Vi(this,"unshift",e)},values(){return Zo(this,"values",e=>Bn(this,e))}};function Zo(e,t,n){const i=To(e),r=i[t]();return i!==e&&!Vt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const $h=Array.prototype;function hn(e,t,n,i,r,o){const s=To(e),a=s!==e&&!Vt(e),l=s[t];if(l!==$h[t]){const f=l.apply(e,o);return a?Jt(f):f}let c=n;s!==e&&(a?c=function(f,d){return n.call(this,Bn(e,f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(s,c,i);return a&&r?r(u):u}function Ga(e,t,n,i){const r=To(e);let o=n;return r!==e&&(Vt(e)?n.length>3&&(o=function(s,a,l){return n.call(this,s,a,l,e)}):o=function(s,a,l){return n.call(this,s,Bn(e,a),l,e)}),r[t](o,...i)}function Jo(e,t,n){const i=Ve(e);ht(i,"iterate",vr);const r=i[t](...n);return(r===-1||r===!1)&&ma(n[0])?(n[0]=Ve(n[0]),i[t](...n)):r}function Vi(e,t,n=[]){An(),fa();const i=Ve(e)[t].apply(e,n);return da(),Pn(),i}const Wh=sa("__proto__,__v_isRef,__isVue"),Lu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fn));function Xh(e){fn(e)||(e=String(e));const t=Ve(this);return ht(t,"has",e),t.hasOwnProperty(e)}class Du{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(r?o?ip:Vu:o?Uu:Nu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=Fe(t);if(!r){let l;if(s&&(l=Hh[n]))return l;if(n==="hasOwnProperty")return Xh}const a=Reflect.get(t,n,vt(t)?t:i);if((fn(n)?Lu.has(n):Wh(n))||(r||ht(t,"get",n),o))return a;if(vt(a)){const l=s&&ca(n)?a:a.value;return r&&qe(l)?Ds(l):l}return qe(a)?r?Ds(a):Ro(a):a}}class Bu extends Du{constructor(t=!1){super(!1,t)}set(t,n,i,r){let o=t[n];const s=Fe(t)&&ca(n);if(!this._isShallow){const c=_n(o);if(!Vt(i)&&!_n(i)&&(o=Ve(o),i=Ve(i)),!s&&vt(o)&&!vt(i))return c||(o.value=i),!0}const a=s?Number(n)<t.length:Ge(t,n),l=Reflect.set(t,n,i,vt(t)?t:r);return t===Ve(r)&&(a?zn(i,o)&&xn(t,"set",n,i):xn(t,"add",n,i)),l}deleteProperty(t,n){const i=Ge(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&xn(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!fn(n)||!Lu.has(n))&&ht(t,"has",n),i}ownKeys(t){return ht(t,"iterate",Fe(t)?"length":ei),Reflect.ownKeys(t)}}class Kh extends Du{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qh=new Bu,Yh=new Kh,Zh=new Bu(!0);const Ls=e=>e,Or=e=>Reflect.getPrototypeOf(e);function Jh(e,t,n){return function(...i){const r=this.__v_raw,o=Ve(r),s=wi(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=r[e](...i),u=n?Ls:t?Oi:Jt;return!t&&ht(o,"iterate",l?Ms:ei),dt(Object.create(c),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}}})}}function Tr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qh(e,t){const n={get(r){const o=this.__v_raw,s=Ve(o),a=Ve(r);e||(zn(r,a)&&ht(s,"get",r),ht(s,"get",a));const{has:l}=Or(s),c=t?Ls:e?Oi:Jt;if(l.call(s,r))return c(o.get(r));if(l.call(s,a))return c(o.get(a));o!==s&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ht(Ve(r),"iterate",ei),r.size},has(r){const o=this.__v_raw,s=Ve(o),a=Ve(r);return e||(zn(r,a)&&ht(s,"has",r),ht(s,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const s=this,a=s.__v_raw,l=Ve(a),c=t?Ls:e?Oi:Jt;return!e&&ht(l,"iterate",ei),a.forEach((u,f)=>r.call(o,c(u),c(f),s))}};return dt(n,e?{add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear")}:{add(r){!t&&!Vt(r)&&!_n(r)&&(r=Ve(r));const o=Ve(this);return Or(o).has.call(o,r)||(o.add(r),xn(o,"add",r,r)),this},set(r,o){!t&&!Vt(o)&&!_n(o)&&(o=Ve(o));const s=Ve(this),{has:a,get:l}=Or(s);let c=a.call(s,r);c||(r=Ve(r),c=a.call(s,r));const u=l.call(s,r);return s.set(r,o),c?zn(o,u)&&xn(s,"set",r,o):xn(s,"add",r,o),this},delete(r){const o=Ve(this),{has:s,get:a}=Or(o);let l=s.call(o,r);l||(r=Ve(r),l=s.call(o,r)),a&&a.call(o,r);const c=o.delete(r);return l&&xn(o,"delete",r,void 0),c},clear(){const r=Ve(this),o=r.size!==0,s=r.clear();return o&&xn(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Jh(r,e,t)}),n}function va(e,t){const n=Qh(e,t);return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ge(n,r)&&r in i?n:i,r,o)}const ep={get:va(!1,!1)},tp={get:va(!1,!0)},np={get:va(!0,!1)};const Nu=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,ip=new WeakMap;function rp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function op(e){return e.__v_skip||!Object.isExtensible(e)?0:rp(Ph(e))}function Ro(e){return _n(e)?e:ga(e,!1,qh,ep,Nu)}function Gu(e){return ga(e,!1,Zh,tp,Uu)}function Ds(e){return ga(e,!0,Yh,np,Vu)}function ga(e,t,n,i,r){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=op(e);if(o===0)return e;const s=r.get(e);if(s)return s;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function ti(e){return _n(e)?ti(e.__v_raw):!!(e&&e.__v_isReactive)}function _n(e){return!!(e&&e.__v_isReadonly)}function Vt(e){return!!(e&&e.__v_isShallow)}function ma(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function zu(e){return!Ge(e,"__v_skip")&&Object.isExtensible(e)&&xu(e,"__v_skip",!0),e}const Jt=e=>qe(e)?Ro(e):e,Oi=e=>qe(e)?Ds(e):e;function vt(e){return e?e.__v_isRef===!0:!1}function We(e){return ju(e,!1)}function sp(e){return ju(e,!0)}function ju(e,t){return vt(e)?e:new ap(e,t)}class ap{constructor(t,n){this.dep=new pa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ve(t),this._value=n?t:Jt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Vt(t)||_n(t);t=i?t:Ve(t),zn(t,n)&&(this._rawValue=t,this._value=i?t:Jt(t),this.dep.trigger())}}function ni(e){return vt(e)?e.value:e}const lp={get:(e,t,n)=>t==="__v_raw"?e:ni(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return vt(r)&&!vt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Hu(e){return ti(e)?e:new Proxy(e,lp)}class cp{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new pa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return Pu(this,!0),!0}get value(){const t=this.dep.track();return Tu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function up(e,t,n=!1){let i,r;return Ie(e)?i=e:(i=e.get,r=e.set),new cp(i,r,n)}const Rr={},fo=new WeakMap;let Yn;function fp(e,t=!1,n=Yn){if(n){let i=fo.get(n);i||fo.set(n,i=[]),i.push(e)}}function dp(e,t,n=Xe){const{immediate:i,deep:r,once:o,scheduler:s,augmentJob:a,call:l}=n,c=y=>r?y:Vt(y)||r===!1||r===0?Cn(y,1):Cn(y);let u,f,d,h,S=!1,v=!1;if(vt(e)?(f=()=>e.value,S=Vt(e)):ti(e)?(f=()=>c(e),S=!0):Fe(e)?(v=!0,S=e.some(y=>ti(y)||Vt(y)),f=()=>e.map(y=>{if(vt(y))return y.value;if(ti(y))return c(y);if(Ie(y))return l?l(y,2):y()})):Ie(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){An();try{d()}finally{Pn()}}const y=Yn;Yn=u;try{return l?l(e,3,[h]):e(h)}finally{Yn=y}}:f=cn,t&&r){const y=f,L=r===!0?1/0:r;f=()=>Cn(y(),L)}const E=Gh(),b=()=>{u.stop(),E&&E.active&&la(E.effects,u)};if(o&&t){const y=t;t=(...L)=>{y(...L),b()}}let x=v?new Array(e.length).fill(Rr):Rr;const w=y=>{if(!(!(u.flags&1)||!u.dirty&&!y))if(t){const L=u.run();if(r||S||(v?L.some((I,A)=>zn(I,x[A])):zn(L,x))){d&&d();const I=Yn;Yn=u;try{const A=[L,x===Rr?void 0:v&&x[0]===Rr?[]:x,h];x=L,l?l(t,3,A):t(...A)}finally{Yn=I}}}else u.run()};return a&&a(w),u=new ku(f),u.scheduler=s?()=>s(w,!1):w,h=y=>fp(y,!1,u),d=u.onStop=()=>{const y=fo.get(u);if(y){if(l)l(y,4);else for(const L of y)L();fo.delete(u)}},t?i?w(!0):x=u.run():s?s(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Cn(e,t=1/0,n){if(t<=0||!qe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,vt(e))Cn(e.value,t,n);else if(Fe(e))for(let i=0;i<e.length;i++)Cn(e[i],t,n);else if(ko(e)||wi(e))e.forEach(i=>{Cn(i,t,n)});else if(Su(e)){for(const i in e)Cn(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Cn(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wr(e,t,n,i){try{return i?e(...i):e()}catch(r){Mo(r,t,n)}}function dn(e,t,n,i){if(Ie(e)){const r=wr(e,t,n,i);return r&&yu(r)&&r.catch(o=>{Mo(o,t,n)}),r}if(Fe(e)){const r=[];for(let o=0;o<e.length;o++)r.push(dn(e[o],t,n,i));return r}}function Mo(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Xe;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(o){An(),wr(o,null,10,[e,l,c]),Pn();return}}hp(e,n,r,i,s)}function hp(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const Ct=[];let on=-1;const Ii=[];let Nn=null,gi=0;const $u=Promise.resolve();let ho=null;function ii(e){const t=ho||$u;return e?t.then(this?e.bind(this):e):t}function pp(e){let t=on+1,n=Ct.length;for(;t<n;){const i=t+n>>>1,r=Ct[i],o=gr(r);o<e||o===e&&r.flags&2?t=i+1:n=i}return t}function ya(e){if(!(e.flags&1)){const t=gr(e),n=Ct[Ct.length-1];!n||!(e.flags&2)&&t>=gr(n)?Ct.push(e):Ct.splice(pp(t),0,e),e.flags|=1,Wu()}}function Wu(){ho||(ho=$u.then(Ku))}function vp(e){Fe(e)?Ii.push(...e):Nn&&e.id===-1?Nn.splice(gi+1,0,e):e.flags&1||(Ii.push(e),e.flags|=1),Wu()}function za(e,t,n=on+1){for(;n<Ct.length;n++){const i=Ct[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Ct.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Xu(e){if(Ii.length){const t=[...new Set(Ii)].sort((n,i)=>gr(n)-gr(i));if(Ii.length=0,Nn){Nn.push(...t);return}for(Nn=t,gi=0;gi<Nn.length;gi++){const n=Nn[gi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Nn=null,gi=0}}const gr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ku(e){try{for(on=0;on<Ct.length;on++){const t=Ct[on];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),wr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;on<Ct.length;on++){const t=Ct[on];t&&(t.flags&=-2)}on=-1,Ct.length=0,Xu(),ho=null,(Ct.length||Ii.length)&&Ku()}}let Lt=null,qu=null;function po(e){const t=Lt;return Lt=e,qu=e&&e.type.__scopeId||null,t}function gp(e,t=Lt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&mo(-1);const o=po(t);let s;try{s=e(...r)}finally{po(o),i._d&&mo(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function ja(e,t){if(Lt===null)return e;const n=Uo(Lt),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,s,a,l=Xe]=t[r];o&&(Ie(o)&&(o={mounted:o,updated:o}),o.deep&&Cn(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Wn(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(An(),dn(l,n,8,[e.el,a,e,t]),Pn())}}function oo(e,t){if(pt){let n=pt.provides;const i=pt.parent&&pt.parent.provides;i===n&&(n=pt.provides=Object.create(i)),n[e]=t}}function En(e,t,n=!1){const i=mv();if(i||ki){let r=ki?ki._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ie(t)?t.call(i&&i.proxy):t}}const mp=Symbol.for("v-scx"),yp=()=>En(mp);function Ei(e,t,n){return Yu(e,t,n)}function Yu(e,t,n=Xe){const{immediate:i,deep:r,flush:o,once:s}=n,a=dt({},n),l=t&&i||!t&&o!=="post";let c;if(yr){if(o==="sync"){const h=yp();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=cn,h.resume=cn,h.pause=cn,h}}const u=pt;a.call=(h,S,v)=>dn(h,u,S,v);let f=!1;o==="post"?a.scheduler=h=>{At(h,u&&u.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,S)=>{S?h():ya(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=dp(e,t,a);return yr&&(c?c.push(d):l&&d()),d}function bp(e,t,n){const i=this.proxy,r=st(e)?e.includes(".")?Zu(i,e):()=>i[e]:e.bind(i,i);let o;Ie(t)?o=t:(o=t.handler,n=t);const s=Ir(this),a=Yu(r,o.bind(i),n);return s(),a}function Zu(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Sp=Symbol("_vte"),xp=e=>e.__isTeleport,Cp=Symbol("_leaveCb");function ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ai(e,t){return Ie(e)?dt({name:e.name},t,{setup:e}):e}function Ju(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const vo=new WeakMap;function tr(e,t,n,i,r=!1){if(Fe(e)){e.forEach((S,v)=>tr(S,t&&(Fe(t)?t[v]:t),n,i,r));return}if(nr(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&tr(e,t,n,i.component.subTree);return}const o=i.shapeFlag&4?Uo(i.component):i.el,s=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Xe?a.refs={}:a.refs,f=a.setupState,d=Ve(f),h=f===Xe?mu:S=>Ge(d,S);if(c!=null&&c!==l){if(Ha(t),st(c))u[c]=null,h(c)&&(f[c]=null);else if(vt(c)){c.value=null;const S=t;S.k&&(u[S.k]=null)}}if(Ie(l))wr(l,a,12,[s,u]);else{const S=st(l),v=vt(l);if(S||v){const E=()=>{if(e.f){const b=S?h(l)?f[l]:u[l]:l.value;if(r)Fe(b)&&la(b,o);else if(Fe(b))b.includes(o)||b.push(o);else if(S)u[l]=[o],h(l)&&(f[l]=u[l]);else{const x=[o];l.value=x,e.k&&(u[e.k]=x)}}else S?(u[l]=s,h(l)&&(f[l]=s)):v&&(l.value=s,e.k&&(u[e.k]=s))};if(s){const b=()=>{E(),vo.delete(e)};b.id=-1,vo.set(e,b),At(b,n)}else Ha(e),E()}}}function Ha(e){const t=vo.get(e);t&&(t.flags|=8,vo.delete(e))}_o().requestIdleCallback;_o().cancelIdleCallback;const nr=e=>!!e.type.__asyncLoader,Qu=e=>e.type.__isKeepAlive;function Fp(e,t){ef(e,"a",t)}function wp(e,t){ef(e,"da",t)}function ef(e,t,n=pt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Lo(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Qu(r.parent.vnode)&&Ip(i,t,n,r),r=r.parent}}function Ip(e,t,n,i){const r=Lo(t,e,i,!0);Sa(()=>{la(i[t],r)},n)}function Lo(e,t,n=pt,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{An();const a=Ir(n),l=dn(t,n,e,s);return a(),Pn(),l});return i?r.unshift(o):r.push(o),o}}const Tn=e=>(t,n=pt)=>{(!yr||e==="sp")&&Lo(e,(...i)=>t(...i),n)},Ep=Tn("bm"),tf=Tn("m"),kp=Tn("bu"),Ap=Tn("u"),Pp=Tn("bum"),Sa=Tn("um"),_p=Tn("sp"),Op=Tn("rtg"),Tp=Tn("rtc");function Rp(e,t=pt){Lo("ec",e,t)}const Mp="components";function Lp(e,t){return Bp(Mp,e,!0,t)||e}const Dp=Symbol.for("v-ndc");function Bp(e,t,n=!0,i=!1){const r=Lt||pt;if(r){const o=r.type;{const a=Cv(o,!1);if(a&&(a===t||a===jt(t)||a===Po(jt(t))))return o}const s=$a(r[e]||o[e],t)||$a(r.appContext[e],t);return!s&&i?o:s}}function $a(e,t){return e&&(e[t]||e[jt(t)]||e[Po(jt(t))])}function xa(e,t,n,i){let r;const o=n,s=Fe(e);if(s||st(e)){const a=s&&ti(e);let l=!1,c=!1;a&&(l=!Vt(e),c=_n(e),e=To(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(l?c?Oi(Jt(e[u])):Jt(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o)}else if(qe(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,o)}}else r=[];return r}const Bs=e=>e?xf(e)?Uo(e):Bs(e.parent):null,ir=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bs(e.parent),$root:e=>Bs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rf(e),$forceUpdate:e=>e.f||(e.f=()=>{ya(e.update)}),$nextTick:e=>e.n||(e.n=ii.bind(e.proxy)),$watch:e=>bp.bind(e)}),Qo=(e,t)=>e!==Xe&&!e.__isScriptSetup&&Ge(e,t),Np={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=e;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Qo(i,t))return s[t]=1,i[t];if(r!==Xe&&Ge(r,t))return s[t]=2,r[t];if(Ge(o,t))return s[t]=3,o[t];if(n!==Xe&&Ge(n,t))return s[t]=4,n[t];Ns&&(s[t]=0)}}const c=ir[t];let u,f;if(c)return t==="$attrs"&&ht(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==Xe&&Ge(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,Ge(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return Qo(r,t)?(r[t]=n,!0):i!==Xe&&Ge(i,t)?(i[t]=n,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,props:o,type:s}},a){let l;return!!(n[a]||e!==Xe&&a[0]!=="$"&&Ge(e,a)||Qo(t,a)||Ge(o,a)||Ge(i,a)||Ge(ir,a)||Ge(r.config.globalProperties,a)||(l=s.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wa(e){return Fe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ns=!0;function Up(e){const t=rf(e),n=e.proxy,i=e.ctx;Ns=!1,t.beforeCreate&&Xa(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:S,activated:v,deactivated:E,beforeDestroy:b,beforeUnmount:x,destroyed:w,unmounted:y,render:L,renderTracked:I,renderTriggered:A,errorCaptured:B,serverPrefetch:N,expose:V,inheritAttrs:G,components:ne,directives:ee,filters:ce}=t;if(c&&Vp(c,i,null),s)for(const q in s){const ue=s[q];Ie(ue)&&(i[q]=ue.bind(n))}if(r){const q=r.call(n,n);qe(q)&&(e.data=Ro(q))}if(Ns=!0,o)for(const q in o){const ue=o[q],Pe=Ie(ue)?ue.bind(n,n):Ie(ue.get)?ue.get.bind(n,n):cn,ve=!Ie(ue)&&Ie(ue.set)?ue.set.bind(n):cn,Ce=nt({get:Pe,set:ve});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:Ee=>Ce.value=Ee})}if(a)for(const q in a)nf(a[q],i,n,q);if(l){const q=Ie(l)?l.call(n):l;Reflect.ownKeys(q).forEach(ue=>{oo(ue,q[ue])})}u&&Xa(u,e,"c");function J(q,ue){Fe(ue)?ue.forEach(Pe=>q(Pe.bind(n))):ue&&q(ue.bind(n))}if(J(Ep,f),J(tf,d),J(kp,h),J(Ap,S),J(Fp,v),J(wp,E),J(Rp,B),J(Tp,I),J(Op,A),J(Pp,x),J(Sa,y),J(_p,N),Fe(V))if(V.length){const q=e.exposed||(e.exposed={});V.forEach(ue=>{Object.defineProperty(q,ue,{get:()=>n[ue],set:Pe=>n[ue]=Pe,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===cn&&(e.render=L),G!=null&&(e.inheritAttrs=G),ne&&(e.components=ne),ee&&(e.directives=ee),N&&Ju(e)}function Vp(e,t,n=cn){Fe(e)&&(e=Us(e));for(const i in e){const r=e[i];let o;qe(r)?"default"in r?o=En(r.from||i,r.default,!0):o=En(r.from||i):o=En(r),vt(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function Xa(e,t,n){dn(Fe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function nf(e,t,n,i){let r=i.includes(".")?Zu(n,i):()=>n[i];if(st(e)){const o=t[e];Ie(o)&&Ei(r,o)}else if(Ie(e))Ei(r,e.bind(n));else if(qe(e))if(Fe(e))e.forEach(o=>nf(o,t,n,i));else{const o=Ie(e.handler)?e.handler.bind(n):t[e.handler];Ie(o)&&Ei(r,o,e)}}function rf(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>go(l,c,s,!0)),go(l,t,s)),qe(t)&&o.set(t,l),l}function go(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&go(e,o,n,!0),r&&r.forEach(s=>go(e,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const a=Gp[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Gp={data:Ka,props:qa,emits:qa,methods:Ki,computed:Ki,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:Ki,directives:Ki,watch:jp,provide:Ka,inject:zp};function Ka(e,t){return t?e?function(){return dt(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function zp(e,t){return Ki(Us(e),Us(t))}function Us(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ki(e,t){return e?dt(Object.create(null),e,t):t}function qa(e,t){return e?Fe(e)&&Fe(t)?[...new Set([...e,...t])]:dt(Object.create(null),Wa(e),Wa(t??{})):t}function jp(e,t){if(!e)return t;if(!t)return e;const n=dt(Object.create(null),e);for(const i in t)n[i]=yt(e[i],t[i]);return n}function of(){return{app:null,config:{isNativeTag:mu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hp=0;function $p(e,t){return function(i,r=null){Ie(i)||(i=dt({},i)),r!=null&&!qe(r)&&(r=null);const o=of(),s=new WeakSet,a=[];let l=!1;const c=o.app={_uid:Hp++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:wv,get config(){return o.config},set config(u){},use(u,...f){return s.has(u)||(u&&Ie(u.install)?(s.add(u),u.install(c,...f)):Ie(u)&&(s.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||Ft(i,r);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Uo(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(dn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=ki;ki=c;try{return u()}finally{ki=f}}};return c}}let ki=null;const Wp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${jt(t)}Modifiers`]||e[`${si(t)}Modifiers`];function Xp(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Xe;let r=n;const o=t.startsWith("update:"),s=o&&Wp(i,t.slice(7));s&&(s.trim&&(r=n.map(u=>st(u)?u.trim():u)),s.number&&(r=n.map(Cu)));let a,l=i[a=Ko(t)]||i[a=Ko(jt(t))];!l&&o&&(l=i[a=Ko(si(t))]),l&&dn(l,e,6,r);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dn(c,e,6,r)}}const Kp=new WeakMap;function sf(e,t,n=!1){const i=n?Kp:t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let s={},a=!1;if(!Ie(e)){const l=c=>{const u=sf(c,t,!0);u&&(a=!0,dt(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(qe(e)&&i.set(e,null),null):(Fe(o)?o.forEach(l=>s[l]=null):dt(s,o),qe(e)&&i.set(e,s),s)}function Do(e,t){return!e||!Eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,si(t))||Ge(e,t))}function Ya(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:S,inheritAttrs:v}=e,E=po(e);let b,x;try{if(n.shapeFlag&4){const y=r||i,L=y;b=sn(c.call(L,y,u,f,h,d,S)),x=a}else{const y=t;b=sn(y.length>1?y(f,{attrs:a,slots:s,emit:l}):y(f,null)),x=t.props?a:qp(a)}}catch(y){rr.length=0,Mo(y,e,1),b=Ft(Hn)}let w=b;if(x&&v!==!1){const y=Object.keys(x),{shapeFlag:L}=w;y.length&&L&7&&(o&&y.some(aa)&&(x=Yp(x,o)),w=Ti(w,x,!1,!0))}return n.dirs&&(w=Ti(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&ba(w,n.transition),b=w,po(E),b}const qp=e=>{let t;for(const n in e)(n==="class"||n==="style"||Eo(n))&&((t||(t={}))[n]=e[n]);return t},Yp=(e,t)=>{const n={};for(const i in e)(!aa(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Zp(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Za(i,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(s[d]!==i[d]&&!Do(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?Za(i,s,c):!0:!!s;return!1}function Za(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!Do(n,o))return!0}return!1}function Jp({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const af={},lf=()=>Object.create(af),cf=e=>Object.getPrototypeOf(e)===af;function Qp(e,t,n,i=!1){const r={},o=lf();e.propsDefaults=Object.create(null),uf(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=i?r:Gu(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function ev(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,a=Ve(r),[l]=e.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Do(e.emitsOptions,d))continue;const h=t[d];if(l)if(Ge(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const S=jt(d);r[S]=Vs(l,a,S,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{uf(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!Ge(t,f)&&((u=si(f))===f||!Ge(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Vs(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!Ge(t,f))&&(delete o[f],c=!0)}c&&xn(e.attrs,"set","")}function uf(e,t,n,i){const[r,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Ji(l))continue;const c=t[l];let u;r&&Ge(r,u=jt(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Do(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(o){const l=Ve(n),c=a||Xe;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Vs(r,l,f,c[f],e,!Ge(c,f))}}return s}function Vs(e,t,n,i,r,o){const s=e[n];if(s!=null){const a=Ge(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ie(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=Ir(r);i=c[n]=l.call(null,t),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===si(n))&&(i=!0))}return i}const tv=new WeakMap;function ff(e,t,n=!1){const i=n?tv:t.propsCache,r=i.get(e);if(r)return r;const o=e.props,s={},a=[];let l=!1;if(!Ie(e)){const u=f=>{l=!0;const[d,h]=ff(f,t,!0);dt(s,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return qe(e)&&i.set(e,Fi),Fi;if(Fe(o))for(let u=0;u<o.length;u++){const f=jt(o[u]);Ja(f)&&(s[f]=Xe)}else if(o)for(const u in o){const f=jt(u);if(Ja(f)){const d=o[u],h=s[f]=Fe(d)||Ie(d)?{type:d}:dt({},d),S=h.type;let v=!1,E=!0;if(Fe(S))for(let b=0;b<S.length;++b){const x=S[b],w=Ie(x)&&x.name;if(w==="Boolean"){v=!0;break}else w==="String"&&(E=!1)}else v=Ie(S)&&S.name==="Boolean";h[0]=v,h[1]=E,(v||Ge(h,"default"))&&a.push(f)}}const c=[s,a];return qe(e)&&i.set(e,c),c}function Ja(e){return e[0]!=="$"&&!Ji(e)}const Ca=e=>e==="_"||e==="_ctx"||e==="$stable",Fa=e=>Fe(e)?e.map(sn):[sn(e)],nv=(e,t,n)=>{if(t._n)return t;const i=gp((...r)=>Fa(t(...r)),n);return i._c=!1,i},df=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Ca(r))continue;const o=e[r];if(Ie(o))t[r]=nv(r,o,i);else if(o!=null){const s=Fa(o);t[r]=()=>s}}},hf=(e,t)=>{const n=Fa(t);e.slots.default=()=>n},pf=(e,t,n)=>{for(const i in t)(n||!Ca(i))&&(e[i]=t[i])},iv=(e,t,n)=>{const i=e.slots=lf();if(e.vnode.shapeFlag&32){const r=t._;r?(pf(i,t,n),n&&xu(i,"_",r,!0)):df(t,i)}else t&&hf(e,t)},rv=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,s=Xe;if(i.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:pf(r,t,n):(o=!t.$stable,df(t,r)),s=t}else t&&(hf(e,t),s={default:1});if(o)for(const a in r)!Ca(a)&&s[a]==null&&delete r[a]},At=cv;function ov(e){return sv(e)}function sv(e,t){const n=_o();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=cn,insertStaticContent:S}=e,v=(m,F,p,C=null,k=null,P=null,D=void 0,O=null,T=!!F.dynamicChildren)=>{if(m===F)return;m&&!Gi(m,F)&&(C=R(m),Ee(m,k,P,!0),m=null),F.patchFlag===-2&&(T=!1,F.dynamicChildren=null);const{type:_,ref:z,shapeFlag:H}=F;switch(_){case Bo:E(m,F,p,C);break;case Hn:b(m,F,p,C);break;case ts:m==null&&x(F,p,C,D);break;case Rt:ne(m,F,p,C,k,P,D,O,T);break;default:H&1?L(m,F,p,C,k,P,D,O,T):H&6?ee(m,F,p,C,k,P,D,O,T):(H&64||H&128)&&_.process(m,F,p,C,k,P,D,O,T,U)}z!=null&&k?tr(z,m&&m.ref,P,F||m,!F):z==null&&m&&m.ref!=null&&tr(m.ref,null,P,m,!0)},E=(m,F,p,C)=>{if(m==null)i(F.el=a(F.children),p,C);else{const k=F.el=m.el;F.children!==m.children&&c(k,F.children)}},b=(m,F,p,C)=>{m==null?i(F.el=l(F.children||""),p,C):F.el=m.el},x=(m,F,p,C)=>{[m.el,m.anchor]=S(m.children,F,p,C,m.el,m.anchor)},w=({el:m,anchor:F},p,C)=>{let k;for(;m&&m!==F;)k=d(m),i(m,p,C),m=k;i(F,p,C)},y=({el:m,anchor:F})=>{let p;for(;m&&m!==F;)p=d(m),r(m),m=p;r(F)},L=(m,F,p,C,k,P,D,O,T)=>{if(F.type==="svg"?D="svg":F.type==="math"&&(D="mathml"),m==null)I(F,p,C,k,P,D,O,T);else{const _=m.el&&m.el._isVueCE?m.el:null;try{_&&_._beginPatch(),N(m,F,k,P,D,O,T)}finally{_&&_._endPatch()}}},I=(m,F,p,C,k,P,D,O)=>{let T,_;const{props:z,shapeFlag:H,transition:K,dirs:re}=m;if(T=m.el=s(m.type,P,z&&z.is,z),H&8?u(T,m.children):H&16&&B(m.children,T,null,C,k,es(m,P),D,O),re&&Wn(m,null,C,"created"),A(T,m,m.scopeId,D,C),z){for(const pe in z)pe!=="value"&&!Ji(pe)&&o(T,pe,null,z[pe],P,C);"value"in z&&o(T,"value",null,z.value,P),(_=z.onVnodeBeforeMount)&&tn(_,C,m)}re&&Wn(m,null,C,"beforeMount");const se=av(k,K);se&&K.beforeEnter(T),i(T,F,p),((_=z&&z.onVnodeMounted)||se||re)&&At(()=>{_&&tn(_,C,m),se&&K.enter(T),re&&Wn(m,null,C,"mounted")},k)},A=(m,F,p,C,k)=>{if(p&&h(m,p),C)for(let P=0;P<C.length;P++)h(m,C[P]);if(k){let P=k.subTree;if(F===P||yf(P.type)&&(P.ssContent===F||P.ssFallback===F)){const D=k.vnode;A(m,D,D.scopeId,D.slotScopeIds,k.parent)}}},B=(m,F,p,C,k,P,D,O,T=0)=>{for(let _=T;_<m.length;_++){const z=m[_]=O?Un(m[_]):sn(m[_]);v(null,z,F,p,C,k,P,D,O)}},N=(m,F,p,C,k,P,D)=>{const O=F.el=m.el;let{patchFlag:T,dynamicChildren:_,dirs:z}=F;T|=m.patchFlag&16;const H=m.props||Xe,K=F.props||Xe;let re;if(p&&Xn(p,!1),(re=K.onVnodeBeforeUpdate)&&tn(re,p,F,m),z&&Wn(F,m,p,"beforeUpdate"),p&&Xn(p,!0),(H.innerHTML&&K.innerHTML==null||H.textContent&&K.textContent==null)&&u(O,""),_?V(m.dynamicChildren,_,O,p,C,es(F,k),P):D||ue(m,F,O,null,p,C,es(F,k),P,!1),T>0){if(T&16)G(O,H,K,p,k);else if(T&2&&H.class!==K.class&&o(O,"class",null,K.class,k),T&4&&o(O,"style",H.style,K.style,k),T&8){const se=F.dynamicProps;for(let pe=0;pe<se.length;pe++){const be=se[pe],Ne=H[be],$e=K[be];($e!==Ne||be==="value")&&o(O,be,Ne,$e,k,p)}}T&1&&m.children!==F.children&&u(O,F.children)}else!D&&_==null&&G(O,H,K,p,k);((re=K.onVnodeUpdated)||z)&&At(()=>{re&&tn(re,p,F,m),z&&Wn(F,m,p,"updated")},C)},V=(m,F,p,C,k,P,D)=>{for(let O=0;O<F.length;O++){const T=m[O],_=F[O],z=T.el&&(T.type===Rt||!Gi(T,_)||T.shapeFlag&198)?f(T.el):p;v(T,_,z,null,C,k,P,D,!0)}},G=(m,F,p,C,k)=>{if(F!==p){if(F!==Xe)for(const P in F)!Ji(P)&&!(P in p)&&o(m,P,F[P],null,k,C);for(const P in p){if(Ji(P))continue;const D=p[P],O=F[P];D!==O&&P!=="value"&&o(m,P,O,D,k,C)}"value"in p&&o(m,"value",F.value,p.value,k)}},ne=(m,F,p,C,k,P,D,O,T)=>{const _=F.el=m?m.el:a(""),z=F.anchor=m?m.anchor:a("");let{patchFlag:H,dynamicChildren:K,slotScopeIds:re}=F;re&&(O=O?O.concat(re):re),m==null?(i(_,p,C),i(z,p,C),B(F.children||[],p,z,k,P,D,O,T)):H>0&&H&64&&K&&m.dynamicChildren&&m.dynamicChildren.length===K.length?(V(m.dynamicChildren,K,p,k,P,D,O),(F.key!=null||k&&F===k.subTree)&&vf(m,F,!0)):ue(m,F,p,z,k,P,D,O,T)},ee=(m,F,p,C,k,P,D,O,T)=>{F.slotScopeIds=O,m==null?F.shapeFlag&512?k.ctx.activate(F,p,C,D,T):ce(F,p,C,k,P,D,T):de(m,F,T)},ce=(m,F,p,C,k,P,D)=>{const O=m.component=gv(m,C,k);if(Qu(m)&&(O.ctx.renderer=U),yv(O,!1,D),O.asyncDep){if(k&&k.registerDep(O,J,D),!m.el){const T=O.subTree=Ft(Hn);b(null,T,F,p),m.placeholder=T.el}}else J(O,m,F,p,k,P,D)},de=(m,F,p)=>{const C=F.component=m.component;if(Zp(m,F,p))if(C.asyncDep&&!C.asyncResolved){q(C,F,p);return}else C.next=F,C.update();else F.el=m.el,C.vnode=F},J=(m,F,p,C,k,P,D)=>{const O=()=>{if(m.isMounted){let{next:H,bu:K,u:re,parent:se,vnode:pe}=m;{const le=gf(m);if(le){H&&(H.el=pe.el,q(m,H,D)),le.asyncDep.then(()=>{m.isUnmounted||O()});return}}let be=H,Ne;Xn(m,!1),H?(H.el=pe.el,q(m,H,D)):H=pe,K&&ro(K),(Ne=H.props&&H.props.onVnodeBeforeUpdate)&&tn(Ne,se,H,pe),Xn(m,!0);const $e=Ya(m),Oe=m.subTree;m.subTree=$e,v(Oe,$e,f(Oe.el),R(Oe),m,k,P),H.el=$e.el,be===null&&Jp(m,$e.el),re&&At(re,k),(Ne=H.props&&H.props.onVnodeUpdated)&&At(()=>tn(Ne,se,H,pe),k)}else{let H;const{el:K,props:re}=F,{bm:se,m:pe,parent:be,root:Ne,type:$e}=m,Oe=nr(F);Xn(m,!1),se&&ro(se),!Oe&&(H=re&&re.onVnodeBeforeMount)&&tn(H,be,F),Xn(m,!0);{Ne.ce&&Ne.ce._def.shadowRoot!==!1&&Ne.ce._injectChildStyle($e);const le=m.subTree=Ya(m);v(null,le,p,C,m,k,P),F.el=le.el}if(pe&&At(pe,k),!Oe&&(H=re&&re.onVnodeMounted)){const le=F;At(()=>tn(H,be,le),k)}(F.shapeFlag&256||be&&nr(be.vnode)&&be.vnode.shapeFlag&256)&&m.a&&At(m.a,k),m.isMounted=!0,F=p=C=null}};m.scope.on();const T=m.effect=new ku(O);m.scope.off();const _=m.update=T.run.bind(T),z=m.job=T.runIfDirty.bind(T);z.i=m,z.id=m.uid,T.scheduler=()=>ya(z),Xn(m,!0),_()},q=(m,F,p)=>{F.component=m;const C=m.vnode.props;m.vnode=F,m.next=null,ev(m,F.props,C,p),rv(m,F.children,p),An(),za(m),Pn()},ue=(m,F,p,C,k,P,D,O,T=!1)=>{const _=m&&m.children,z=m?m.shapeFlag:0,H=F.children,{patchFlag:K,shapeFlag:re}=F;if(K>0){if(K&128){ve(_,H,p,C,k,P,D,O,T);return}else if(K&256){Pe(_,H,p,C,k,P,D,O,T);return}}re&8?(z&16&&we(_,k,P),H!==_&&u(p,H)):z&16?re&16?ve(_,H,p,C,k,P,D,O,T):we(_,k,P,!0):(z&8&&u(p,""),re&16&&B(H,p,C,k,P,D,O,T))},Pe=(m,F,p,C,k,P,D,O,T)=>{m=m||Fi,F=F||Fi;const _=m.length,z=F.length,H=Math.min(_,z);let K;for(K=0;K<H;K++){const re=F[K]=T?Un(F[K]):sn(F[K]);v(m[K],re,p,null,k,P,D,O,T)}_>z?we(m,k,P,!0,!1,H):B(F,p,C,k,P,D,O,T,H)},ve=(m,F,p,C,k,P,D,O,T)=>{let _=0;const z=F.length;let H=m.length-1,K=z-1;for(;_<=H&&_<=K;){const re=m[_],se=F[_]=T?Un(F[_]):sn(F[_]);if(Gi(re,se))v(re,se,p,null,k,P,D,O,T);else break;_++}for(;_<=H&&_<=K;){const re=m[H],se=F[K]=T?Un(F[K]):sn(F[K]);if(Gi(re,se))v(re,se,p,null,k,P,D,O,T);else break;H--,K--}if(_>H){if(_<=K){const re=K+1,se=re<z?F[re].el:C;for(;_<=K;)v(null,F[_]=T?Un(F[_]):sn(F[_]),p,se,k,P,D,O,T),_++}}else if(_>K)for(;_<=H;)Ee(m[_],k,P,!0),_++;else{const re=_,se=_,pe=new Map;for(_=se;_<=K;_++){const et=F[_]=T?Un(F[_]):sn(F[_]);et.key!=null&&pe.set(et.key,_)}let be,Ne=0;const $e=K-se+1;let Oe=!1,le=0;const mt=new Array($e);for(_=0;_<$e;_++)mt[_]=0;for(_=re;_<=H;_++){const et=m[_];if(Ne>=$e){Ee(et,k,P,!0);continue}let it;if(et.key!=null)it=pe.get(et.key);else for(be=se;be<=K;be++)if(mt[be-se]===0&&Gi(et,F[be])){it=be;break}it===void 0?Ee(et,k,P,!0):(mt[it-se]=_+1,it>=le?le=it:Oe=!0,v(et,F[it],p,null,k,P,D,O,T),Ne++)}const Bt=Oe?lv(mt):Fi;for(be=Bt.length-1,_=$e-1;_>=0;_--){const et=se+_,it=F[et],en=F[et+1],Mn=et+1<z?en.el||mf(en):C;mt[_]===0?v(null,it,p,Mn,k,P,D,O,T):Oe&&(be<0||_!==Bt[be]?Ce(it,p,Mn,2):be--)}}},Ce=(m,F,p,C,k=null)=>{const{el:P,type:D,transition:O,children:T,shapeFlag:_}=m;if(_&6){Ce(m.component.subTree,F,p,C);return}if(_&128){m.suspense.move(F,p,C);return}if(_&64){D.move(m,F,p,U);return}if(D===Rt){i(P,F,p);for(let H=0;H<T.length;H++)Ce(T[H],F,p,C);i(m.anchor,F,p);return}if(D===ts){w(m,F,p);return}if(C!==2&&_&1&&O)if(C===0)O.beforeEnter(P),i(P,F,p),At(()=>O.enter(P),k);else{const{leave:H,delayLeave:K,afterLeave:re}=O,se=()=>{m.ctx.isUnmounted?r(P):i(P,F,p)},pe=()=>{P._isLeaving&&P[Cp](!0),H(P,()=>{se(),re&&re()})};K?K(P,se,pe):pe()}else i(P,F,p)},Ee=(m,F,p,C=!1,k=!1)=>{const{type:P,props:D,ref:O,children:T,dynamicChildren:_,shapeFlag:z,patchFlag:H,dirs:K,cacheIndex:re}=m;if(H===-2&&(k=!1),O!=null&&(An(),tr(O,null,p,m,!0),Pn()),re!=null&&(F.renderCache[re]=void 0),z&256){F.ctx.deactivate(m);return}const se=z&1&&K,pe=!nr(m);let be;if(pe&&(be=D&&D.onVnodeBeforeUnmount)&&tn(be,F,m),z&6)ge(m.component,p,C);else{if(z&128){m.suspense.unmount(p,C);return}se&&Wn(m,null,F,"beforeUnmount"),z&64?m.type.remove(m,F,p,U,C):_&&!_.hasOnce&&(P!==Rt||H>0&&H&64)?we(_,F,p,!1,!0):(P===Rt&&H&384||!k&&z&16)&&we(T,F,p),C&&Ze(m)}(pe&&(be=D&&D.onVnodeUnmounted)||se)&&At(()=>{be&&tn(be,F,m),se&&Wn(m,null,F,"unmounted")},p)},Ze=m=>{const{type:F,el:p,anchor:C,transition:k}=m;if(F===Rt){ye(p,C);return}if(F===ts){y(m);return}const P=()=>{r(p),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(m.shapeFlag&1&&k&&!k.persisted){const{leave:D,delayLeave:O}=k,T=()=>D(p,P);O?O(m.el,P,T):T()}else P()},ye=(m,F)=>{let p;for(;m!==F;)p=d(m),r(m),m=p;r(F)},ge=(m,F,p)=>{const{bum:C,scope:k,job:P,subTree:D,um:O,m:T,a:_}=m;Qa(T),Qa(_),C&&ro(C),k.stop(),P&&(P.flags|=8,Ee(D,m,F,p)),O&&At(O,F),At(()=>{m.isUnmounted=!0},F)},we=(m,F,p,C=!1,k=!1,P=0)=>{for(let D=P;D<m.length;D++)Ee(m[D],F,p,C,k)},R=m=>{if(m.shapeFlag&6)return R(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const F=d(m.anchor||m.el),p=F&&F[Sp];return p?d(p):F};let j=!1;const M=(m,F,p)=>{let C;m==null?F._vnode&&(Ee(F._vnode,null,null,!0),C=F._vnode.component):v(F._vnode||null,m,F,null,null,null,p),F._vnode=m,j||(j=!0,za(C),Xu(),j=!1)},U={p:v,um:Ee,m:Ce,r:Ze,mt:ce,mc:B,pc:ue,pbc:V,n:R,o:e};return{render:M,hydrate:void 0,createApp:$p(M)}}function es({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Xn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function av(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vf(e,t,n=!1){const i=e.children,r=t.children;if(Fe(i)&&Fe(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Un(r[o]),a.el=s.el),!n&&a.patchFlag!==-2&&vf(s,a)),a.type===Bo&&(a.patchFlag!==-1?a.el=s.el:a.__elIndex=o+(e.type===Rt?1:0)),a.type===Hn&&!a.el&&(a.el=s.el)}}function lv(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function gf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:gf(t)}function Qa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function mf(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?mf(t.subTree):null}const yf=e=>e.__isSuspense;function cv(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):vp(e)}const Rt=Symbol.for("v-fgt"),Bo=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),ts=Symbol.for("v-stc"),rr=[];let Dt=null;function He(e=!1){rr.push(Dt=e?null:[])}function uv(){rr.pop(),Dt=rr[rr.length-1]||null}let mr=1;function mo(e,t=!1){mr+=e,e<0&&Dt&&t&&(Dt.hasOnce=!0)}function bf(e){return e.dynamicChildren=mr>0?Dt||Fi:null,uv(),mr>0&&Dt&&Dt.push(e),e}function Qe(e,t,n,i,r,o){return bf(te(e,t,n,i,r,o,!0))}function No(e,t,n,i,r){return bf(Ft(e,t,n,i,r,!0))}function yo(e){return e?e.__v_isVNode===!0:!1}function Gi(e,t){return e.type===t.type&&e.key===t.key}const Sf=({key:e})=>e??null,so=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?st(e)||vt(e)||Ie(e)?{i:Lt,r:e,k:t,f:!!n}:e:null);function te(e,t=null,n=null,i=0,r=null,o=e===Rt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sf(t),ref:t&&so(t),scopeId:qu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Lt};return a?(wa(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=st(n)?8:16),mr>0&&!s&&Dt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Dt.push(l),l}const Ft=fv;function fv(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===Dp)&&(e=Hn),yo(e)){const a=Ti(e,t,!0);return n&&wa(a,n),mr>0&&!o&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(e)]=a:Dt.push(a)),a.patchFlag=-2,a}if(Fv(e)&&(e=e.__vccOpts),t){t=dv(t);let{class:a,style:l}=t;a&&!st(a)&&(t.class=ln(a)),qe(l)&&(ma(l)&&!Fe(l)&&(l=dt({},l)),t.style=ua(l))}const s=st(e)?1:yf(e)?128:xp(e)?64:qe(e)?4:Ie(e)?2:0;return te(e,t,n,i,r,s,o,!0)}function dv(e){return e?ma(e)||cf(e)?dt({},e):e:null}function Ti(e,t,n=!1,i=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:l}=e,c=t?hv(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Sf(c),ref:t&&t.ref?n&&o?Fe(o)?o.concat(so(t)):[o,so(t)]:so(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Rt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ti(e.ssContent),ssFallback:e.ssFallback&&Ti(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&ba(u,l.clone(u)),u}function mi(e=" ",t=0){return Ft(Bo,null,e,t)}function kn(e="",t=!1){return t?(He(),No(Hn,null,e)):Ft(Hn,null,e)}function sn(e){return e==null||typeof e=="boolean"?Ft(Hn):Fe(e)?Ft(Rt,null,e.slice()):yo(e)?Un(e):Ft(Bo,null,String(e))}function Un(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ti(e)}function wa(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Fe(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),wa(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!cf(t)?t._ctx=Lt:r===3&&Lt&&(Lt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:Lt},n=32):(t=String(t),i&64?(n=16,t=[mi(t)]):n=8);e.children=t,e.shapeFlag|=n}function hv(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ln([t.class,i.class]));else if(r==="style")t.style=ua([t.style,i.style]);else if(Eo(r)){const o=t[r],s=i[r];s&&o!==s&&!(Fe(o)&&o.includes(s))&&(t[r]=o?[].concat(o,s):s)}else r!==""&&(t[r]=i[r])}return t}function tn(e,t,n,i=null){dn(e,t,7,[n,i])}const pv=of();let vv=0;function gv(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||pv,o={uid:vv++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Eu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ff(i,r),emitsOptions:sf(i,r),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:i.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Xp.bind(null,o),e.ce&&e.ce(o),o}let pt=null;const mv=()=>pt||Lt;let bo,Gs;{const e=_o(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),o=>{r.length>1?r.forEach(s=>s(o)):r[0](o)}};bo=t("__VUE_INSTANCE_SETTERS__",n=>pt=n),Gs=t("__VUE_SSR_SETTERS__",n=>yr=n)}const Ir=e=>{const t=pt;return bo(e),e.scope.on(),()=>{e.scope.off(),bo(t)}},el=()=>{pt&&pt.scope.off(),bo(null)};function xf(e){return e.vnode.shapeFlag&4}let yr=!1;function yv(e,t=!1,n=!1){t&&Gs(t);const{props:i,children:r}=e.vnode,o=xf(e);Qp(e,i,o,t),iv(e,r,n||t);const s=o?bv(e,t):void 0;return t&&Gs(!1),s}function bv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Np);const{setup:i}=n;if(i){An();const r=e.setupContext=i.length>1?xv(e):null,o=Ir(e),s=wr(i,e,0,[e.props,r]),a=yu(s);if(Pn(),o(),(a||e.sp)&&!nr(e)&&Ju(e),a){if(s.then(el,el),t)return s.then(l=>{tl(e,l)}).catch(l=>{Mo(l,e,0)});e.asyncDep=s}else tl(e,s)}else Cf(e)}function tl(e,t,n){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=Hu(t)),Cf(e)}function Cf(e,t,n){const i=e.type;e.render||(e.render=i.render||cn);{const r=Ir(e);An();try{Up(e)}finally{Pn(),r()}}}const Sv={get(e,t){return ht(e,"get",""),e[t]}};function xv(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Sv),slots:e.slots,emit:e.emit,expose:t}}function Uo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Hu(zu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ir)return ir[n](e)},has(t,n){return n in t||n in ir}})):e.proxy}function Cv(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function Fv(e){return Ie(e)&&"__vccOpts"in e}const nt=(e,t)=>up(e,t,yr);function Ff(e,t,n){try{mo(-1);const i=arguments.length;return i===2?qe(t)&&!Fe(t)?yo(t)?Ft(e,null,[t]):Ft(e,t):Ft(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&yo(n)&&(n=[n]),Ft(e,t,n))}finally{mo(1)}}const wv="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zs;const nl=typeof window<"u"&&window.trustedTypes;if(nl)try{zs=nl.createPolicy("vue",{createHTML:e=>e})}catch{}const wf=zs?e=>zs.createHTML(e):e=>e,Iv="http://www.w3.org/2000/svg",Ev="http://www.w3.org/1998/Math/MathML",yn=typeof document<"u"?document:null,il=yn&&yn.createElement("template"),kv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?yn.createElementNS(Iv,e):t==="mathml"?yn.createElementNS(Ev,e):n?yn.createElement(e,{is:n}):yn.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>yn.createTextNode(e),createComment:e=>yn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const s=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{il.innerHTML=wf(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=il.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Av=Symbol("_vtc");function Pv(e,t,n){const i=e[Av];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const rl=Symbol("_vod"),_v=Symbol("_vsh"),Ov=Symbol(""),Tv=/(?:^|;)\s*display\s*:/;function Rv(e,t,n){const i=e.style,r=st(n);let o=!1;if(n&&!r){if(t)if(st(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&ao(i,a,"")}else for(const s in t)n[s]==null&&ao(i,s,"");for(const s in n)s==="display"&&(o=!0),ao(i,s,n[s])}else if(r){if(t!==n){const s=i[Ov];s&&(n+=";"+s),i.cssText=n,o=Tv.test(n)}}else t&&e.removeAttribute("style");rl in e&&(e[rl]=o?i.display:"",e[_v]&&(i.display="none"))}const ol=/\s*!important$/;function ao(e,t,n){if(Fe(n))n.forEach(i=>ao(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Mv(e,t);ol.test(n)?e.setProperty(si(i),n.replace(ol,""),"important"):e[i]=n}}const sl=["Webkit","Moz","ms"],ns={};function Mv(e,t){const n=ns[t];if(n)return n;let i=jt(t);if(i!=="filter"&&i in e)return ns[t]=i;i=Po(i);for(let r=0;r<sl.length;r++){const o=sl[r]+i;if(o in e)return ns[t]=o}return t}const al="http://www.w3.org/1999/xlink";function ll(e,t,n,i,r,o=Bh(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(al,t.slice(6,t.length)):e.setAttributeNS(al,t,n):n==null||o&&!Fu(n)?e.removeAttribute(t):e.setAttribute(t,o?"":fn(n)?String(n):n)}function cl(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?wf(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Fu(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(r||t)}function If(e,t,n,i){e.addEventListener(t,n,i)}function Lv(e,t,n,i){e.removeEventListener(t,n,i)}const ul=Symbol("_vei");function Dv(e,t,n,i,r=null){const o=e[ul]||(e[ul]={}),s=o[t];if(i&&s)s.value=i;else{const[a,l]=Bv(t);if(i){const c=o[t]=Vv(i,r);If(e,a,c,l)}else s&&(Lv(e,a,s,l),o[t]=void 0)}}const fl=/(?:Once|Passive|Capture)$/;function Bv(e){let t;if(fl.test(e)){t={};let i;for(;i=e.match(fl);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):si(e.slice(2)),t]}let is=0;const Nv=Promise.resolve(),Uv=()=>is||(Nv.then(()=>is=0),is=Date.now());function Vv(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;dn(Gv(i,n.value),t,5,[i])};return n.value=e,n.attached=Uv(),n}function Gv(e,t){if(Fe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const dl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zv=(e,t,n,i,r,o)=>{const s=r==="svg";t==="class"?Pv(e,i,s):t==="style"?Rv(e,n,i):Eo(t)?aa(t)||Dv(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jv(e,t,i,s))?(cl(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ll(e,t,i,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!st(i))?cl(e,jt(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),ll(e,t,i,s))};function jv(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&dl(t)&&Ie(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return dl(t)&&st(n)?!1:t in e}const hl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Fe(t)?n=>ro(t,n):t},rs=Symbol("_assign"),pl={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=ko(t);If(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Cu(So(s)):So(s));e[rs](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,ii(()=>{e._assigning=!1})}),e[rs]=hl(i)},mounted(e,{value:t}){vl(e,t)},beforeUpdate(e,t,n){e[rs]=hl(n)},updated(e,{value:t}){e._assigning||vl(e,t)}};function vl(e,t){const n=e.multiple,i=Fe(t);if(!(n&&!i&&!ko(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=So(s);if(n)if(i){const l=typeof a;l==="string"||l==="number"?s.selected=t.some(c=>String(c)===String(a)):s.selected=Uh(t,a)>-1}else s.selected=t.has(a);else if(Oo(So(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function So(e){return"_value"in e?e._value:e.value}const Hv=["ctrl","shift","alt","meta"],$v={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hv.some(n=>e[`${n}Key`]&&!t.includes(n))},or=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...o)=>{for(let s=0;s<t.length;s++){const a=$v[t[s]];if(a&&a(r,t))return}return e(r,...o)})},Wv=dt({patchProp:zv},kv);let gl;function Xv(){return gl||(gl=ov(Wv))}const Kv=(...e)=>{const t=Xv().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Yv(i);if(!r)return;const o=t._component;!Ie(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=n(r,!1,qv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function qv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Yv(e){return st(e)?document.querySelector(e):e}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Zv=Symbol();var ml;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ml||(ml={}));function Jv(){const e=Vh(!0),t=e.run(()=>We({}));let n=[],i=[];const r=zu({install(o){r._a=o,o.provide(Zv,r),o.config.globalProperties.$pinia=r,i.forEach(s=>n.push(s)),i=[]},use(o){return this._a?n.push(o):i.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const yi=typeof document<"u";function Ef(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Qv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ef(e.default)}const Ue=Object.assign;function os(e,t){const n={};for(const i in t){const r=t[i];n[i]=Qt(r)?r.map(e):e(r)}return n}const sr=()=>{},Qt=Array.isArray;function yl(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const kf=/#/g,eg=/&/g,tg=/\//g,ng=/=/g,ig=/\?/g,Af=/\+/g,rg=/%5B/g,og=/%5D/g,Pf=/%5E/g,sg=/%60/g,_f=/%7B/g,ag=/%7C/g,Of=/%7D/g,lg=/%20/g;function Ia(e){return e==null?"":encodeURI(""+e).replace(ag,"|").replace(rg,"[").replace(og,"]")}function cg(e){return Ia(e).replace(_f,"{").replace(Of,"}").replace(Pf,"^")}function js(e){return Ia(e).replace(Af,"%2B").replace(lg,"+").replace(kf,"%23").replace(eg,"%26").replace(sg,"`").replace(_f,"{").replace(Of,"}").replace(Pf,"^")}function ug(e){return js(e).replace(ng,"%3D")}function fg(e){return Ia(e).replace(kf,"%23").replace(ig,"%3F")}function dg(e){return fg(e).replace(tg,"%2F")}function br(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const hg=/\/$/,pg=e=>e.replace(hg,"");function ss(e,t,n="/"){let i,r={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(i=t.slice(0,l),o=t.slice(l,a>0?a:t.length),r=e(o.slice(1))),a>=0&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=yg(i??t,n),{fullPath:i+o+s,path:i,query:r,hash:br(s)}}function vg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function bl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gg(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Ri(t.matched[i],n.matched[r])&&Tf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ri(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!mg(e[n],t[n]))return!1;return!0}function mg(e,t){return Qt(e)?Sl(e,t):Qt(t)?Sl(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Sl(e,t){return Qt(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function yg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s).join("/")}const Ln={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Hs=function(e){return e.pop="pop",e.push="push",e}({}),as=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function bg(e){if(!e)if(yi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pg(e)}const Sg=/^[^#]+#/;function xg(e,t){return e.replace(Sg,"#")+t}function Cg(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Vo=()=>({left:window.scrollX,top:window.scrollY});function Fg(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Cg(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function xl(e,t){return(history.state?history.state.position-t:-1)+e}const $s=new Map;function wg(e,t){$s.set(e,t)}function Ig(e){const t=$s.get(e);return $s.delete(e),t}function Eg(e){return typeof e=="string"||e&&typeof e=="object"}function Rf(e){return typeof e=="string"||typeof e=="symbol"}let tt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Mf=Symbol("");tt.MATCHER_NOT_FOUND+"",tt.NAVIGATION_GUARD_REDIRECT+"",tt.NAVIGATION_ABORTED+"",tt.NAVIGATION_CANCELLED+"",tt.NAVIGATION_DUPLICATED+"";function Mi(e,t){return Ue(new Error,{type:e,[Mf]:!0},t)}function pn(e,t){return e instanceof Error&&Mf in e&&(t==null||!!(e.type&t))}const kg=["params","query","hash"];function Ag(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of kg)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Pg(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(Af," "),o=r.indexOf("="),s=br(o<0?r:r.slice(0,o)),a=o<0?null:br(r.slice(o+1));if(s in t){let l=t[s];Qt(l)||(l=t[s]=[l]),l.push(a)}else t[s]=a}return t}function Cl(e){let t="";for(let n in e){const i=e[n];if(n=ug(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Qt(i)?i.map(r=>r&&js(r)):[i&&js(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function _g(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Qt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const Og=Symbol(""),Fl=Symbol(""),Ea=Symbol(""),Lf=Symbol(""),Ws=Symbol("");function zi(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Vn(e,t,n,i,r,o=s=>s()){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Mi(tt.NAVIGATION_ABORTED,{from:n,to:t})):d instanceof Error?l(d):Eg(d)?l(Mi(tt.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(s&&i.enterCallbacks[r]===s&&typeof d=="function"&&s.push(d),a())},u=o(()=>e.call(i&&i.instances[r],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function ls(e,t,n,i,r=o=>o()){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(Ef(l)){const c=(l.__vccOpts||l)[t];c&&o.push(Vn(c,n,i,s,a,r))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const f=Qv(u)?u.default:u;s.mods[a]=u,s.components[a]=f;const d=(f.__vccOpts||f)[t];return d&&Vn(d,n,i,s,a,r)()}))}}return o}function Tg(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(c=>Ri(c,a))?i.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(c=>Ri(c,l))||r.push(l))}return[n,i,r]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Rg=()=>location.protocol+"//"+location.host;function Df(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let s=r.includes(e.slice(o))?e.slice(o).length:1,a=r.slice(s);return a[0]!=="/"&&(a="/"+a),bl(a,"")}return bl(n,e)+i+r}function Mg(e,t,n,i){let r=[],o=[],s=null;const a=({state:d})=>{const h=Df(e,location),S=n.value,v=t.value;let E=0;if(d){if(n.value=h,t.value=d,s&&s===S){s=null;return}E=v?d.position-v.position:0}else i(h);r.forEach(b=>{b(n.value,S,{delta:E,type:Hs.pop,direction:E?E>0?as.forward:as.back:as.unknown})})};function l(){s=n.value}function c(d){r.push(d);const h=()=>{const S=r.indexOf(d);S>-1&&r.splice(S,1)};return o.push(h),h}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(Ue({},d.state,{scroll:Vo()}),"")}}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:f}}function wl(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Vo():null}}function Lg(e){const{history:t,location:n}=window,i={value:Df(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Rg()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function s(l,c){o(l,Ue({},t.state,wl(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),i.value=l}function a(l,c){const u=Ue({},r.value,t.state,{forward:l,scroll:Vo()});o(u.current,u,!0),o(l,Ue({},wl(i.value,l,null),{position:u.position+1},c),!1),i.value=l}return{location:i,state:r,push:a,replace:s}}function Dg(e){e=bg(e);const t=Lg(e),n=Mg(e,t.state,t.location,t.replace);function i(o,s=!0){s||n.pauseListeners(),history.go(o)}const r=Ue({location:"",base:e,go:i,createHref:xg.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let Qn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var at=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(at||{});const Bg={type:Qn.Static,value:""},Ng=/[a-zA-Z0-9_]/;function Ug(e){if(!e)return[[]];if(e==="/")return[[Bg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=at.Static,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===at.Static?o.push({type:Qn.Static,value:c}):n===at.Param||n===at.ParamRegExp||n===at.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Qn.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==at.ParamRegExp){i=n,n=at.EscapeNext;continue}switch(n){case at.Static:l==="/"?(c&&f(),s()):l===":"?(f(),n=at.Param):d();break;case at.EscapeNext:d(),n=i;break;case at.Param:l==="("?n=at.ParamRegExp:Ng.test(l)?d():(f(),n=at.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case at.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=at.ParamRegExpEnd:u+=l;break;case at.ParamRegExpEnd:f(),n=at.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===at.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),r}const Il="[^/]+?",Vg={sensitive:!1,strict:!1,start:!0,end:!0};var bt=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(bt||{});const Gg=/[.+*?^${}()[\]/\\]/g;function zg(e,t){const n=Ue({},Vg,t),i=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[bt.Root];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=bt.Segment+(n.sensitive?bt.BonusCaseSensitive:0);if(d.type===Qn.Static)f||(r+="/"),r+=d.value.replace(Gg,"\\$&"),h+=bt.Static;else if(d.type===Qn.Param){const{value:S,repeatable:v,optional:E,regexp:b}=d;o.push({name:S,repeatable:v,optional:E});const x=b||Il;if(x!==Il){h+=bt.BonusCustomRegExp;try{`${x}`}catch(y){throw new Error(`Invalid custom RegExp for param "${S}" (${x}): `+y.message)}}let w=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(w=E&&c.length<2?`(?:/${w})`:"/"+w),E&&(w+="?"),r+=w,h+=bt.Dynamic,E&&(h+=bt.BonusOptional),v&&(h+=bt.BonusRepeatable),x===".*"&&(h+=bt.BonusWildcard)}u.push(h)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=bt.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(s),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",S=o[d-1];f[S.name]=h&&S.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===Qn.Static)u+=h.value;else if(h.type===Qn.Param){const{value:S,repeatable:v,optional:E}=h,b=S in c?c[S]:"";if(Qt(b)&&!v)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const x=Qt(b)?b.join("/"):b;if(!x)if(E)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${S}"`);u+=x}}return u||"/"}return{re:s,score:i,keys:o,parse:a,stringify:l}}function jg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===bt.Static+bt.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===bt.Static+bt.Segment?1:-1:0}function Bf(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=jg(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(El(i))return 1;if(El(r))return-1}return r.length-i.length}function El(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Hg={strict:!1,end:!0,sensitive:!1};function $g(e,t,n){const i=zg(Ug(e.path),n),r=Ue(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Wg(e,t){const n=[],i=new Map;t=yl(Hg,t);function r(f){return i.get(f)}function o(f,d,h){const S=!h,v=Al(f);v.aliasOf=h&&h.record;const E=yl(t,f),b=[v];if("alias"in f){const y=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of y)b.push(Al(Ue({},v,{components:h?h.record.components:v.components,path:L,aliasOf:h?h.record:v})))}let x,w;for(const y of b){const{path:L}=y;if(d&&L[0]!=="/"){const I=d.record.path,A=I[I.length-1]==="/"?"":"/";y.path=d.record.path+(L&&A+L)}if(x=$g(y,d,E),h?h.alias.push(x):(w=w||x,w!==x&&w.alias.push(x),S&&f.name&&!Pl(x)&&s(f.name)),Nf(x)&&l(x),v.children){const I=v.children;for(let A=0;A<I.length;A++)o(I[A],x,h&&h.children[A])}h=h||x}return w?()=>{s(w)}:sr}function s(f){if(Rf(f)){const d=i.get(f);d&&(i.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function a(){return n}function l(f){const d=qg(f,n);n.splice(d,0,f),f.record.name&&!Pl(f)&&i.set(f.record.name,f)}function c(f,d){let h,S={},v,E;if("name"in f&&f.name){if(h=i.get(f.name),!h)throw Mi(tt.MATCHER_NOT_FOUND,{location:f});E=h.record.name,S=Ue(kl(d.params,h.keys.filter(w=>!w.optional).concat(h.parent?h.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),f.params&&kl(f.params,h.keys.map(w=>w.name))),v=h.stringify(S)}else if(f.path!=null)v=f.path,h=n.find(w=>w.re.test(v)),h&&(S=h.parse(v),E=h.record.name);else{if(h=d.name?i.get(d.name):n.find(w=>w.re.test(d.path)),!h)throw Mi(tt.MATCHER_NOT_FOUND,{location:f,currentLocation:d});E=h.record.name,S=Ue({},d.params,f.params),v=h.stringify(S)}const b=[];let x=h;for(;x;)b.unshift(x.record),x=x.parent;return{name:E,path:v,params:S,matched:b,meta:Kg(b)}}e.forEach(f=>o(f));function u(){n.length=0,i.clear()}return{addRoute:o,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function kl(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Al(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Xg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Xg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Pl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Kg(e){return e.reduce((t,n)=>Ue(t,n.meta),{})}function qg(e,t){let n=0,i=t.length;for(;n!==i;){const o=n+i>>1;Bf(e,t[o])<0?i=o:n=o+1}const r=Yg(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function Yg(e){let t=e;for(;t=t.parent;)if(Nf(t)&&Bf(e,t)===0)return t}function Nf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function _l(e){const t=En(Ea),n=En(Lf),i=nt(()=>{const l=ni(e.to);return t.resolve(l)}),r=nt(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Ri.bind(null,u));if(d>-1)return d;const h=Ol(l[c-2]);return c>1&&Ol(u)===h&&f[f.length-1].path!==h?f.findIndex(Ri.bind(null,l[c-2])):d}),o=nt(()=>r.value>-1&&t0(n.params,i.value.params)),s=nt(()=>r.value>-1&&r.value===n.matched.length-1&&Tf(n.params,i.value.params));function a(l={}){if(e0(l)){const c=t[ni(e.replace)?"replace":"push"](ni(e.to)).catch(sr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:nt(()=>i.value.href),isActive:o,isExactActive:s,navigate:a}}function Zg(e){return e.length===1?e[0]:e}const Jg=ai({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:_l,setup(e,{slots:t}){const n=Ro(_l(e)),{options:i}=En(Ea),r=nt(()=>({[Tl(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Tl(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&Zg(t.default(n));return e.custom?o:Ff("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Qg=Jg;function e0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function t0(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Qt(r)||r.length!==i.length||i.some((o,s)=>o.valueOf()!==r[s].valueOf()))return!1}return!0}function Ol(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Tl=(e,t,n)=>e??t??n,n0=ai({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=En(Ws),r=nt(()=>e.route||i.value),o=En(Fl,0),s=nt(()=>{let c=ni(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=nt(()=>r.value.matched[s.value]);oo(Fl,nt(()=>s.value+1)),oo(Og,a),oo(Ws,r);const l=We();return Ei(()=>[l.value,a.value,e.name],([c,u,f],[d,h,S])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ri(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Rl(n.default,{Component:d,route:c});const h=f.props[u],S=h?h===!0?c.params:typeof h=="function"?h(c):h:null,E=Ff(d,Ue({},S,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Rl(n.default,{Component:E,route:c})||E}}});function Rl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Uf=n0;function i0(e){const t=Wg(e.routes,e),n=e.parseQuery||Pg,i=e.stringifyQuery||Cl,r=e.history,o=zi(),s=zi(),a=zi(),l=sp(Ln);let c=Ln;yi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=os.bind(null,R=>""+R),f=os.bind(null,dg),d=os.bind(null,br);function h(R,j){let M,U;return Rf(R)?(M=t.getRecordMatcher(R),U=j):U=R,t.addRoute(U,M)}function S(R){const j=t.getRecordMatcher(R);j&&t.removeRoute(j)}function v(){return t.getRoutes().map(R=>R.record)}function E(R){return!!t.getRecordMatcher(R)}function b(R,j){if(j=Ue({},j||l.value),typeof R=="string"){const p=ss(n,R,j.path),C=t.resolve({path:p.path},j),k=r.createHref(p.fullPath);return Ue(p,C,{params:d(C.params),hash:br(p.hash),redirectedFrom:void 0,href:k})}let M;if(R.path!=null)M=Ue({},R,{path:ss(n,R.path,j.path).path});else{const p=Ue({},R.params);for(const C in p)p[C]==null&&delete p[C];M=Ue({},R,{params:f(p)}),j.params=f(j.params)}const U=t.resolve(M,j),oe=R.hash||"";U.params=u(d(U.params));const m=vg(i,Ue({},R,{hash:cg(oe),path:U.path})),F=r.createHref(m);return Ue({fullPath:m,hash:oe,query:i===Cl?_g(R.query):R.query||{}},U,{redirectedFrom:void 0,href:F})}function x(R){return typeof R=="string"?ss(n,R,l.value.path):Ue({},R)}function w(R,j){if(c!==R)return Mi(tt.NAVIGATION_CANCELLED,{from:j,to:R})}function y(R){return A(R)}function L(R){return y(Ue(x(R),{replace:!0}))}function I(R,j){const M=R.matched[R.matched.length-1];if(M&&M.redirect){const{redirect:U}=M;let oe=typeof U=="function"?U(R,j):U;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=x(oe):{path:oe},oe.params={}),Ue({query:R.query,hash:R.hash,params:oe.path!=null?{}:R.params},oe)}}function A(R,j){const M=c=b(R),U=l.value,oe=R.state,m=R.force,F=R.replace===!0,p=I(M,U);if(p)return A(Ue(x(p),{state:typeof p=="object"?Ue({},oe,p.state):oe,force:m,replace:F}),j||M);const C=M;C.redirectedFrom=j;let k;return!m&&gg(i,U,M)&&(k=Mi(tt.NAVIGATION_DUPLICATED,{to:C,from:U}),Ce(U,U,!0,!1)),(k?Promise.resolve(k):V(C,U)).catch(P=>pn(P)?pn(P,tt.NAVIGATION_GUARD_REDIRECT)?P:ve(P):ue(P,C,U)).then(P=>{if(P){if(pn(P,tt.NAVIGATION_GUARD_REDIRECT))return A(Ue({replace:F},x(P.to),{state:typeof P.to=="object"?Ue({},oe,P.to.state):oe,force:m}),j||C)}else P=ne(C,U,!0,F,oe);return G(C,U,P),P})}function B(R,j){const M=w(R,j);return M?Promise.reject(M):Promise.resolve()}function N(R){const j=ye.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(R):R()}function V(R,j){let M;const[U,oe,m]=Tg(R,j);M=ls(U.reverse(),"beforeRouteLeave",R,j);for(const p of U)p.leaveGuards.forEach(C=>{M.push(Vn(C,R,j))});const F=B.bind(null,R,j);return M.push(F),we(M).then(()=>{M=[];for(const p of o.list())M.push(Vn(p,R,j));return M.push(F),we(M)}).then(()=>{M=ls(oe,"beforeRouteUpdate",R,j);for(const p of oe)p.updateGuards.forEach(C=>{M.push(Vn(C,R,j))});return M.push(F),we(M)}).then(()=>{M=[];for(const p of m)if(p.beforeEnter)if(Qt(p.beforeEnter))for(const C of p.beforeEnter)M.push(Vn(C,R,j));else M.push(Vn(p.beforeEnter,R,j));return M.push(F),we(M)}).then(()=>(R.matched.forEach(p=>p.enterCallbacks={}),M=ls(m,"beforeRouteEnter",R,j,N),M.push(F),we(M))).then(()=>{M=[];for(const p of s.list())M.push(Vn(p,R,j));return M.push(F),we(M)}).catch(p=>pn(p,tt.NAVIGATION_CANCELLED)?p:Promise.reject(p))}function G(R,j,M){a.list().forEach(U=>N(()=>U(R,j,M)))}function ne(R,j,M,U,oe){const m=w(R,j);if(m)return m;const F=j===Ln,p=yi?history.state:{};M&&(U||F?r.replace(R.fullPath,Ue({scroll:F&&p&&p.scroll},oe)):r.push(R.fullPath,oe)),l.value=R,Ce(R,j,M,F),ve()}let ee;function ce(){ee||(ee=r.listen((R,j,M)=>{if(!ge.listening)return;const U=b(R),oe=I(U,ge.currentRoute.value);if(oe){A(Ue(oe,{replace:!0,force:!0}),U).catch(sr);return}c=U;const m=l.value;yi&&wg(xl(m.fullPath,M.delta),Vo()),V(U,m).catch(F=>pn(F,tt.NAVIGATION_ABORTED|tt.NAVIGATION_CANCELLED)?F:pn(F,tt.NAVIGATION_GUARD_REDIRECT)?(A(Ue(x(F.to),{force:!0}),U).then(p=>{pn(p,tt.NAVIGATION_ABORTED|tt.NAVIGATION_DUPLICATED)&&!M.delta&&M.type===Hs.pop&&r.go(-1,!1)}).catch(sr),Promise.reject()):(M.delta&&r.go(-M.delta,!1),ue(F,U,m))).then(F=>{F=F||ne(U,m,!1),F&&(M.delta&&!pn(F,tt.NAVIGATION_CANCELLED)?r.go(-M.delta,!1):M.type===Hs.pop&&pn(F,tt.NAVIGATION_ABORTED|tt.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),G(U,m,F)}).catch(sr)}))}let de=zi(),J=zi(),q;function ue(R,j,M){ve(R);const U=J.list();return U.length?U.forEach(oe=>oe(R,j,M)):console.error(R),Promise.reject(R)}function Pe(){return q&&l.value!==Ln?Promise.resolve():new Promise((R,j)=>{de.add([R,j])})}function ve(R){return q||(q=!R,ce(),de.list().forEach(([j,M])=>R?M(R):j()),de.reset()),R}function Ce(R,j,M,U){const{scrollBehavior:oe}=e;if(!yi||!oe)return Promise.resolve();const m=!M&&Ig(xl(R.fullPath,0))||(U||!M)&&history.state&&history.state.scroll||null;return ii().then(()=>oe(R,j,m)).then(F=>F&&Fg(F)).catch(F=>ue(F,R,j))}const Ee=R=>r.go(R);let Ze;const ye=new Set,ge={currentRoute:l,listening:!0,addRoute:h,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:E,getRoutes:v,resolve:b,options:e,push:y,replace:L,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:J.add,isReady:Pe,install(R){R.component("RouterLink",Qg),R.component("RouterView",Uf),R.config.globalProperties.$router=ge,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>ni(l)}),yi&&!Ze&&l.value===Ln&&(Ze=!0,y(r.location).catch(U=>{}));const j={};for(const U in Ln)Object.defineProperty(j,U,{get:()=>l.value[U],enumerable:!0});R.provide(Ea,ge),R.provide(Lf,Gu(j)),R.provide(Ws,l);const M=R.unmount;ye.add(R),R.unmount=function(){ye.delete(R),ye.size<1&&(c=Ln,ee&&ee(),ee=null,l.value=Ln,Ze=!1,q=!1),M()}}};function we(R){return R.reduce((j,M)=>j.then(()=>N(M)),Promise.resolve())}return ge}const r0=ai({__name:"App",setup(e){return(t,n)=>(He(),No(ni(Uf)))}});function Ni(e){let t=e.length;for(;--t>=0;)e[t]=0}const o0=3,s0=258,Vf=29,a0=256,l0=a0+1+Vf,Gf=30,c0=512,u0=new Array((l0+2)*2);Ni(u0);const f0=new Array(Gf*2);Ni(f0);const d0=new Array(c0);Ni(d0);const h0=new Array(s0-o0+1);Ni(h0);const p0=new Array(Vf);Ni(p0);const v0=new Array(Gf);Ni(v0);const g0=(e,t,n,i)=>{let r=e&65535|0,o=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do r=r+t[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0};var Xs=g0;const m0=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},y0=new Uint32Array(m0()),b0=(e,t,n,i)=>{const r=y0,o=i+n;e^=-1;for(let s=i;s<o;s++)e=e>>>8^r[(e^t[s])&255];return e^-1};var nn=b0,Ks={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zf={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const S0=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var x0=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)S0(n,i)&&(e[i]=n[i])}}return e},C0=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,o=e.length;i<o;i++){let s=e[i];n.set(s,r),r+=s.length}return n},jf={assign:x0,flattenChunks:C0};let Hf=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hf=!1}const Sr=new Uint8Array(256);for(let e=0;e<256;e++)Sr[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Sr[254]=Sr[254]=1;var F0=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,o,s=e.length,a=0;for(r=0;r<s;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const w0=(e,t)=>{if(t<65534&&e.subarray&&Hf)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var I0=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const o=new Array(n*2);for(r=0,i=0;i<n;){let s=e[i++];if(s<128){o[r++]=s;continue}let a=Sr[s];if(a>4){o[r++]=65533,i+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&i<n;)s=s<<6|e[i++]&63,a--;if(a>1){o[r++]=65533;continue}s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|s&1023)}return w0(o,r)},E0=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Sr[e[n]]>t?n:t},qs={string2buf:F0,buf2string:I0,utf8border:E0};function k0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var A0=k0;const Mr=16209,P0=16191;var _0=function(t,n){let i,r,o,s,a,l,c,u,f,d,h,S,v,E,b,x,w,y,L,I,A,B,N,V;const G=t.state;i=t.next_in,N=t.input,r=i+(t.avail_in-5),o=t.next_out,V=t.output,s=o-(n-t.avail_out),a=o+(t.avail_out-257),l=G.dmax,c=G.wsize,u=G.whave,f=G.wnext,d=G.window,h=G.hold,S=G.bits,v=G.lencode,E=G.distcode,b=(1<<G.lenbits)-1,x=(1<<G.distbits)-1;e:do{S<15&&(h+=N[i++]<<S,S+=8,h+=N[i++]<<S,S+=8),w=v[h&b];t:for(;;){if(y=w>>>24,h>>>=y,S-=y,y=w>>>16&255,y===0)V[o++]=w&65535;else if(y&16){L=w&65535,y&=15,y&&(S<y&&(h+=N[i++]<<S,S+=8),L+=h&(1<<y)-1,h>>>=y,S-=y),S<15&&(h+=N[i++]<<S,S+=8,h+=N[i++]<<S,S+=8),w=E[h&x];n:for(;;){if(y=w>>>24,h>>>=y,S-=y,y=w>>>16&255,y&16){if(I=w&65535,y&=15,S<y&&(h+=N[i++]<<S,S+=8,S<y&&(h+=N[i++]<<S,S+=8)),I+=h&(1<<y)-1,I>l){t.msg="invalid distance too far back",G.mode=Mr;break e}if(h>>>=y,S-=y,y=o-s,I>y){if(y=I-y,y>u&&G.sane){t.msg="invalid distance too far back",G.mode=Mr;break e}if(A=0,B=d,f===0){if(A+=c-y,y<L){L-=y;do V[o++]=d[A++];while(--y);A=o-I,B=V}}else if(f<y){if(A+=c+f-y,y-=f,y<L){L-=y;do V[o++]=d[A++];while(--y);if(A=0,f<L){y=f,L-=y;do V[o++]=d[A++];while(--y);A=o-I,B=V}}}else if(A+=f-y,y<L){L-=y;do V[o++]=d[A++];while(--y);A=o-I,B=V}for(;L>2;)V[o++]=B[A++],V[o++]=B[A++],V[o++]=B[A++],L-=3;L&&(V[o++]=B[A++],L>1&&(V[o++]=B[A++]))}else{A=o-I;do V[o++]=V[A++],V[o++]=V[A++],V[o++]=V[A++],L-=3;while(L>2);L&&(V[o++]=V[A++],L>1&&(V[o++]=V[A++]))}}else if(y&64){t.msg="invalid distance code",G.mode=Mr;break e}else{w=E[(w&65535)+(h&(1<<y)-1)];continue n}break}}else if(y&64)if(y&32){G.mode=P0;break e}else{t.msg="invalid literal/length code",G.mode=Mr;break e}else{w=v[(w&65535)+(h&(1<<y)-1)];continue t}break}}while(i<r&&o<a);L=S>>3,i-=L,S-=L<<3,h&=(1<<S)-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=o<a?257+(a-o):257-(o-a),G.hold=h,G.bits=S};const ui=15,Ml=852,Ll=592,Dl=0,cs=1,Bl=2,O0=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),T0=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),R0=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),M0=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),L0=(e,t,n,i,r,o,s,a)=>{const l=a.bits;let c=0,u=0,f=0,d=0,h=0,S=0,v=0,E=0,b=0,x=0,w,y,L,I,A,B=null,N;const V=new Uint16Array(ui+1),G=new Uint16Array(ui+1);let ne=null,ee,ce,de;for(c=0;c<=ui;c++)V[c]=0;for(u=0;u<i;u++)V[t[n+u]]++;for(h=l,d=ui;d>=1&&V[d]===0;d--);if(h>d&&(h=d),d===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&V[f]===0;f++);for(h<f&&(h=f),E=1,c=1;c<=ui;c++)if(E<<=1,E-=V[c],E<0)return-1;if(E>0&&(e===Dl||d!==1))return-1;for(G[1]=0,c=1;c<ui;c++)G[c+1]=G[c]+V[c];for(u=0;u<i;u++)t[n+u]!==0&&(s[G[t[n+u]]++]=u);if(e===Dl?(B=ne=s,N=20):e===cs?(B=O0,ne=T0,N=257):(B=R0,ne=M0,N=0),x=0,u=0,c=f,A=o,S=h,v=0,L=-1,b=1<<h,I=b-1,e===cs&&b>Ml||e===Bl&&b>Ll)return 1;for(;;){ee=c-v,s[u]+1<N?(ce=0,de=s[u]):s[u]>=N?(ce=ne[s[u]-N],de=B[s[u]-N]):(ce=96,de=0),w=1<<c-v,y=1<<S,f=y;do y-=w,r[A+(x>>v)+y]=ee<<24|ce<<16|de|0;while(y!==0);for(w=1<<c-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,u++,--V[c]===0){if(c===d)break;c=t[n+s[u]]}if(c>h&&(x&I)!==L){for(v===0&&(v=h),A+=f,S=c-v,E=1<<S;S+v<d&&(E-=V[S+v],!(E<=0));)S++,E<<=1;if(b+=1<<S,e===cs&&b>Ml||e===Bl&&b>Ll)return 1;L=x&I,r[L]=h<<24|S<<16|A-o|0}}return x!==0&&(r[A+x]=c-v<<24|64<<16|0),a.bits=h,0};var ar=L0;const D0=0,$f=1,Wf=2,{Z_FINISH:Nl,Z_BLOCK:B0,Z_TREES:Lr,Z_OK:ri,Z_STREAM_END:N0,Z_NEED_DICT:U0,Z_STREAM_ERROR:Ht,Z_DATA_ERROR:Xf,Z_MEM_ERROR:Kf,Z_BUF_ERROR:V0,Z_DEFLATED:Ul}=zf,Go=16180,Vl=16181,Gl=16182,zl=16183,jl=16184,Hl=16185,$l=16186,Wl=16187,Xl=16188,Kl=16189,xo=16190,vn=16191,us=16192,ql=16193,fs=16194,Yl=16195,Zl=16196,Jl=16197,Ql=16198,Dr=16199,Br=16200,ec=16201,tc=16202,nc=16203,ic=16204,rc=16205,ds=16206,oc=16207,sc=16208,Je=16209,qf=16210,Yf=16211,G0=852,z0=592,j0=15,H0=j0,ac=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $0(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const li=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Go||t.mode>Yf?1:0},Zf=e=>{if(li(e))return Ht;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Go,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(G0),t.distcode=t.distdyn=new Int32Array(z0),t.sane=1,t.back=-1,ri},Jf=e=>{if(li(e))return Ht;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Zf(e)},Qf=(e,t)=>{let n;if(li(e))return Ht;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ht:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Jf(e))},ed=(e,t)=>{if(!e)return Ht;const n=new $0;e.state=n,n.strm=e,n.window=null,n.mode=Go;const i=Qf(e,t);return i!==ri&&(e.state=null),i},W0=e=>ed(e,H0);let lc=!0,hs,ps;const X0=e=>{if(lc){hs=new Int32Array(512),ps=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ar($f,e.lens,0,288,hs,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ar(Wf,e.lens,0,32,ps,0,e.work,{bits:5}),lc=!1}e.lencode=hs,e.lenbits=9,e.distcode=ps,e.distbits=5},td=(e,t,n,i)=>{let r;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),i-=r,i?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},K0=(e,t)=>{let n,i,r,o,s,a,l,c,u,f,d,h,S,v,E=0,b,x,w,y,L,I,A,B;const N=new Uint8Array(4);let V,G;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(li(e)||!e.output||!e.input&&e.avail_in!==0)return Ht;n=e.state,n.mode===vn&&(n.mode=us),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,c=n.hold,u=n.bits,f=a,d=l,B=ri;e:for(;;)switch(n.mode){case Go:if(n.wrap===0){n.mode=us;break}for(;u<16;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=c&255,N[1]=c>>>8&255,n.check=nn(n.check,N,2,0),c=0,u=0,n.mode=Vl;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Je;break}if((c&15)!==Ul){e.msg="unknown compression method",n.mode=Je;break}if(c>>>=4,u-=4,A=(c&15)+8,n.wbits===0&&(n.wbits=A),A>15||A>n.wbits){e.msg="invalid window size",n.mode=Je;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?Kl:vn,c=0,u=0;break;case Vl:for(;u<16;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==Ul){e.msg="unknown compression method",n.mode=Je;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Je;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=nn(n.check,N,2,0)),c=0,u=0,n.mode=Gl;case Gl:for(;u<32;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,n.check=nn(n.check,N,4,0)),c=0,u=0,n.mode=zl;case zl:for(;u<16;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=nn(n.check,N,2,0)),c=0,u=0,n.mode=jl;case jl:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=nn(n.check,N,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Hl;case Hl:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),A)),n.flags&512&&n.wrap&4&&(n.check=nn(n.check,i,h,o)),a-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=$l;case $l:if(n.flags&2048){if(a===0)break e;h=0;do A=i[o+h++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A));while(A&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=nn(n.check,i,h,o)),a-=h,o+=h,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Wl;case Wl:if(n.flags&4096){if(a===0)break e;h=0;do A=i[o+h++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A));while(A&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=nn(n.check,i,h,o)),a-=h,o+=h,A)break e}else n.head&&(n.head.comment=null);n.mode=Xl;case Xl:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Je;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=vn;break;case Kl:for(;u<32;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}e.adler=n.check=ac(c),c=0,u=0,n.mode=xo;case xo:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,U0;e.adler=n.check=1,n.mode=vn;case vn:if(t===B0||t===Lr)break e;case us:if(n.last){c>>>=u&7,u-=u&7,n.mode=ds;break}for(;u<3;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=ql;break;case 1:if(X0(n),n.mode=Dr,t===Lr){c>>>=2,u-=2;break e}break;case 2:n.mode=Zl;break;case 3:e.msg="invalid block type",n.mode=Je}c>>>=2,u-=2;break;case ql:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Je;break}if(n.length=c&65535,c=0,u=0,n.mode=fs,t===Lr)break e;case fs:n.mode=Yl;case Yl:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;r.set(i.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,n.length-=h;break}n.mode=vn;break;case Zl:for(;u<14;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Je;break}n.have=0,n.mode=Jl;case Jl:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.lens[ne[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[ne[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,V={bits:n.lenbits},B=ar(D0,n.lens,0,19,n.lencode,0,n.work,V),n.lenbits=V.bits,B){e.msg="invalid code lengths set",n.mode=Je;break}n.have=0,n.mode=Ql;case Ql:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],b=E>>>24,x=E>>>16&255,w=E&65535,!(b<=u);){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(w<16)c>>>=b,u-=b,n.lens[n.have++]=w;else{if(w===16){for(G=b+2;u<G;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(c>>>=b,u-=b,n.have===0){e.msg="invalid bit length repeat",n.mode=Je;break}A=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(w===17){for(G=b+3;u<G;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}c>>>=b,u-=b,A=0,h=3+(c&7),c>>>=3,u-=3}else{for(G=b+7;u<G;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}c>>>=b,u-=b,A=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Je;break}for(;h--;)n.lens[n.have++]=A}}if(n.mode===Je)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Je;break}if(n.lenbits=9,V={bits:n.lenbits},B=ar($f,n.lens,0,n.nlen,n.lencode,0,n.work,V),n.lenbits=V.bits,B){e.msg="invalid literal/lengths set",n.mode=Je;break}if(n.distbits=6,n.distcode=n.distdyn,V={bits:n.distbits},B=ar(Wf,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,V),n.distbits=V.bits,B){e.msg="invalid distances set",n.mode=Je;break}if(n.mode=Dr,t===Lr)break e;case Dr:n.mode=Br;case Br:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,_0(e,d),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===vn&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],b=E>>>24,x=E>>>16&255,w=E&65535,!(b<=u);){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(x&&!(x&240)){for(y=b,L=x,I=w;E=n.lencode[I+((c&(1<<y+L)-1)>>y)],b=E>>>24,x=E>>>16&255,w=E&65535,!(y+b<=u);){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=b,u-=b,n.back+=b,n.length=w,x===0){n.mode=rc;break}if(x&32){n.back=-1,n.mode=vn;break}if(x&64){e.msg="invalid literal/length code",n.mode=Je;break}n.extra=x&15,n.mode=ec;case ec:if(n.extra){for(G=n.extra;u<G;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tc;case tc:for(;E=n.distcode[c&(1<<n.distbits)-1],b=E>>>24,x=E>>>16&255,w=E&65535,!(b<=u);){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(!(x&240)){for(y=b,L=x,I=w;E=n.distcode[I+((c&(1<<y+L)-1)>>y)],b=E>>>24,x=E>>>16&255,w=E&65535,!(y+b<=u);){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=b,u-=b,n.back+=b,x&64){e.msg="invalid distance code",n.mode=Je;break}n.offset=w,n.extra=x&15,n.mode=nc;case nc:if(n.extra){for(G=n.extra;u<G;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Je;break}n.mode=ic;case ic:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Je;break}h>n.wnext?(h-=n.wnext,S=n.wsize-h):S=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=r,S=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do r[s++]=v[S++];while(--h);n.length===0&&(n.mode=Br);break;case rc:if(l===0)break e;r[s++]=n.length,l--,n.mode=Br;break;case ds:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=i[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?nn(n.check,r,d,s-d):Xs(n.check,r,d,s-d)),d=l,n.wrap&4&&(n.flags?c:ac(c))!==n.check){e.msg="incorrect data check",n.mode=Je;break}c=0,u=0}n.mode=oc;case oc:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=i[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Je;break}c=0,u=0}n.mode=sc;case sc:B=N0;break e;case Je:B=Xf;break e;case qf:return Kf;case Yf:default:return Ht}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<Je&&(n.mode<ds||t!==Nl))&&td(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?nn(n.check,r,d,e.next_out-d):Xs(n.check,r,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===vn?128:0)+(n.mode===Dr||n.mode===fs?256:0),(f===0&&d===0||t===Nl)&&B===ri&&(B=V0),B},q0=e=>{if(li(e))return Ht;let t=e.state;return t.window&&(t.window=null),e.state=null,ri},Y0=(e,t)=>{if(li(e))return Ht;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,ri):Ht},Z0=(e,t)=>{const n=t.length;let i,r,o;return li(e)||(i=e.state,i.wrap!==0&&i.mode!==xo)?Ht:i.mode===xo&&(r=1,r=Xs(r,t,n,0),r!==i.check)?Xf:(o=td(e,t,n,n),o?(i.mode=qf,Kf):(i.havedict=1,ri))};var J0=Jf,Q0=Qf,em=Zf,tm=W0,nm=ed,im=K0,rm=q0,om=Y0,sm=Z0,am="pako inflate (from Nodeca project)",bn={inflateReset:J0,inflateReset2:Q0,inflateResetKeep:em,inflateInit:tm,inflateInit2:nm,inflate:im,inflateEnd:rm,inflateGetHeader:om,inflateSetDictionary:sm,inflateInfo:am};function lm(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cm=lm;const nd=Object.prototype.toString,{Z_NO_FLUSH:um,Z_FINISH:fm,Z_OK:xr,Z_STREAM_END:vs,Z_NEED_DICT:gs,Z_STREAM_ERROR:dm,Z_DATA_ERROR:cc,Z_MEM_ERROR:hm}=zf;function zo(e){this.options=jf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A0,this.strm.avail_out=0;let n=bn.inflateInit2(this.strm,t.windowBits);if(n!==xr)throw new Error(Ks[n]);if(this.header=new cm,bn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=qs.string2buf(t.dictionary):nd.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=bn.inflateSetDictionary(this.strm,t.dictionary),n!==xr)))throw new Error(Ks[n])}zo.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?fm:um,nd.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=bn.inflate(n,s),o===gs&&r&&(o=bn.inflateSetDictionary(n,r),o===xr?o=bn.inflate(n,s):o===cc&&(o=gs));n.avail_in>0&&o===vs&&n.state.wrap>0&&e[n.next_in]!==0;)bn.inflateReset(n),o=bn.inflate(n,s);switch(o){case dm:case cc:case gs:case hm:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===vs))if(this.options.to==="string"){let l=qs.utf8border(n.output,n.next_out),c=n.next_out-l,u=qs.buf2string(n.output,l);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===xr&&a===0)){if(o===vs)return o=bn.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};zo.prototype.onData=function(e){this.chunks.push(e)};zo.prototype.onEnd=function(e){e===xr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pm(e,t){const n=new zo(t);if(n.push(e),n.err)throw n.msg||Ks[n.err];return n.result}var vm=pm,gm={inflate:vm};const{inflate:mm}=gm;var ym=mm,lr=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Nr=4017,Ur=799,Vr=3406,Gr=2276,zr=1567,jr=3784,fi=5793,Hr=2896,bm=100,uc=64*1024*1024,Ys=0;function Ai(e){var t=Ys+e;if(t>uc){var n=Math.ceil((t-uc)/1024/1024);throw new Error("Max memory limit exceeded by at least ".concat(n,"MB"))}Ys=t}function Sm(e,t){for(var n=16;n>0&&!e[n-1];)n--;for(var i=[{children:[],index:0}],r=0,o=i[0],s=0;s<n;s++){for(var a=0;a<e[s];a++){for(o=i.pop(),o.children[o.index]=t[r];o.index>0;){if(i.length===0)throw new Error("Could not recreate Huffman Table");o=i.pop()}for(o.index++,i.push(o);i.length<=s;){var l={children:[],index:0};i.push(l),o.children[o.index]=l.children,o=l}r++}if(s+1<n){var l={children:[],index:0};i.push(l),o.children[o.index]=l.children,o=l}}return i[0].children}function xm(e,t,n,i,r,o,s,a,l){var c=n.mcusPerLine,u=n.progressive,f=t,d=0,h=0;function S(){if(h>0)return h--,d>>h&1;if(d=e[t++],d==255){var ye=e[t++];if(ye)throw new Error("unexpected marker: ".concat((d<<8|ye).toString(16)))}return h=7,d>>>7}function v(ye){for(var ge=ye;;){if(ge=ge[S()],typeof ge=="number")return ge;if(ge===void 0)throw new Error("invalid huffman sequence")}}function E(ye){for(var ge=0;ye>0;)ge=ge<<1|S(),ye--;return ge}function b(ye){var ge=E(ye);return ge>=1<<ye-1?ge:ge+(-1<<ye)+1}function x(ye,ge){var we=v(ye.huffmanTableDC),R=we===0?0:b(we);ge[0]=ye.pred+=R;for(var j=1;j<64;){var M=v(ye.huffmanTableAC),U=M&15,oe=M>>4;if(U===0){if(oe<15)break;j+=16;continue}j+=oe;var m=lr[j];ge[m]=b(U),j++}}function w(ye,ge){var we=v(ye.huffmanTableDC),R=we===0?0:b(we)<<l;ge[0]=ye.pred+=R}function y(ye,ge){ge[0]|=S()<<l}var L=0;function I(ye,ge){if(L>0){L--;return}for(var we=o,R=s;we<=R;){var j=v(ye.huffmanTableAC),M=j&15,U=j>>4;if(M===0){if(U<15){L=E(U)+(1<<U)-1;break}we+=16;continue}we+=U;var oe=lr[we];ge[oe]=b(M)*(1<<l),we++}}var A=0,B=0;function N(ye,ge){for(var we=o,R=s,j=0;we<=R;){var M=lr[we],U=ge[M]<0?-1:1;switch(A){case 0:var oe=v(ye.huffmanTableAC),m=oe&15;if(j=oe>>4,m===0)j<15?(L=E(j)+(1<<j),A=4):(j=16,A=1);else{if(m!==1)throw new Error("invalid ACn encoding");B=b(m),A=j?2:3}continue;case 1:case 2:ge[M]?ge[M]+=(S()<<l)*U:(j--,j===0&&(A=A==2?3:0));break;case 3:ge[M]?ge[M]+=(S()<<l)*U:(ge[M]=B<<l,A=0);break;case 4:ge[M]&&(ge[M]+=(S()<<l)*U);break}we++}A===4&&(L--,L===0&&(A=0))}function V(ye,ge,we,R,j){var M=we/c|0,U=we%c,oe=M*ye.v+R,m=U*ye.h+j;ye.blocks[oe]!==void 0&&ge(ye,ye.blocks[oe][m])}function G(ye,ge,we){var R=we/ye.blocksPerLine|0,j=we%ye.blocksPerLine;ye.blocks[R]!==void 0&&ge(ye,ye.blocks[R][j])}var ne=i.length,ee,ce;u?o===0?ce=a===0?w:y:ce=a===0?I:N:ce=x;var de=0,J;ne==1?J=i[0].blocksPerLine*i[0].blocksPerColumn:J=c*n.mcusPerColumn,r||(r=J);for(var q,ue,Pe;de<J;){for(var ve=0;ve<ne;ve++)i[ve].pred=0;if(L=0,ne==1){ee=i[0];for(var Ce=0;Ce<r;Ce++)G(ee,ce,de),de++}else for(var Ce=0;Ce<r;Ce++){for(var ve=0;ve<ne;ve++){ee=i[ve],q=ee.h,ue=ee.v;for(var Ee=0;Ee<ue;Ee++)for(var Ze=0;Ze<q;Ze++)V(ee,ce,de,Ee,Ze)}if(de++,de===J)break}if(de===J)do{if(e[t]===255&&e[t+1]!==0)break;t+=1}while(t<e.length-2);if(h=0,Pe=e[t]<<8|e[t+1],Pe<65280)throw new Error("marker was not found");if(Pe>=65488&&Pe<=65495)t+=2;else break}return t-f}function Cm(e){var t=[],n=e.blocksPerLine,i=e.blocksPerColumn,r=n<<3,o=new Int32Array(64),s=new Uint8Array(64);function a(E,b,x){for(var w=e.quantizationTable,y=x,L=0;L<64;L++)y[L]=E[L]*w[L];for(var L=0;L<8;++L){var I=8*L;if(y[1+I]==0&&y[2+I]==0&&y[3+I]==0&&y[4+I]==0&&y[5+I]==0&&y[6+I]==0&&y[7+I]==0){var A=fi*y[0+I]+512>>10;y[0+I]=A,y[1+I]=A,y[2+I]=A,y[3+I]=A,y[4+I]=A,y[5+I]=A,y[6+I]=A,y[7+I]=A;continue}var B=fi*y[0+I]+128>>8,N=fi*y[4+I]+128>>8,V=y[2+I],G=y[6+I],ne=Hr*(y[1+I]-y[7+I])+128>>8,ee=Hr*(y[1+I]+y[7+I])+128>>8,ce=y[3+I]<<4,de=y[5+I]<<4,J=B-N+1>>1;B=B+N+1>>1,N=J,J=V*jr+G*zr+128>>8,V=V*zr-G*jr+128>>8,G=J,J=ne-de+1>>1,ne=ne+de+1>>1,de=J,J=ee+ce+1>>1,ce=ee-ce+1>>1,ee=J,J=B-G+1>>1,B=B+G+1>>1,G=J,J=N-V+1>>1,N=N+V+1>>1,V=J,J=ne*Gr+ee*Vr+2048>>12,ne=ne*Vr-ee*Gr+2048>>12,ee=J,J=ce*Ur+de*Nr+2048>>12,ce=ce*Nr-de*Ur+2048>>12,de=J,y[0+I]=B+ee,y[7+I]=B-ee,y[1+I]=N+de,y[6+I]=N-de,y[2+I]=V+ce,y[5+I]=V-ce,y[3+I]=G+ne,y[4+I]=G-ne}for(var L=0;L<8;++L){var q=L;if(y[1*8+q]==0&&y[2*8+q]==0&&y[3*8+q]==0&&y[4*8+q]==0&&y[5*8+q]==0&&y[6*8+q]==0&&y[7*8+q]==0){var ue=fi*x[L+0]+8192>>14;y[0*8+q]=ue,y[1*8+q]=ue,y[2*8+q]=ue,y[3*8+q]=ue,y[4*8+q]=ue,y[5*8+q]=ue,y[6*8+q]=ue,y[7*8+q]=ue;continue}var B=fi*y[0*8+q]+2048>>12,N=fi*y[4*8+q]+2048>>12,V=y[2*8+q],G=y[6*8+q],ne=Hr*(y[1*8+q]-y[7*8+q])+2048>>12,ee=Hr*(y[1*8+q]+y[7*8+q])+2048>>12,ce=y[3*8+q],de=y[5*8+q],J=B-N+1>>1;B=B+N+1>>1,N=J,J=V*jr+G*zr+2048>>12,V=V*zr-G*jr+2048>>12,G=J,J=ne-de+1>>1,ne=ne+de+1>>1,de=J,J=ee+ce+1>>1,ce=ee-ce+1>>1,ee=J,J=B-G+1>>1,B=B+G+1>>1,G=J,J=N-V+1>>1,N=N+V+1>>1,V=J,J=ne*Gr+ee*Vr+2048>>12,ne=ne*Vr-ee*Gr+2048>>12,ee=J,J=ce*Ur+de*Nr+2048>>12,ce=ce*Nr-de*Ur+2048>>12,de=J,y[0*8+q]=B+ee,y[7*8+q]=B-ee,y[1*8+q]=N+de,y[6*8+q]=N-de,y[2*8+q]=V+ce,y[5*8+q]=V-ce,y[3*8+q]=G+ne,y[4*8+q]=G-ne}for(var L=0;L<64;++L){var Pe=128+(y[L]+8>>4);b[L]=Pe<0?0:Pe>255?255:Pe}}Ai(r*i*8);for(var l=0;l<i;l++){for(var c=l<<3,u=0;u<8;u++)t.push(new Uint8Array(r));for(var f=0;f<n;f++){a(e.blocks[l][f],s,o);for(var d=0,h=f<<3,S=0;S<8;S++)for(var v=t[c+S],u=0;u<8;u++)v[h+u]=s[d++]}}return t}function Sn(e){return e<0?0:e>255?255:e}function Fm(e){var t={width:0,height:0,comments:[],adobe:void 0,components:[],exifBuffer:void 0,jfif:void 0},n=bm*1e3*1e3,i=0;function r(){var C=e[i]<<8|e[i+1];return i+=2,C}function o(){var C=r(),k=e.subarray(i,i+C-2);return i+=k.length,k}function s(C){var k=0,P=0;for(var D in C.components)if(C.components.hasOwnProperty(D)){var O=C.components[D];k<O.h&&(k=O.h),P<O.v&&(P=O.v)}var T=Math.ceil(C.samplesPerLine/8/k),_=Math.ceil(C.scanLines/8/P);for(var D in C.components)if(C.components.hasOwnProperty(D)){var O=C.components[D],z=Math.ceil(Math.ceil(C.samplesPerLine/8)*O.h/k),H=Math.ceil(Math.ceil(C.scanLines/8)*O.v/P),K=T*O.h,re=_*O.v,se=re*K,pe=[];Ai(se*256);for(var be=0;be<re;be++){for(var Ne=[],$e=0;$e<K;$e++)Ne.push(new Int32Array(64));pe.push(Ne)}O.blocksPerLine=z,O.blocksPerColumn=H,O.blocks=pe}C.maxH=k,C.maxV=P,C.mcusPerLine=T,C.mcusPerColumn=_}var a=null,l=null,c=void 0,u=0,f=[],d=[],h=[],S=[],v=r(),E=-1;if(v!=65496)throw new Error("SOI not found");for(v=r();v!=65497;){switch(v){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{var b=o();if(v===65534){for(var x="",w=0;w<b.byteLength;w++)x+=String.fromCharCode(b[w]);t.comments.push(x)}v===65504&&b[0]===74&&b[1]===70&&b[2]===73&&b[3]===70&&b[4]===0&&(a={version:{major:b[5],minor:b[6]},densityUnits:b[7],xDensity:b[8]<<8|b[9],yDensity:b[10]<<8|b[11],thumbWidth:b[12],thumbHeight:b[13],thumbData:b.subarray(14,14+3*b[12]*b[13])}),v===65505&&b[0]===69&&b[1]===120&&b[2]===105&&b[3]===102&&b[4]===0&&(t.exifBuffer=b.subarray(5,b.length)),v===65518&&b[0]===65&&b[1]===100&&b[2]===111&&b[3]===98&&b[4]===101&&b[5]===0&&(l={version:b[6],flags0:b[7]<<8|b[8],flags1:b[9]<<8|b[10],transformCode:b[11]});break}case 65499:{for(var y=r(),L=y+i-2;i<L;){var I=e[i++];Ai(64*4);var A=new Int32Array(64);if(I>>4)if(I>>4===1)for(var B=0;B<64;B++){var N=lr[B];A[N]=r()}else throw new Error("DQT: invalid table spec");else for(var B=0;B<64;B++){var N=lr[B];A[N]=e[i++]}f[I&15]=A}break}case 65472:case 65473:case 65474:{r(),c={extended:v===65473,progressive:v===65474,precision:e[i++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[],maxH:0,maxV:0,mcusPerLine:0,mcusPerColumn:0};var V=c.scanLines*c.samplesPerLine;if(V>n){var G=Math.ceil((V-n)/1e6);throw new Error("maxResolutionInMP limit exceeded by ".concat(G,"MP"))}for(var ne=e[i++],ee=0;ee<ne;ee++){var ce=e[i],de=e[i+1]>>4,J=e[i+1]&15,q=e[i+2];c.componentsOrder.push(ce),c.components[ce]={h:de,v:J,quantizationIdx:q,blocksPerColumn:0,blocksPerLine:0,blocks:[],pred:0},i+=3}s(c),d.push(c);break}case 65476:{for(var ue=r(),ee=2;ee<ue;){for(var Pe=e[i++],ve=new Uint8Array(16),Ce=0,B=0;B<16;B++,i++)Ce+=ve[B]=e[i];Ai(16+Ce);for(var Ee=new Uint8Array(Ce),B=0;B<Ce;B++,i++)Ee[B]=e[i];ee+=17+Ce;var Ze=Pe&15,ye=Pe>>4?h:S;ye[Ze]=Sm(ve,Ee)}break}case 65501:r(),u=r();break;case 65500:r(),r();break;case 65498:{r();for(var ge=e[i++],we=[],ee=0;ee<ge;ee++){var R=c.components[e[i++]],j=e[i++];R.huffmanTableDC=S[j>>4],R.huffmanTableAC=h[j&15],we.push(R)}var M=e[i++],U=e[i++],oe=e[i++],m=xm(e,i,c,we,u,M,U,oe>>4,oe&15);i+=m;break}case 65535:e[i]!==255&&i--;break;default:{if(e[i-3]==255&&e[i-2]>=192&&e[i-2]<=254){i-=3;break}else if(v===224||v==225){if(E!==-1)throw new Error("first unknown JPEG marker at offset ".concat(E.toString(16),", second unknown JPEG marker ").concat(v.toString(16)," at offset ").concat((i-1).toString(16)));E=i-1;var F=r();if(e[i+F-2]===255){i+=F-2;break}}throw new Error("unknown JPEG marker "+v.toString(16))}}v=r()}if(d.length!=1)throw new Error("only single frame JPEGs supported");for(var ee=0;ee<d.length;ee++){var p=d[ee].components;for(var B in p)p[B].quantizationTable=f[p[B].quantizationIdx],delete p[B].quantizationIdx}t.width=c.samplesPerLine,t.height=c.scanLines,t.jfif=a,t.adobe=l,t.components=[];for(var ee=0;ee<c.componentsOrder.length;ee++){var R=c.components[c.componentsOrder[ee]];t.components.push({lines:Cm(R),scaleX:R.h/c.maxH,scaleY:R.v/c.maxV})}return t}function wm(e){var t=0,n=!1,i=e.width,r=e.height,o=i*r*e.components.length;Ai(o);var s=new Uint8Array(o);switch(e.components.length){case 1:{for(var a=e.components[0],l=0;l<r;l++)for(var c=a.lines[0|l*a.scaleY],u=0;u<i;u++){var f=c[0|u*a.scaleX];s[t++]=f}break}case 2:{for(var a=e.components[0],d=e.components[1],l=0;l<r;l++)for(var c=a.lines[0|l*a.scaleY],h=d.lines[0|l*d.scaleY],u=0;u<i;u++){var S=c[0|u*a.scaleX];s[t++]=S;var v=h[0|u*d.scaleX];s[t++]=v}break}case 3:{n=!0,e.adobe&&e.adobe.transformCode&&(n=!0);for(var a=e.components[0],d=e.components[1],E=e.components[2],l=0;l<r;l++)for(var c=a.lines[0|l*a.scaleY],h=d.lines[0|l*d.scaleY],b=E.lines[0|l*E.scaleY],u=0;u<i;u++){var f=void 0,x=void 0,w=void 0,y=void 0,L=void 0,I=void 0;n?(f=c[0|u*a.scaleX],x=h[0|u*d.scaleX],w=b[0|u*E.scaleX],y=Sn(f+1.402*(w-128)),L=Sn(f-.3441363*(x-128)-.71413636*(w-128)),I=Sn(f+1.772*(x-128))):(y=c[0|u*a.scaleX],L=h[0|u*d.scaleX],I=b[0|u*E.scaleX]),s[t++]=y,s[t++]=L,s[t++]=I}break}case 4:{if(!e.adobe)throw new Error("Unsupported color mode (4 components)");n=!1,e.adobe&&e.adobe.transformCode&&(n=!0);for(var a=e.components[0],d=e.components[1],E=e.components[2],A=e.components[3],l=0;l<r;l++)for(var c=a.lines[0|l*a.scaleY],h=d.lines[0|l*d.scaleY],b=E.lines[0|l*E.scaleY],B=A.lines[0|l*A.scaleY],u=0;u<i;u++){var f=void 0,x=void 0,w=void 0,N=void 0,V=void 0,G=void 0,ne=void 0;n?(f=c[0|u*a.scaleX],x=h[0|u*d.scaleX],w=b[0|u*E.scaleX],N=B[0|u*A.scaleX],V=255-Sn(f+1.402*(w-128)),G=255-Sn(f-.3441363*(x-128)-.71413636*(w-128)),ne=255-Sn(f+1.772*(x-128))):(V=c[0|u*a.scaleX],G=h[0|u*d.scaleX],ne=b[0|u*E.scaleX],N=B[0|u*A.scaleX]),s[t++]=255-V,s[t++]=255-G,s[t++]=255-ne,s[t++]=255-N}break}default:throw new Error("Unsupported color mode")}return s}function Im(e,t){if(Ys=0,e.length===0)throw new Error("Empty jpeg buffer");var n=Fm(e);Ai(n.width*n.height*4);var i=wm(n),r=t(n.width,n.height),o=r.width,s=r.height,a=r.data,l=0,c=0;switch(n.components.length){case 1:for(var u=0;u<s;u++)for(var f=0;f<o;f++){var d=i[l++];a[c++]=d,a[c++]=d,a[c++]=d,a[c++]=255}break;case 3:for(var u=0;u<s;u++)for(var f=0;f<o;f++){var h=i[l++],S=i[l++],v=i[l++];a[c++]=h,a[c++]=S,a[c++]=v,a[c++]=255}break;case 4:for(var u=0;u<s;u++)for(var f=0;f<o;f++){var E=i[l++],b=i[l++],d=i[l++],x=i[l++],h=255-Sn(E*(1-x/255)+x),S=255-Sn(b*(1-x/255)+x),v=255-Sn(d*(1-x/255)+x);a[c++]=h,a[c++]=S,a[c++]=v,a[c++]=255}break;default:throw new Error("Unsupported color mode")}return r}var id={},Li={pass:"pass through",norm:"normal",diss:"dissolve",dark:"darken","mul ":"multiply",idiv:"color burn",lbrn:"linear burn",dkCl:"darker color",lite:"lighten",scrn:"screen","div ":"color dodge",lddg:"linear dodge",lgCl:"lighter color",over:"overlay",sLit:"soft light",hLit:"hard light",vLit:"vivid light",lLit:"linear light",pLit:"pin light",hMix:"hard mix",diff:"difference",smud:"exclusion",fsub:"subtract",fdiv:"divide","hue ":"hue","sat ":"saturation",colr:"color","lum ":"luminosity"};Object.keys(Li).forEach(function(e){return id[Li[e]]=e});var fc=["none","red","orange","yellow","green","blue","violet","gray"],Em=["LMsk","Lr16","Lr32","Layr","Mt16","Mt32","Mtrn","Alph","FMsk","lnk2","FEid","FXid","PxSD","cinf"];function km(e){var t={};return Object.keys(e).forEach(function(n){return t[e[n]]=n}),t}function me(e,t,n){var i=km(n),r=function(s){var a=s.split(".")[1];if(a&&!i[a])throw new Error("Unrecognized value for enum: '".concat(s,"'"));return i[a]||t},o=function(s){if(s&&!n[s])throw new Error("Invalid value for enum: '".concat(s,"'"));return"".concat(e,".").concat(n[s]||n[t])};return{decode:r,encode:o}}var dc;(function(e){e[e.RGB=0]="RGB",e[e.HSB=1]="HSB",e[e.CMYK=2]="CMYK",e[e.Lab=7]="Lab",e[e.Grayscale=8]="Grayscale"})(dc||(dc={}));var hc;(function(e){e[e.PositionRelativeToLayer=1]="PositionRelativeToLayer",e[e.LayerMaskDisabled=2]="LayerMaskDisabled",e[e.InvertLayerMaskWhenBlending=4]="InvertLayerMaskWhenBlending",e[e.LayerMaskFromRenderingOtherData=8]="LayerMaskFromRenderingOtherData",e[e.MaskHasParametersAppliedToIt=16]="MaskHasParametersAppliedToIt"})(hc||(hc={}));var pc;(function(e){e[e.UserMaskDensity=1]="UserMaskDensity",e[e.UserMaskFeather=2]="UserMaskFeather",e[e.VectorMaskDensity=4]="VectorMaskDensity",e[e.VectorMaskFeather=8]="VectorMaskFeather"})(pc||(pc={}));function Am(e,t){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return t?3:e+1;case-1:return t?4:3;default:return e+1}}function rd(e,t,n){return e<t?t:e>n?n:e}function Pm(e){for(var t=e.data,n=t instanceof Float32Array?1:t instanceof Uint16Array?65535:255,i=0,r=t.length|0;i<r;i=i+4|0)t[i+0]=0,t[i+1]=0,t[i+2]=0,t[i+3]=n}function Zs(e){var t=Er(e.width,e.height),n;if(e.data instanceof Uint8ClampedArray)n=e;else{n=Cr(e.width,e.height);var i=e.data,r=n.data;if(i instanceof Float32Array)for(var o=0,s=i.length;o<s;o+=4)r[o+0]=Math.round(Math.pow(i[o+0],1/2.2)*255),r[o+1]=Math.round(Math.pow(i[o+1],1/2.2)*255),r[o+2]=Math.round(Math.pow(i[o+2],1/2.2)*255),r[o+3]=Math.round(i[o+3]*255);else for(var a=i instanceof Uint16Array?8:0,o=0,s=i.length;o<s;o++)r[o]=i[o]>>>a}return t.getContext("2d").putImageData(n,0,0),t}function _m(e,t,n,i){if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("Invalid bit depth");for(var r=0,o=0,s=0;r<i;r++)for(var a=0;a<n;)for(var l=e[s++],c=0;c<8&&a<n;c++,a++,o+=4){var u=l&128?0:255;l=l<<1,t[o+0]=u,t[o+1]=u,t[o+2]=u,t[o+3]=255}}function Om(e){var t=Er(100,100);try{var n=t.getContext("2d"),i=Im(e,function(r,o){return n.createImageData(r,o)});t.width=i.width,t.height=i.height,n.putImageData(i,0,0)}catch(r){console.error("JPEG decompression error",r.message)}return t}var Er=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvas method")},ms=void 0,Cr=function(e,t){return ms||(ms=Er(1,1)),ms.getContext("2d").createImageData(e,t)};typeof document<"u"&&(Er=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n});function Tm(e,t){Er=e,Cr=Cr}var od=Nm,Rm=Gm,an=[],Ut=[],Mm=typeof Uint8Array<"u"?Uint8Array:Array,ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var di=0,Lm=ys.length;di<Lm;++di)an[di]=ys[di],Ut[ys.charCodeAt(di)]=di;Ut[45]=62;Ut[95]=63;function Dm(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function Bm(e,t,n){return(t+n)*3/4-n}function Nm(e){var t,n=Dm(e),i=n[0],r=n[1],o=new Mm(Bm(e,i,r)),s=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)t=Ut[e.charCodeAt(l)]<<18|Ut[e.charCodeAt(l+1)]<<12|Ut[e.charCodeAt(l+2)]<<6|Ut[e.charCodeAt(l+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return r===2&&(t=Ut[e.charCodeAt(l)]<<2|Ut[e.charCodeAt(l+1)]>>4,o[s++]=t&255),r===1&&(t=Ut[e.charCodeAt(l)]<<10|Ut[e.charCodeAt(l+1)]<<4|Ut[e.charCodeAt(l+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function Um(e){return an[e>>18&63]+an[e>>12&63]+an[e>>6&63]+an[e&63]}function Vm(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),r.push(Um(i));return r.join("")}function Gm(e){for(var t,n=e.length,i=n%3,r=[],o=16383,s=0,a=n-i;s<a;s+=o)r.push(Vm(e,s,s+o>a?a:s+o));return i===1?(t=e[n-1],r.push(an[t>>2]+an[t<<4&63]+"==")):i===2&&(t=(e[n-2]<<8)+e[n-1],r.push(an[t>>10]+an[t>>4&63]+an[t<<2&63]+"=")),r.join("")}function Js(e){return e&4294967168?e&4294965248?e&4294901760?4:3:2:1}function zm(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319){if(n+1<e.length){var r=e.charCodeAt(n+1);(r&64512)===56320&&(n++,t+=Js(((i&1023)<<10)+(r&1023)+65536))}}else t+=Js(i)}return t}function vc(e,t,n){var i=Js(n);switch(i){case 1:e[t]=n;break;case 2:e[t]=n>>6&31|192,e[t+1]=n&63|128;break;case 3:e[t]=n>>12&15|224,e[t+1]=n>>6&63|128,e[t+2]=n&63|128;break;default:e[t]=n>>18&7|240,e[t+1]=n>>12&63|128,e[t+2]=n>>6&63|128,e[t+3]=n&63|128;break}return i}function jm(e,t,n){for(var i=0;i<n.length;i++){var r=n.charCodeAt(i);if(r>=55296&&r<=56319){if(i+1<n.length){var o=n.charCodeAt(i+1);if((o&64512)===56320){i++;var s=((r&1023)<<10)+(o&1023)+65536;t+=vc(e,t,s)}}}else t+=vc(e,t,r)}return t}function sd(e){if(e.length>1e3&&typeof TextEncoder<"u")return new TextEncoder().encode(e);var t=new Uint8Array(zm(e));return jm(t,0,e),t}function hi(e,t){if(t>=e.length)throw Error("Invalid byte index");var n=e[t];if((n&192)===128)return n&63;throw Error("Invalid continuation byte")}function ad(e){if(e.byteLength>1e3&&typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var t=[],n=0;n<e.length;){var i=e[n++],r=void 0;if(!(i&128))r=i;else if((i&224)===192){var o=hi(e,n++);if(r=(i&31)<<6|o,r<128)throw Error("Invalid continuation byte")}else if((i&240)===224){var o=hi(e,n++),s=hi(e,n++);if(r=(i&15)<<12|o<<6|s,r<2048)throw Error("Invalid continuation byte");if(r>=55296&&r<=57343)throw Error("Lone surrogate U+".concat(r.toString(16).toUpperCase()," is not a scalar value"))}else if((i&248)===240){var o=hi(e,n++),s=hi(e,n++),a=hi(e,n++);if(r=(i&15)<<18|o<<12|s<<6|a,r<65536||r>1114111)throw Error("Invalid continuation byte")}else throw Error("Invalid UTF-8 detected");r>65535&&(r-=65536,t.push(String.fromCharCode(r>>>10&1023|55296)),r=56320|r&1023),t.push(String.fromCharCode(r))}return t.join("")}var Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fn.apply(this,arguments)},Hm=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function $m(e){var t={};return Object.keys(e).forEach(function(n){return t[e[n]]=n}),t}var qi={"#Ang":"Angle","#Rsl":"Density","#Rlt":"Distance","#Nne":"None","#Prc":"Percent","#Pxl":"Pixels","#Mlm":"Millimeters","#Pnt":"Points",RrPi:"Picas",RrIn:"Inches",RrCm:"Centimeters"},$r=$m(qi);function Y(e,t){return{name:e,classID:t}}var Te=Y("","null"),ld={strokeStyleContent:Y("","solidColorLayer"),printProofSetup:Y("Proof Setup","proofSetup"),Grad:Y("Gradient","Grdn"),Trnf:Y("Transform","Trnf"),patternFill:Y("","patternFill"),ebbl:Y("","ebbl"),SoFi:Y("","SoFi"),GrFl:Y("","GrFl"),sdwC:Y("","RGBC"),hglC:Y("","RGBC"),"Clr ":Y("","RGBC"),tintColor:Y("","RGBC"),Ofst:Y("","Pnt "),ChFX:Y("","ChFX"),MpgS:Y("","ShpC"),DrSh:Y("","DrSh"),IrSh:Y("","IrSh"),OrGl:Y("","OrGl"),IrGl:Y("","IrGl"),TrnS:Y("","ShpC"),Ptrn:Y("","Ptrn"),FrFX:Y("","FrFX"),phase:Y("","Pnt "),frameStep:Te,duration:Te,workInTime:Te,workOutTime:Te,audioClipGroupList:Te,bounds:Y("","Rctn"),customEnvelopeWarp:Y("","customEnvelopeWarp"),warp:Y("","warp"),"Sz  ":Y("","Pnt "),origin:Y("","Pnt "),autoExpandOffset:Y("","Pnt "),keyOriginShapeBBox:Y("","unitRect"),Vrsn:Te,psVersion:Te,docDefaultNewArtboardBackgroundColor:Y("","RGBC"),artboardRect:Y("","classFloatRect"),keyOriginRRectRadii:Y("","radii"),keyOriginBoxCorners:Te,rectangleCornerA:Y("","Pnt "),rectangleCornerB:Y("","Pnt "),rectangleCornerC:Y("","Pnt "),rectangleCornerD:Y("","Pnt "),compInfo:Te,quiltWarp:Y("","quiltWarp"),generatorSettings:Te,crema:Te,FrIn:Te,blendOptions:Te,FXRf:Te,Lefx:Te,time:Te,animKey:Te,timeScope:Te,inTime:Te,outTime:Te,sheetStyle:Te,translation:Te,Skew:Te,boundingBox:Y("","boundingBox"),"Lnk ":Y("","ExternalFileLink"),frameReader:Y("","FrameReader"),effectParams:Y("","motionTrackEffectParams"),Impr:Y("None","none"),Anch:Y("","Pnt "),"Fwd ":Y("","Pnt "),"Bwd ":Y("","Pnt "),FlrC:Y("","Pnt "),meshBoundaryPath:Y("","pathClass"),filterFX:Y("","filterFXStyle"),Fltr:Y("","rigidTransform"),FrgC:Y("","RGBC"),BckC:Y("","RGBC"),sdwM:Y("Parameters","adaptCorrectTones"),hglM:Y("Parameters","adaptCorrectTones"),customShape:Y("","customShape"),origFXRefPoint:Te,FXRefPoint:Te,ClMg:Y("","ClMg")},cd={"Crv ":Y("","CrPt"),Clrs:Y("","Clrt"),Trns:Y("","TrnS"),keyDescriptorList:Te,solidFillMulti:Y("","SoFi"),gradientFillMulti:Y("","GrFl"),dropShadowMulti:Y("","DrSh"),innerShadowMulti:Y("","IrSh"),frameFXMulti:Y("","FrFX"),FrIn:Te,FSts:Te,LaSt:Te,sheetTimelineOptions:Te,trackList:Y("","animationTrack"),globalTrackList:Y("","animationTrack"),keyList:Te,audioClipGroupList:Te,audioClipList:Te,countObjectList:Y("","countObject"),countGroupList:Y("","countGroup"),slices:Y("","slice"),"Pts ":Y("","Pthp"),SbpL:Y("","SbpL"),pathComponents:Y("","PaCm"),filterFXList:Y("","filterFX"),puppetShapeList:Y("","puppetShape"),channelDenoise:Y("","channelDenoiseParams"),ShrP:Y("","Pnt "),layerSettings:Te,list:Te,Adjs:Y("","CrvA")},gc={TEXT:["Txt ","printerName","Nm  ","Idnt","blackAndWhitePresetFileName","LUT3DFileName","presetFileName","curvesPresetFileName","mixerPresetFileName","placed","description","reason","artboardPresetName","json","clipID","relPath","fullPath","mediaDescriptor","Msge","altTag","url","cellText","preset","KnNm","FPth","comment","originalPath"],tdta:["EngineData","LUT3DFileData","indexArray","originalVertexArray","deformedVertexArray","LqMe"],long:["TextIndex","RndS","Mdpn","Smth","Lctn","strokeStyleVersion","LaID","Vrsn","Cnt ","Brgh","Cntr","means","vibrance","Strt","bwPresetKind","comp","compID","originalCompID","curvesPresetKind","mixerPresetKind","uOrder","vOrder","PgNm","totalPages","Crop","numerator","denominator","frameCount","Annt","keyOriginType","unitValueQuadVersion","keyOriginIndex","major","minor","fix","docDefaultNewArtboardBackgroundType","artboardBackgroundType","numModifyingFX","deformNumRows","deformNumCols","FrID","FrDl","FsID","LCnt","AFrm","AFSt","numBefore","numAfter","Spcn","minOpacity","maxOpacity","BlnM","sheetID","gblA","globalAltitude","descVersion","frameReaderType","LyrI","zoomOrigin","fontSize","Rds ","sliceID","topOutset","leftOutset","bottomOutset","rightOutset","filterID","meshQuality","meshExpansion","meshRigidity","VrsM","VrsN","NmbG","WLMn","WLMx","AmMn","AmMx","SclH","SclV","Lvl ","TlNm","TlOf","FlRs","Thsh","ShrS","ShrE","FlRs","Vrnc","Strg","ExtS","ExtD","HrzS","VrtS","NmbR","EdgF","Ang1","Ang2","Ang3","Ang4","lastAppliedComp","capturedInfo"],enum:["textGridding","Ornt","warpStyle","warpRotate","Inte","Bltn","ClrS","BlrQ","bvlT","bvlS","bvlD","Md  ","glwS","GrdF","GlwT","RplS","BlrM","SmBM","strokeStyleLineCapType","strokeStyleLineJoinType","strokeStyleLineAlignment","strokeStyleBlendMode","PntT","Styl","lookupType","LUTFormat","dataOrder","tableOrder","enableCompCore","enableCompCoreGPU","compCoreSupport","compCoreGPUSupport","Engn","enableCompCoreThreads","gs99","FrDs","trackID","animInterpStyle","horzAlign","vertAlign","bgColorType","shapeOperation","UndA","Wvtp","Drct","WndM","Edg ","FlCl","IntE","IntC","Cnvr","Fl  ","Dstr","MztT","Lns ","ExtT","DspM","ExtR","ZZTy","SphM","SmBQ","placedLayerOCIOConversion","gradientsInterpolationMethod"],bool:["PstS","printSixteenBit","masterFXSwitch","enab","uglg","antialiasGloss","useShape","useTexture","uglg","antialiasGloss","useShape","Vsbl","useTexture","Algn","Rvrs","Dthr","Invr","VctC","ShTr","layerConceals","strokeEnabled","fillEnabled","strokeStyleScaleLock","strokeStyleStrokeAdjust","hardProof","MpBl","paperWhite","useLegacy","Auto","Lab ","useTint","keyShapeInvalidated","autoExpandEnabled","autoNestEnabled","autoPositionEnabled","shrinkwrapOnSaveEnabled","present","showInDialog","overprint","sheetDisclosed","lightsDisclosed","meshesDisclosed","materialsDisclosed","hasMotion","muted","Effc","selected","autoScope","fillCanvas","cellTextIsHTML","Smoo","Clsp","validAtPosition","rigidType","hasoptions","filterMaskEnable","filterMaskLinked","filterMaskExtendWithWhite","removeJPEGArtifact","Mnch","ExtF","ExtM","moreAccurate","GpuY","LIWy","Cnty"],doub:["warpValue","warpPerspective","warpPerspectiveOther","Intr","Wdth","Hght","strokeStyleMiterLimit","strokeStyleResolution","layerTime","keyOriginResolution","xx","xy","yx","yy","tx","ty","FrGA","frameRate","audioLevel","rotation","X   ","Y   ","redFloat","greenFloat","blueFloat","imageResolution","PuX0","PuX1","PuX2","PuX3","PuY0","PuY1","PuY2","PuY3"],UntF:["sdwO","hglO","lagl","Lald","srgR","blur","Sftn","Opct","Dstn","Angl","Ckmt","Nose","Inpr","ShdN","strokeStyleLineWidth","strokeStyleLineDashOffset","strokeStyleOpacity","H   ","Top ","Left","Btom","Rght","Rslt","topRight","topLeft","bottomLeft","bottomRight","ClNs","Shrp"],VlLs:["Crv ","Clrs","Mnm ","Mxm ","Trns","pathList","strokeStyleLineDashSet","FrLs","slices","LaSt","Trnf","nonAffineTransform","keyDescriptorList","guideIndeces","gradientFillMulti","solidFillMulti","frameFXMulti","innerShadowMulti","dropShadowMulti","FrIn","FSts","FsFr","sheetTimelineOptions","audioClipList","trackList","globalTrackList","keyList","audioClipList","warpValues","selectedPin","Pts ","SbpL","pathComponents","pinOffsets","posFinalPins","pinVertexIndices","PinP","PnRt","PnOv","PnDp","filterFXList","puppetShapeList","ShrP","channelDenoise","Mtrx","layerSettings","list","compList","Adjs"],ObAr:["meshPoints","quiltSliceX","quiltSliceY"],"obj ":["null","Chnl"],"Pth ":["DspF"]},Wm=["Rd  ","Grn ","Bl  ","Yllw","Ylw ","Cyn ","Mgnt","Blck","Gry ","Lmnc","A   ","B   "],ud={"Mnm ":"long","Mxm ":"long",FrLs:"long",strokeStyleLineDashSet:"UntF",Trnf:"doub",nonAffineTransform:"doub",keyDescriptorList:"Objc",gradientFillMulti:"Objc",solidFillMulti:"Objc",frameFXMulti:"Objc",innerShadowMulti:"Objc",dropShadowMulti:"Objc",LaSt:"Objc",FrIn:"Objc",FSts:"Objc",FsFr:"long",blendOptions:"Objc",sheetTimelineOptions:"Objc",keyList:"Objc",warpValues:"doub",selectedPin:"long","Pts ":"Objc",SbpL:"Objc",pathComponents:"Objc",pinOffsets:"doub",posFinalPins:"doub",pinVertexIndices:"long",PinP:"doub",PnRt:"long",PnOv:"bool",PnDp:"doub",filterFXList:"Objc",puppetShapeList:"Objc",ShrP:"Objc",channelDenoise:"Objc",Mtrx:"long",compList:"long",Chnl:"enum"},Co={};for(var bs=0,mc=Object.keys(gc);bs<mc.length;bs++)for(var yc=mc[bs],Ss=0,bc=gc[yc];Ss<bc.length;Ss++){var Di=bc[Ss];Co[Di]=yc}for(var xs=0,Sc=Object.keys(ld);xs<Sc.length;xs++){var Di=Sc[xs];Co[Di]||(Co[Di]="Objc")}for(var Cs=0,xc=Object.keys(cd);Cs<xc.length;Cs++){var Di=xc[Cs];ud[Di]="Objc"}function Xm(e,t,n,i){return e==="presetKind"?typeof t=="string"?"enum":"long":e==="null"&&n==="slices"?"TEXT":e==="groupID"?n==="slices"?"long":"TEXT":e==="Sz  "?"Wdth"in t?"Objc":"units"in t?"UntF":"doub":e==="Type"?typeof t=="string"?"enum":"long":e==="AntA"?typeof t=="string"?"enum":"bool":(e==="Hrzn"||e==="Vrtc")&&(i.Type==="keyType.Pstn"||i._classID==="Ofst")?"long":e==="Hrzn"||e==="Vrtc"||e==="Top "||e==="Left"||e==="Btom"||e==="Rght"?n==="slices"?"long":typeof t=="number"?"doub":"UntF":e==="Vrsn"?typeof t=="number"?"long":"Objc":e==="Rd  "||e==="Grn "||e==="Bl  "?n==="artd"?"long":"doub":e==="Trnf"?Array.isArray(t)?"VlLs":"Objc":Co[e]}function wn(e){var t=fe(e);return $o(e,t||4)}function In(e,t){if(t.length===4&&t!=="warp"&&t!=="time"&&t!=="hold"&&t!=="list")xe(e,0),Se(e,t);else{xe(e,t.length);for(var n=0;n<t.length;n++)ae(e,t.charCodeAt(n))}}function fd(e,t){for(var n=Zn(e),i=t?{_name:n.name,_classID:n.classID}:{},r=X(e),o=0;o<r;o++){var s=wn(e),a=je(e),l=hd(e,a,t);i[s]=l}return i}function dd(e,t,n,i,r){oi(e,t),In(e,n);var o=Object.keys(i),s=o.length;"_name"in i&&s--,"_classID"in i&&s--,Z(e,s);for(var a=0,l=o;a<l.length;a++){var c=l[a];if(!(c==="_name"||c==="_classID")){var u=Xm(c,i[c],r,i),f=ld[c];c==="bounds"&&r==="text"?f=Y("","bounds"):c==="origin"?u=r==="slices"?"enum":"Objc":(c==="Cyn "||c==="Mgnt"||c==="Ylw "||c==="Blck")&&i._classID==="CMYC"?u="doub":/^PN[a-z][a-z]$/.test(c)?u="TEXT":/^PT[a-z][a-z]$/.test(c)?u="long":/^PF[a-z][a-z]$/.test(c)||(c==="Rds "||c==="Thsh")&&typeof i[c]=="number"&&i._classID==="SmrB"?u="doub":c==="ClSz"||c==="Rds "||c==="Amnt"?u=typeof i[c]=="number"?"long":"UntF":(c==="sdwM"||c==="hglM")&&typeof i[c]=="string"||c==="blur"&&typeof i[c]=="string"?u="enum":c==="Hght"&&typeof i[c]=="number"&&i._classID==="Embs"||c==="Angl"&&typeof i[c]=="number"&&(i._classID==="Embs"||i._classID==="smartSharpen"||i._classID==="Twrl"||i._classID==="MtnB")?u="long":c==="Angl"&&typeof i[c]=="number"?u="doub":c==="bounds"&&r==="slices"?(u="Objc",f=Y("","Rct1")):c==="Scl "?typeof i[c]=="object"&&"Hrzn"in i[c]?(u="Objc",f=Te):typeof i[c]=="number"?u="long":u="UntF":c==="audioClipGroupList"&&o.length===1?u="VlLs":(c==="Strt"||c==="Brgh")&&"H   "in i?u="doub":c==="Wdth"&&typeof i[c]=="object"?u="UntF":c==="Ofst"&&typeof i[c]=="number"?u="long":c==="Strt"&&typeof i[c]=="object"?(u="Objc",f=Te):Wm.indexOf(c)!==-1?u=n==="RGBC"&&r!=="artd"?"doub":"long":c==="profile"?u=n==="printOutput"?"TEXT":"tdta":c==="strokeStyleContent"?i[c]["Clr "]?f=Y("","solidColorLayer"):i[c].Grad?f=Y("","gradientLayer"):i[c].Ptrn&&(f=Y("","patternLayer")):c==="bounds"&&r==="quiltWarp"&&(f=Y("","classFloatRect")),f&&f.classID==="RGBC"&&"H   "in i[c]&&(f={classID:"HSBC",name:""}),In(e,c),Se(e,u||"long"),pd(e,u||"long",i[c],c,f,r)}}}function hd(e,t,n){switch(t){case"obj ":return qm(e);case"Objc":case"GlbO":return fd(e,n);case"VlLs":{for(var i=fe(e),r=[],o=0;o<i;o++){var s=je(e);r.push(hd(e,s,n))}return r}case"doub":return zt(e);case"UntF":{var a=je(e),l=zt(e);if(!qi[a])throw new Error("Invalid units: ".concat(a));return{units:qi[a],value:l}}case"UnFl":{var a=je(e),l=Xt(e);if(!qi[a])throw new Error("Invalid units: ".concat(a));return{units:qi[a],value:l}}case"TEXT":return ft(e);case"enum":{var c=wn(e),l=wn(e);return"".concat(c,".").concat(l)}case"long":return fe(e);case"comp":{var u=X(e),f=X(e);return{low:u,high:f}}case"bool":return!!Q(e);case"type":case"GlbC":return Zn(e);case"alis":{var d=fe(e);return $o(e,d)}case"tdta":{var h=fe(e);return ot(e,h)}case"ObAr":{fe(e),ft(e),wn(e);for(var S=fe(e),r=[],o=0;o<S;o++){var v=wn(e);je(e),je(e);for(var E=fe(e),b=[],x=0;x<E;x++)b.push(zt(e));r.push({type:v,values:b})}return r}case"Pth ":{fe(e);var w=je(e);Kc(e);var y=Kc(e),L=sy(e,y);return{sig:w,path:L}}default:throw new Error("Invalid TySh descriptor OSType: ".concat(t," at ").concat(e.offset.toString(16)))}}var Km={meshPoints:"rationalPoint",quiltSliceX:"UntF",quiltSliceY:"UntF"};function pd(e,t,n,i,r,o){switch(t){case"obj ":Ym(e,i,n);break;case"Objc":case"GlbO":{if(typeof n!="object")throw new Error("Invalid struct value: ".concat(JSON.stringify(n),", key: ").concat(i));if(!r)throw new Error("Missing ext type for: '".concat(i,"' (").concat(JSON.stringify(n),")"));var s=n._name||r.name,a=n._classID||r.classID;dd(e,s,a,n,o);break}case"VlLs":if(!Array.isArray(n))throw new Error("Invalid list value: ".concat(JSON.stringify(n),", key: ").concat(i));xe(e,n.length);for(var l=0;l<n.length;l++){var c=ud[i];Se(e,c||"long"),pd(e,c||"long",n[l],"".concat(i,"[]"),cd[i],o)}break;case"doub":if(typeof n!="number")throw new Error("Invalid number value: ".concat(JSON.stringify(n),", key: ").concat(i));un(e,n);break;case"UntF":if(!$r[n.units])throw new Error("Invalid units: ".concat(n.units," in ").concat(i));Se(e,$r[n.units]),un(e,n.value);break;case"UnFl":if(!$r[n.units])throw new Error("Invalid units: ".concat(n.units," in ").concat(i));Se(e,$r[n.units]),Kt(e,n.value);break;case"TEXT":oi(e,n);break;case"enum":{if(typeof n!="string")throw new Error("Invalid enum value: ".concat(JSON.stringify(n),", key: ").concat(i));var u=n.split("."),f=u[0],d=u[1];In(e,f),In(e,d);break}case"long":if(typeof n!="number")throw new Error("Invalid integer value: ".concat(JSON.stringify(n),", key: ").concat(i));xe(e,n);break;case"bool":if(typeof n!="boolean")throw new Error("Invalid boolean value: ".concat(JSON.stringify(n),", key: ").concat(i));ae(e,n?1:0);break;case"tdta":xe(e,n.byteLength),On(e,n);break;case"ObAr":{xe(e,16),oi(e,"");var h=Km[i];if(!h)throw new Error("Not implemented ObArType for: ".concat(i));In(e,h),xe(e,n.length);for(var l=0;l<n.length;l++){In(e,n[l].type),Se(e,"UnFl"),Se(e,"#Pxl"),xe(e,n[l].values.length);for(var S=0;S<n[l].values.length;S++)un(e,n[l].values[S])}break}case"Pth ":{var v=12+n.path.length*2;xe(e,v),Se(e,n.sig),fu(e,v),fu(e,n.path.length),Xy(e,n.path);break}default:throw new Error("Not implemented descriptor OSType: ".concat(t))}}function qm(e){for(var t=fe(e),n=[],i=0;i<t;i++){var r=je(e);switch(r){case"prop":{Zn(e);var o=wn(e);n.push(o);break}case"Clss":n.push(Zn(e));break;case"Enmr":{Zn(e);var s=wn(e),a=wn(e);n.push("".concat(s,".").concat(a));break}case"rele":{Zn(e),n.push(X(e));break}case"Idnt":n.push(fe(e));break;case"indx":n.push(fe(e));break;case"name":{Zn(e),n.push(ft(e));break}default:throw new Error("Invalid descriptor reference type: ".concat(r))}}return n}function Ym(e,t,n){xe(e,n.length);for(var i=0;i<n.length;i++){var r=n[i],o="unknown";switch(typeof r=="string"&&(/^[a-z ]+\.[a-z ]+$/i.test(r)?o="Enmr":o="name"),Se(e,o),o){case"Enmr":{var s=r.split("."),a=s[0],l=s[1];Cc(e,"\0",a),In(e,a),In(e,l);break}case"name":{Cc(e,"\0","Lyr "),Tt(e,r+"\0");break}default:throw new Error("Invalid descriptor reference type: ".concat(o))}}return n}function Zn(e){var t=ft(e),n=wn(e);return{name:t,classID:n}}function Cc(e,t,n){Tt(e,t),In(e,n)}function ke(e,t){t===void 0&&(t=!1);var n=X(e);if(n!==16)throw new Error("Invalid descriptor version: ".concat(n));var i=fd(e,t);return i}function Ae(e,t,n,i,r){r===void 0&&(r=""),Z(e,16),dd(e,t,n,i,r)}function cr(e){return{x:e.Hrzn,y:e.Vrtc}}function ur(e){return{Hrzn:e.x,Vrtc:e.y}}function Fc(e){return{top:Le(e["Top "]),left:Le(e.Left),right:Le(e.Rght),bottom:Le(e.Btom)}}function wc(e){var t;return t={Left:Ke(e.left,"bounds.left")},t["Top "]=Ke(e.top,"bounds.top"),t.Rght=Ke(e.right,"bounds.right"),t.Btom=Ke(e.bottom,"bounds.bottom"),t}function Ic(e){var t={enabled:!!e.enab,position:Ho.decode(e.Styl),fillType:_d.decode(e.PntT),blendMode:Gt.decode(e["Md  "]),opacity:ze(e.Opct),size:Le(e["Sz  "])};return e.present!==void 0&&(t.present=e.present),e.showInDialog!==void 0&&(t.showInDialog=e.showInDialog),e.overprint!==void 0&&(t.overprint=e.overprint),e["Clr "]&&(t.color=Yt(e["Clr "])),e.Grad&&(t.gradient=bd(e)),e.Ptrn&&(t.pattern=Sd(e)),t}function Ec(e){var t={};return t.enab=!!e.enabled,e.present!==void 0&&(t.present=!!e.present),e.showInDialog!==void 0&&(t.showInDialog=!!e.showInDialog),t.Styl=Ho.encode(e.position),t.PntT=_d.encode(e.fillType),t["Md  "]=Gt.encode(e.blendMode),t.Opct=ct(e.opacity),t["Sz  "]=Ke(e.size,"size"),e.color&&(t["Clr "]=Zt(e.color)),e.gradient&&(t=Fn(Fn({},t),xd(e.gradient))),e.pattern&&(t=Fn(Fn({},t),Cd(e.pattern))),e.overprint!==void 0&&(t.overprint=!!e.overprint),t}function kr(e,t,n){for(var i,r,o,s=n?{"Scl ":Nt((i=e.scale)!==null&&i!==void 0?i:1),masterFXSwitch:!e.disabled}:{masterFXSwitch:!e.disabled,"Scl ":Nt((r=e.scale)!==null&&r!==void 0?r:1)},a=["dropShadow","innerShadow","solidFill","gradientOverlay","stroke"],l=0,c=a;l<c.length;l++){var u=c[l];if(e[u]&&!Array.isArray(e[u]))throw new Error("".concat(u," should be an array"))}var f=function(w){return!!w&&w.length>1&&n},d=function(w){return!!w&&w.length>=1&&(!n||w.length===1)};if(d(e.dropShadow)&&(s.DrSh=kt(e.dropShadow[0],"dropShadow",t)),f(e.dropShadow)&&(s.dropShadowMulti=e.dropShadow.map(function(w){return kt(w,"dropShadow",t)})),d(e.innerShadow)&&(s.IrSh=kt(e.innerShadow[0],"innerShadow",t)),f(e.innerShadow)&&(s.innerShadowMulti=e.innerShadow.map(function(w){return kt(w,"innerShadow",t)})),e.outerGlow&&(s.OrGl=kt(e.outerGlow,"outerGlow",t)),f(e.solidFill)&&(s.solidFillMulti=e.solidFill.map(function(w){return kt(w,"solidFill",t)})),f(e.gradientOverlay)&&(s.gradientFillMulti=e.gradientOverlay.map(function(w){return kt(w,"gradientOverlay",t)})),f(e.stroke)&&(s.frameFXMulti=e.stroke.map(function(w){return Ec(w)})),e.innerGlow&&(s.IrGl=kt(e.innerGlow,"innerGlow",t)),e.bevel&&(s.ebbl=kt(e.bevel,"bevel",t)),d(e.solidFill)&&(s.SoFi=kt(e.solidFill[0],"solidFill",t)),e.patternOverlay&&(s.patternFill=kt(e.patternOverlay,"patternOverlay",t)),d(e.gradientOverlay)&&(s.GrFl=kt(e.gradientOverlay[0],"gradientOverlay",t)),e.satin&&(s.ChFX=kt(e.satin,"satin",t)),d(e.stroke)&&(s.FrFX=Ec((o=e.stroke)===null||o===void 0?void 0:o[0])),n){s.numModifyingFX=0;for(var h=0,S=Object.keys(e);h<S.length;h++){var u=S[h],v=e[u];if(Array.isArray(v))for(var E=0,b=v;E<b.length;E++){var x=b[E];x.enabled&&s.numModifyingFX++}else v.enabled&&s.numModifyingFX++}}return s}function Ar(e,t){var n={},i=e.masterFXSwitch,r=e.DrSh,o=e.dropShadowMulti,s=e.IrSh,a=e.innerShadowMulti,l=e.OrGl,c=e.IrGl,u=e.ebbl,f=e.SoFi,d=e.solidFillMulti,h=e.patternFill,S=e.GrFl,v=e.gradientFillMulti,E=e.ChFX,b=e.FrFX,x=e.frameFXMulti;e.numModifyingFX;var w=Hm(e,["masterFXSwitch","DrSh","dropShadowMulti","IrSh","innerShadowMulti","OrGl","IrGl","ebbl","SoFi","solidFillMulti","patternFill","GrFl","gradientFillMulti","ChFX","FrFX","frameFXMulti","numModifyingFX"]);return i||(n.disabled=!0),e["Scl "]&&(n.scale=ze(e["Scl "])),r&&(n.dropShadow=[Et(r,t)]),o&&(n.dropShadow=o.map(function(y){return Et(y,t)})),s&&(n.innerShadow=[Et(s,t)]),a&&(n.innerShadow=a.map(function(y){return Et(y,t)})),l&&(n.outerGlow=Et(l,t)),c&&(n.innerGlow=Et(c,t)),u&&(n.bevel=Et(u,t)),f&&(n.solidFill=[Et(f,t)]),d&&(n.solidFill=d.map(function(y){return Et(y,t)})),h&&(n.patternOverlay=Et(h,t)),S&&(n.gradientOverlay=[Et(S,t)]),v&&(n.gradientOverlay=v.map(function(y){return Et(y,t)})),E&&(n.satin=Et(E,t)),b&&(n.stroke=[Ic(b)]),x&&(n.stroke=x.map(function(y){return Ic(y)})),t&&Object.keys(w).length>1&&console.log("Unhandled effect keys:",w),n}function kc(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=r.time,s=o.denominator,a=o.numerator,l=r.selected,c=r.animKey,u={numerator:a,denominator:s},f=Ad.decode(r.animInterpStyle);switch(c.Type){case"keyType.Opct":n.push({interpolation:f,time:u,selected:l,type:"opacity",value:ze(c.Opct)});break;case"keyType.Pstn":n.push({interpolation:f,time:u,selected:l,type:"position",x:c.Hrzn,y:c.Vrtc});break;case"keyType.Trnf":n.push({interpolation:f,time:u,selected:l,type:"transform",scale:cr(c["Scl "]),skew:cr(c.Skew),rotation:c.rotation,translation:cr(c.translation)});break;case"keyType.sheetStyle":{var d={interpolation:f,time:u,selected:l,type:"style"};c.sheetStyle.Lefx&&(d.style=Ar(c.sheetStyle.Lefx,t)),n.push(d);break}case"keyType.globalLighting":{n.push({interpolation:f,time:u,selected:l,type:"globalLighting",globalAngle:c.gblA,globalAltitude:c.globalAltitude});break}default:throw new Error("Unsupported keyType value")}}return n}function Ac(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=i.time,o=i.selected,s=o===void 0?!1:o,a=i.interpolation,l=Ad.encode(a),c=void 0;switch(i.type){case"opacity":c={Type:"keyType.Opct",Opct:ct(i.value)};break;case"position":c={Type:"keyType.Pstn",Hrzn:i.x,Vrtc:i.y};break;case"transform":c={Type:"keyType.Trnf","Scl ":ur(i.scale),Skew:ur(i.skew),rotation:i.rotation,translation:ur(i.translation)};break;case"style":c={Type:"keyType.sheetStyle",sheetStyle:{Vrsn:1,blendOptions:{}}},i.style&&(c.sheetStyle={Vrsn:1,Lefx:kr(i.style,!1,!1),blendOptions:{}});break;case"globalLighting":{c={Type:"keyType.globalLighting",gblA:i.globalAngle,globalAltitude:i.globalAltitude};break}default:throw new Error("Unsupported keyType value")}t.push({Vrsn:1,animInterpStyle:l,time:r,animKey:c,selected:s})}return t}function vd(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o={type:Pd.decode(r.trackID),enabled:r.enab,keys:kc(r.keyList,t)};r.effectParams&&(o.effectParams={fillCanvas:r.effectParams.fillCanvas,zoomOrigin:r.effectParams.zoomOrigin,keys:kc(r.effectParams.keyList,t)}),n.push(o)}return n}function gd(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(Fn(Fn({trackID:Pd.encode(i.type),Vrsn:1,enab:!!i.enabled,Effc:!!i.effectParams},i.effectParams?{effectParams:{keyList:Ac(i.keys),fillCanvas:i.effectParams.fillCanvas,zoomOrigin:i.effectParams.zoomOrigin}}:{}),{keyList:Ac(i.keys)}))}return t}function Et(e,t){for(var n={},i=0,r=Object.keys(e);i<r.length;i++){var o=r[i],s=e[o];switch(o){case"enab":n.enabled=!!s;break;case"uglg":n.useGlobalLight=!!s;break;case"AntA":n.antialiased=!!s;break;case"Algn":n.align=!!s;break;case"Dthr":n.dither=!!s;break;case"Invr":n.invert=!!s;break;case"Rvrs":n.reverse=!!s;break;case"Clr ":n.color=Yt(s);break;case"hglC":n.highlightColor=Yt(s);break;case"sdwC":n.shadowColor=Yt(s);break;case"Styl":n.position=Ho.decode(s);break;case"Md  ":n.blendMode=Gt.decode(s);break;case"hglM":n.highlightBlendMode=Gt.decode(s);break;case"sdwM":n.shadowBlendMode=Gt.decode(s);break;case"bvlS":n.style=Fd.decode(s);break;case"bvlD":n.direction=Id.decode(s);break;case"bvlT":n.technique=wd.decode(s);break;case"GlwT":n.technique=Ed.decode(s);break;case"glwS":n.source=kd.decode(s);break;case"Type":n.type=jo.decode(s);break;case"gs99":n.interpolationMethod=Bi.decode(s);break;case"Opct":n.opacity=ze(s);break;case"hglO":n.highlightOpacity=ze(s);break;case"sdwO":n.shadowOpacity=ze(s);break;case"lagl":n.angle=lo(s);break;case"Angl":n.angle=lo(s);break;case"Lald":n.altitude=lo(s);break;case"Sftn":n.soften=Le(s);break;case"srgR":n.strength=ze(s);break;case"blur":n.size=Le(s);break;case"Nose":n.noise=ze(s);break;case"Inpr":n.range=ze(s);break;case"Ckmt":n.choke=Le(s);break;case"ShdN":n.jitter=ze(s);break;case"Dstn":n.distance=Le(s);break;case"Scl ":n.scale=ze(s);break;case"Ptrn":n.pattern={name:s["Nm  "],id:s.Idnt};break;case"phase":n.phase={x:s.Hrzn,y:s.Vrtc};break;case"Ofst":n.offset={x:ze(s.Hrzn),y:ze(s.Vrtc)};break;case"MpgS":case"TrnS":n.contour={name:s["Nm  "],curve:s["Crv "].map(function(a){return{x:a.Hrzn,y:a.Vrtc}})};break;case"Grad":n.gradient=md(s);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":n[o]=s;break;case"_name":case"_classID":break;default:t&&console.log("Invalid effect key: '".concat(o,"', value:"),s)}}return n}function kt(e,t,n){var i={enab:!1};t==="dropShadow"&&(i.TrnS={"Nm  ":"","Crv ":[]});for(var r=0,o=Object.keys(e);r<o.length;r++){var s=o[r],a=s,l=e[a];switch(a){case"enabled":i.enab=!!l;break;case"useGlobalLight":i.uglg=!!l;break;case"antialiased":i.AntA=!!l;break;case"align":i.Algn=!!l;break;case"dither":i.Dthr=!!l;break;case"invert":i.Invr=!!l;break;case"reverse":i.Rvrs=!!l;break;case"color":i["Clr "]=Zt(l);break;case"highlightColor":i.hglC=Zt(l);break;case"shadowColor":i.sdwC=Zt(l);break;case"position":i.Styl=Ho.encode(l);break;case"blendMode":i["Md  "]=Gt.encode(l);break;case"highlightBlendMode":i.hglM=Gt.encode(l);break;case"shadowBlendMode":i.sdwM=Gt.encode(l);break;case"style":i.bvlS=Fd.encode(l);break;case"direction":i.bvlD=Id.encode(l);break;case"technique":t==="bevel"?i.bvlT=wd.encode(l):i.GlwT=Ed.encode(l);break;case"source":i.glwS=kd.encode(l);break;case"type":i.Type=jo.encode(l);break;case"interpolationMethod":i.gs99=Bi.encode(l);break;case"opacity":i.Opct=ct(l);break;case"highlightOpacity":i.hglO=ct(l);break;case"shadowOpacity":i.sdwO=ct(l);break;case"angle":t==="gradientOverlay"||t==="patternFill"?i.Angl=fr(l):i.lagl=fr(l);break;case"altitude":i.Lald=fr(l);break;case"soften":i.Sftn=Ke(l,a);break;case"strength":i.srgR=ct(l);break;case"size":i.blur=Ke(l,a);break;case"noise":i.Nose=ct(l);break;case"range":i.Inpr=ct(l);break;case"choke":i.Ckmt=Ke(l,a);break;case"jitter":i.ShdN=ct(l);break;case"distance":i.Dstn=Ke(l,a);break;case"scale":i["Scl "]=ct(l);break;case"pattern":i.Ptrn={"Nm  ":l.name,Idnt:l.id};break;case"phase":i.phase={Hrzn:l.x,Vrtc:l.y};break;case"offset":i.Ofst={Hrzn:ct(l.x),Vrtc:ct(l.y)};break;case"contour":{i[t==="satin"?"MpgS":"TrnS"]={"Nm  ":l.name,"Crv ":l.curve.map(function(c){return{Hrzn:c.x,Vrtc:c.y}})};break}case"gradient":i.Grad=yd(l);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":i[a]=l;break;default:n&&console.log("Invalid effect key: '".concat(a,"', value:"),l)}}return i}function md(e){if(e.GrdF==="GrdF.CstS"){var t=e.Intr||4096;return{type:"solid",name:e["Nm  "],smoothness:e.Intr/4096,colorStops:e.Clrs.map(function(n){return{color:Yt(n["Clr "]),location:n.Lctn/t,midpoint:n.Mdpn/100}}),opacityStops:e.Trns.map(function(n){return{opacity:ze(n.Opct),location:n.Lctn/t,midpoint:n.Mdpn/100}})}}else return{type:"noise",name:e["Nm  "],roughness:e.Smth/4096,colorModel:Fo.decode(e.ClrS),randomSeed:e.RndS,restrictColors:!!e.VctC,addTransparency:!!e.ShTr,min:e["Mnm "].map(function(n){return n/100}),max:e["Mxm "].map(function(n){return n/100})}}function yd(e){var t,n;if(e.type==="solid"){var i=Math.round(((t=e.smoothness)!==null&&t!==void 0?t:1)*4096);return{"Nm  ":e.name||"",GrdF:"GrdF.CstS",Intr:i,Clrs:e.colorStops.map(function(r){var o;return{"Clr ":Zt(r.color),Type:"Clry.UsrS",Lctn:Math.round(r.location*i),Mdpn:Math.round(((o=r.midpoint)!==null&&o!==void 0?o:.5)*100)}}),Trns:e.opacityStops.map(function(r){var o;return{Opct:ct(r.opacity),Lctn:Math.round(r.location*i),Mdpn:Math.round(((o=r.midpoint)!==null&&o!==void 0?o:.5)*100)}})}}else return{GrdF:"GrdF.ClNs","Nm  ":e.name||"",ShTr:!!e.addTransparency,VctC:!!e.restrictColors,ClrS:Fo.encode(e.colorModel),RndS:e.randomSeed||0,Smth:Math.round(((n=e.roughness)!==null&&n!==void 0?n:1)*4096),"Mnm ":(e.min||[0,0,0,0]).map(function(r){return r*100}),"Mxm ":(e.max||[1,1,1,1]).map(function(r){return r*100})}}function bd(e){var t=md(e.Grad);return t.style=jo.decode(e.Type),e.Dthr!==void 0&&(t.dither=e.Dthr),e.gradientsInterpolationMethod!==void 0&&(t.interpolationMethod=Bi.decode(e.gradientsInterpolationMethod)),e.Rvrs!==void 0&&(t.reverse=e.Rvrs),e.Angl!==void 0&&(t.angle=lo(e.Angl)),e["Scl "]!==void 0&&(t.scale=ze(e["Scl "])),e.Algn!==void 0&&(t.align=e.Algn),e.Ofst!==void 0&&(t.offset={x:ze(e.Ofst.Hrzn),y:ze(e.Ofst.Vrtc)}),t}function Sd(e){var t={name:e.Ptrn["Nm  "],id:e.Ptrn.Idnt};return e.Lnkd!==void 0&&(t.linked=e.Lnkd),e.phase!==void 0&&(t.phase={x:e.phase.Hrzn,y:e.phase.Vrtc}),t}function Pr(e){if("Grad"in e)return bd(e);if("Ptrn"in e)return Fn({type:"pattern"},Sd(e));if("Clr "in e)return{type:"color",color:Yt(e["Clr "])};throw new Error("Invalid vector content")}function xd(e){var t={};return e.dither!==void 0&&(t.Dthr=e.dither),e.interpolationMethod!==void 0&&(t.gradientsInterpolationMethod=Bi.encode(e.interpolationMethod)),e.reverse!==void 0&&(t.Rvrs=e.reverse),e.angle!==void 0&&(t.Angl=fr(e.angle)),t.Type=jo.encode(e.style),e.align!==void 0&&(t.Algn=e.align),e.scale!==void 0&&(t["Scl "]=ct(e.scale)),e.offset&&(t.Ofst={Hrzn:ct(e.offset.x),Vrtc:ct(e.offset.y)}),t.Grad=yd(e),t}function Cd(e){var t={Ptrn:{"Nm  ":e.name||"",Idnt:e.id||""}};return e.linked!==void 0&&(t.Lnkd=!!e.linked),e.phase!==void 0&&(t.phase={Hrzn:e.phase.x,Vrtc:e.phase.y}),t}function _r(e){return e.type==="color"?{key:"SoCo",descriptor:{"Clr ":Zt(e.color)}}:e.type==="pattern"?{key:"PtFl",descriptor:Cd(e)}:{key:"GdFl",descriptor:xd(e)}}function Yt(e){if("H   "in e)return{h:Zm(e["H   "]),s:e.Strt,b:e.Brgh};if("Rd  "in e)return{r:e["Rd  "],g:e["Grn "],b:e["Bl  "]};if("Cyn "in e)return{c:e["Cyn "],m:e.Mgnt,y:e["Ylw "],k:e.Blck};if("Gry "in e)return{k:e["Gry "]};if("Lmnc"in e)return{l:e.Lmnc,a:e["A   "],b:e["B   "]};if("redFloat"in e)return{fr:e.redFloat,fg:e.greenFloat,fb:e.blueFloat};throw new Error("Unsupported color descriptor")}function Zt(e){if(e){if("r"in e)return{_name:"",_classID:"RGBC","Rd  ":e.r||0,"Grn ":e.g||0,"Bl  ":e.b||0};if("fr"in e)return{_name:"",_classID:"RGBC",redFloat:e.fr,greenFloat:e.fg,blueFloat:e.fb};if("h"in e)return{_name:"",_classID:"HSBC","H   ":fr(e.h*360),Strt:e.s||0,Brgh:e.b||0};if("c"in e)return{_name:"",_classID:"CMYC","Cyn ":e.c||0,Mgnt:e.m||0,"Ylw ":e.y||0,Blck:e.k||0};if("l"in e)return{_name:"",_classID:"LABC",Lmnc:e.l||0,"A   ":e.a||0,"B   ":e.b||0};if("k"in e)return{_name:"",_classID:"GRYC","Gry ":e.k};throw new Error("Invalid color value")}else return{_name:"",_classID:"RGBC","Rd  ":0,"Grn ":0,"Bl  ":0}}function lo(e){if(e===void 0)return 0;if(e.units!=="Angle")throw new Error("Invalid units: ".concat(e.units));return e.value}function ze(e){if(e===void 0)return 1;if(e.units!=="Percent")throw new Error("Invalid units: ".concat(e.units));return e.value/100}function Zm(e){if(e===void 0)return 1;if(e.units==="Percent")return e.value/100;if(e.units==="Angle")return e.value/360;throw new Error("Invalid units: ".concat(e.units))}function Le(e){var t=e.units,n=e.value;if(t!=="Pixels"&&t!=="Millimeters"&&t!=="Points"&&t!=="None"&&t!=="Picas"&&t!=="Inches"&&t!=="Centimeters"&&t!=="Density")throw new Error("Invalid units: ".concat(JSON.stringify({units:t,value:n})));return{value:n,units:t}}function Gn(e,t){return t===void 0&&(t="Pixels"),typeof e=="number"?{value:e,units:t}:Le(e)}function fr(e){return{units:"Angle",value:e||0}}function ct(e){return{units:"Percent",value:Math.round((e||0)*100)}}function Nt(e){return{units:"Percent",value:(e||0)*100}}function Ke(e,t){if(e==null)return{units:"Pixels",value:0};if(typeof e!="object")throw new Error("Invalid value: ".concat(JSON.stringify(e)," (key: ").concat(t,") (should have value and units)"));var n=e.units,i=e.value;if(typeof i!="number")throw new Error("Invalid value in ".concat(JSON.stringify(e)," (key: ").concat(t,")"));if(n!=="Pixels"&&n!=="Millimeters"&&n!=="Points"&&n!=="None"&&n!=="Picas"&&n!=="Inches"&&n!=="Centimeters"&&n!=="Density")throw new Error("Invalid units in ".concat(JSON.stringify(e)," (key: ").concat(t,")"));return{units:n,value:i}}function St(e){var t=e.numerator,n=e.denominator;return{numerator:t,denominator:n}}var Pc=me("textGridding","none",{none:"None",round:"Rnd "}),dr=me("Ornt","horizontal",{horizontal:"Hrzn",vertical:"Vrtc"}),_c=me("Annt","sharp",{none:"Anno",sharp:"antiAliasSharp",crisp:"AnCr",strong:"AnSt",smooth:"AnSm",platform:"antiAliasPlatformGray",platformLCD:"antiAliasPlatformLCD"}),ka=me("warpStyle","none",{none:"warpNone",arc:"warpArc",arcLower:"warpArcLower",arcUpper:"warpArcUpper",arch:"warpArch",bulge:"warpBulge",shellLower:"warpShellLower",shellUpper:"warpShellUpper",flag:"warpFlag",wave:"warpWave",fish:"warpFish",rise:"warpRise",fisheye:"warpFisheye",inflate:"warpInflate",squeeze:"warpSqueeze",twist:"warpTwist",cylinder:"warpCylinder",custom:"warpCustom"}),Gt=me("BlnM","normal",{normal:"Nrml",dissolve:"Dslv",darken:"Drkn",multiply:"Mltp","color burn":"CBrn","linear burn":"linearBurn","darker color":"darkerColor",lighten:"Lghn",screen:"Scrn","color dodge":"CDdg","linear dodge":"linearDodge","lighter color":"lighterColor",overlay:"Ovrl","soft light":"SftL","hard light":"HrdL","vivid light":"vividLight","linear light":"linearLight","pin light":"pinLight","hard mix":"hardMix",difference:"Dfrn",exclusion:"Xclu",subtract:"blendSubtraction",divide:"blendDivide",hue:"H   ",saturation:"Strt",color:"Clr ",luminosity:"Lmns","linear height":"linearHeight",height:"Hght",subtraction:"Sbtr"}),Fd=me("BESl","inner bevel",{"inner bevel":"InrB","outer bevel":"OtrB",emboss:"Embs","pillow emboss":"PlEb","stroke emboss":"strokeEmboss"}),wd=me("bvlT","smooth",{smooth:"SfBL","chisel hard":"PrBL","chisel soft":"Slmt"}),Id=me("BESs","up",{up:"In  ",down:"Out "}),Ed=me("BETE","softer",{softer:"SfBL",precise:"PrBL"}),kd=me("IGSr","edge",{edge:"SrcE",center:"SrcC"}),jo=me("GrdT","linear",{linear:"Lnr ",radial:"Rdl ",angle:"Angl",reflected:"Rflc",diamond:"Dmnd"}),Ad=me("animInterpStyle","linear",{linear:"Lnr ",hold:"hold"}),Pd=me("stdTrackID","opacity",{opacity:"opacityTrack",style:"styleTrack",sheetTransform:"sheetTransformTrack",sheetPosition:"sheetPositionTrack",globalLighting:"globalLightingTrack"}),Bi=me("gradientInterpolationMethodType","perceptual",{perceptual:"Perc",linear:"Lnr ",classic:"Gcls",smooth:"Smoo"}),Fo=me("ClrS","rgb",{rgb:"RGBC",hsb:"HSBl",lab:"LbCl",hsl:"HSLC"}),Ho=me("FStl","outside",{outside:"OutF",center:"CtrF",inside:"InsF"}),_d=me("FrFl","color",{color:"SClr",gradient:"GrFl",pattern:"Ptrn"}),Oc=me("ESliceType","image",{image:"Img ",noImage:"noImage"}),Tc=me("ESliceHorzAlign","default",{default:"default"}),Rc=me("ESliceVertAlign","default",{default:"default"}),Mc=me("ESliceOrigin","userGenerated",{userGenerated:"userGenerated",autoGenerated:"autoGenerated",layer:"layer"}),Lc=me("ESliceBGColorType","none",{none:"None",matte:"matte",color:"Clr "}),Dc=me("strokeStyleLineCapType","butt",{butt:"strokeStyleButtCap",round:"strokeStyleRoundCap",square:"strokeStyleSquareCap"}),Bc=me("strokeStyleLineJoinType","miter",{miter:"strokeStyleMiterJoin",round:"strokeStyleRoundJoin",bevel:"strokeStyleBevelJoin"}),Nc=me("strokeStyleLineAlignment","inside",{inside:"strokeStyleAlignInside",center:"strokeStyleAlignCenter",outside:"strokeStyleAlignOutside"}),Od=me("BlrM","ispinmage",{spin:"Spn ",zoom:"Zm  "}),Td=me("BlrQ","good",{draft:"Drft",good:"Gd  ",best:"Bst "}),Rd=me("SmBM","normal",{normal:"SBMN","edge only":"SBME","overlay edge":"SBMO"}),Md=me("SmBQ","medium",{low:"SBQL",medium:"SBQM",high:"SBQH"}),Ld=me("DspM","stretch to fit",{"stretch to fit":"StrF",tile:"Tile"}),Pi=me("UndA","repeat edge pixels",{"wrap around":"WrpA","repeat edge pixels":"RptE"}),Dd=me("Cnvr","rectangular to polar",{"rectangular to polar":"RctP","polar to rectangular":"PlrR"}),Bd=me("RplS","medium",{small:"Sml ",medium:"Mdm ",large:"Lrg "}),Nd=me("SphM","normal",{normal:"Nrml","horizontal only":"HrzO","vertical only":"VrtO"}),Ud=me("Wvtp","sine",{sine:"WvSn",triangle:"WvTr",square:"WvSq"}),Vd=me("ZZTy","pond ripples",{"around center":"ArnC","out from center":"OtFr","pond ripples":"PndR"}),Gd=me("Dstr","uniform",{uniform:"Unfr",gaussian:"Gsn "}),hr=me("Chnl","composite",{red:"Rd  ",green:"Grn ",blue:"Bl  ",composite:"Cmps"}),zd=me("MztT","fine dots",{"fine dots":"FnDt","medium dots":"MdmD","grainy dots":"GrnD","coarse dots":"CrsD","short lines":"ShrL","medium lines":"MdmL","long lines":"LngL","short strokes":"ShSt","medium strokes":"MdmS","long strokes":"LngS"}),jd=me("Lns ","50-300mm zoom",{"50-300mm zoom":"Zm  ","32mm prime":"Nkn ","105mm prime":"Nkn1","movie prime":"PnVs"}),Hd=me("blurType","gaussian blur",{"gaussian blur":"GsnB","lens blur":"lensBlur","motion blur":"MtnB"}),$d=me("DfsM","normal",{normal:"Nrml","darken only":"DrkO","lighten only":"LghO",anisotropic:"anisotropic"}),Wd=me("ExtT","blocks",{blocks:"Blks",pyramids:"Pyrm"}),Xd=me("ExtR","random",{random:"Rndm","level-based":"LvlB"}),Kd=me("FlCl","background color",{"background color":"FlBc","foreground color":"FlFr","inverse image":"FlIn","unaltered image":"FlSm"}),qd=me("CntE","upper",{lower:"Lwr ",upper:"Upr "}),Yd=me("WndM","wind",{wind:"Wnd ",blast:"Blst",stagger:"Stgr"}),Zd=me("Drct","from the right",{left:"Left",right:"Rght"}),Jd=me("IntE","odd lines",{"odd lines":"ElmO","even lines":"ElmE"}),Qd=me("IntC","interpolation",{duplication:"CrtD",interpolation:"CrtI"}),eh=me("FlMd","wrap around",{"set to transparent":"Bckg","repeat edge pixels":"Rpt ","wrap around":"Wrp "});me("prjM","fisheye",{fisheye:"fisP",perspective:"perP",auto:"auto","full spherical":"fusP"});var th=me("presetKindType","presetKindCustom",{custom:"presetKindCustom",default:"presetKindDefault"}),xi=function(){return xi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xi.apply(this,arguments)},nh={};function Re(e,t,n,i){var r={key:e,has:t,read:n,write:i};nh[r.key]=r}var Wr=[void 0,"PPI","PPCM"],Xr=[void 0,"Inches","Centimeters","Points","Picas","Columns"],Uc="0123456789abcdef";function Vc(e){return e<=57?e-48:e-87}function Jm(e,t){return Vc(e.charCodeAt(t))<<4|Vc(e.charCodeAt(t+1))}function Aa(e,t){var n=ot(e,t);return ad(n)}function Pa(e,t){var n=sd(t);On(e,n)}function Qm(e){for(var t=Q(e),n=ot(e,t),i=!1,r=0;r<n.byteLength;r++)if(n[r]&128){i=!0;break}if(i){var o=new TextDecoder("gbk");return o.decode(n)}else return ad(n)}function ey(e,t){for(var n="",i=0,r=t.codePointAt(i++);r!==void 0;r=t.codePointAt(i++))n+=r>127?"?":String.fromCodePoint(r);var o=sd(n);ae(e,o.byteLength),On(e,o)}Re(1061,function(e){return e.captionDigest!==void 0},function(e,t){for(var n="",i=0;i<16;i++){var r=Q(e);n+=Uc[r>>4],n+=Uc[r&15]}t.captionDigest=n},function(e,t){for(var n=0;n<16;n++)ae(e,Jm(t.captionDigest,n*2))});Re(1060,function(e){return e.xmpMetadata!==void 0},function(e,t,n){t.xmpMetadata=Aa(e,n())},function(e,t){Pa(e,t.xmpMetadata)});var Kr=me("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});Re(1082,function(e){return e.printInformation!==void 0},function(e,t){var n,i,r=ke(e);t.printInformation={printerName:r.printerName||"",renderingIntent:Kr.decode((n=r.Inte)!==null&&n!==void 0?n:"Inte.Img ")};var o=t.printInformation;r.PstS!==void 0&&(o.printerManagesColors=r.PstS),r["Nm  "]!==void 0&&(o.printerProfile=r["Nm  "]),r.MpBl!==void 0&&(o.blackPointCompensation=r.MpBl),r.printSixteenBit!==void 0&&(o.printSixteenBit=r.printSixteenBit),r.hardProof!==void 0&&(o.hardProof=r.hardProof),r.printProofSetup&&("Bltn"in r.printProofSetup?o.proofSetup={builtin:r.printProofSetup.Bltn.split(".")[1]}:o.proofSetup={profile:r.printProofSetup.profile,renderingIntent:Kr.decode((i=r.printProofSetup.Inte)!==null&&i!==void 0?i:"Inte.Img "),blackPointCompensation:!!r.printProofSetup.MpBl,paperWhite:!!r.printProofSetup.paperWhite})},function(e,t){var n,i,r=t.printInformation,o={};r.printerManagesColors?o.PstS=!0:(r.hardProof!==void 0&&(o.hardProof=!!r.hardProof),o.ClrS="ClrS.RGBC",o["Nm  "]=(n=r.printerProfile)!==null&&n!==void 0?n:"CIE RGB"),o.Inte=Kr.encode(r.renderingIntent),r.printerManagesColors||(o.MpBl=!!r.blackPointCompensation),o.printSixteenBit=!!r.printSixteenBit,o.printerName=r.printerName||"",r.proofSetup&&"profile"in r.proofSetup?o.printProofSetup={profile:r.proofSetup.profile||"",Inte:Kr.encode(r.proofSetup.renderingIntent),MpBl:!!r.proofSetup.blackPointCompensation,paperWhite:!!r.proofSetup.paperWhite}:o.printProofSetup={Bltn:!((i=r.proofSetup)===null||i===void 0)&&i.builtin?"builtinProof.".concat(r.proofSetup.builtin):"builtinProof.proofCMYK"},Ae(e,"","printOutput",o)});Re(1005,function(e){return e.resolutionInfo!==void 0},function(e,t){var n=Pt(e),i=W(e),r=W(e),o=Pt(e),s=W(e),a=W(e);t.resolutionInfo={horizontalResolution:n,horizontalResolutionUnit:Wr[i]||"PPI",widthUnit:Xr[r]||"Inches",verticalResolution:o,verticalResolutionUnit:Wr[s]||"PPI",heightUnit:Xr[a]||"Inches"}},function(e,t){var n=t.resolutionInfo;Ot(e,n.horizontalResolution||0),$(e,Math.max(1,Wr.indexOf(n.horizontalResolutionUnit))),$(e,Math.max(1,Xr.indexOf(n.widthUnit))),Ot(e,n.verticalResolution||0),$(e,Math.max(1,Wr.indexOf(n.verticalResolutionUnit))),$(e,Math.max(1,Xr.indexOf(n.heightUnit)))});var Gc=["centered","size to fit","user defined"];Re(1062,function(e){return e.printScale!==void 0},function(e,t){t.printScale={style:Gc[_e(e)],x:Xt(e),y:Xt(e),scale:Xt(e)}},function(e,t){var n=t.printScale,i=n.style,r=n.x,o=n.y,s=n.scale;Me(e,Math.max(0,Gc.indexOf(i))),Kt(e,r||0),Kt(e,o||0),Kt(e,s||0)});Re(1006,function(e){return e.alphaChannelNames!==void 0},function(e,t,n){if(t.alphaChannelNames)ie(e,n());else for(t.alphaChannelNames=[];n()>0;){var i=Qm(e);t.alphaChannelNames.push(i)}},function(e,t){for(var n=0,i=t.alphaChannelNames;n<i.length;n++){var r=i[n];ey(e,r)}});Re(1045,function(e){return e.alphaChannelNames!==void 0},function(e,t,n){for(t.alphaChannelNames=[];n()>0;)t.alphaChannelNames.push(ft(e))},function(e,t){for(var n=0,i=t.alphaChannelNames;n<i.length;n++){var r=i[n];oi(e,r)}});Re(1053,function(e){return e.alphaIdentifiers!==void 0},function(e,t,n){for(t.alphaIdentifiers=[];n()>=4;)t.alphaIdentifiers.push(X(e))},function(e,t){for(var n=0,i=t.alphaIdentifiers;n<i.length;n++){var r=i[n];Z(e,r)}});Re(1010,function(e){return e.backgroundColor!==void 0},function(e,t){return t.backgroundColor=lt(e)},function(e,t){return ut(e,t.backgroundColor)});Re(1037,function(e){return e.globalAngle!==void 0},function(e,t){return t.globalAngle=fe(e)},function(e,t){return xe(e,t.globalAngle)});Re(1049,function(e){return e.globalAltitude!==void 0},function(e,t){return t.globalAltitude=X(e)},function(e,t){return Z(e,t.globalAltitude)});Re(1011,function(e){return e.printFlags!==void 0},function(e,t){t.printFlags={labels:!!Q(e),cropMarks:!!Q(e),colorBars:!!Q(e),registrationMarks:!!Q(e),negative:!!Q(e),flip:!!Q(e),interpolate:!!Q(e),caption:!!Q(e),printFlags:!!Q(e)}},function(e,t){var n=t.printFlags;ae(e,n.labels?1:0),ae(e,n.cropMarks?1:0),ae(e,n.colorBars?1:0),ae(e,n.registrationMarks?1:0),ae(e,n.negative?1:0),ae(e,n.flip?1:0),ae(e,n.interpolate?1:0),ae(e,n.caption?1:0),ae(e,n.printFlags?1:0)});Re(1034,function(e){return e.copyrighted!==void 0},function(e,t){t.copyrighted=!!Q(e)},function(e,t){ae(e,t.copyrighted?1:0)});Re(1035,function(e){return e.url!==void 0},function(e,t,n){t.url=$o(e,n())},function(e,t){$y(e,t.url)});Re(1080,function(e){return e.countInformation!==void 0},function(e,t){var n=ke(e);t.countInformation=n.countGroupList.map(function(i){return{color:{r:i["Rd  "],g:i["Grn "],b:i["Bl  "]},name:i["Nm  "],size:i["Rds "],fontSize:i.fontSize,visible:i.Vsbl,points:i.countObjectList.map(function(r){return{x:r["X   "],y:r["Y   "]}})}})},function(e,t){var n={Vrsn:1,countGroupList:t.countInformation.map(function(i){return{"Rd  ":i.color.r,"Grn ":i.color.g,"Bl  ":i.color.b,"Nm  ":i.name,"Rds ":i.size,fontSize:i.fontSize,Vsbl:i.visible,countObjectList:i.points.map(function(r){return{"X   ":r.x,"Y   ":r.y}})}})};Ae(e,"","Cnt ",n)});Re(1024,function(e){return e.layerState!==void 0},function(e,t){return t.layerState=W(e)},function(e,t){return $(e,t.layerState)});Re(1026,function(e){return e.layersGroup!==void 0},function(e,t,n){for(t.layersGroup=[];n()>0;)t.layersGroup.push(W(e))},function(e,t){for(var n=0,i=t.layersGroup;n<i.length;n++){var r=i[n];$(e,r)}});Re(1072,function(e){return e.layerGroupsEnabledId!==void 0},function(e,t,n){for(t.layerGroupsEnabledId=[];n()>0;)t.layerGroupsEnabledId.push(Q(e))},function(e,t){for(var n=0,i=t.layerGroupsEnabledId;n<i.length;n++){var r=i[n];ae(e,r)}});Re(1069,function(e){return e.layerSelectionIds!==void 0},function(e,t){var n=W(e);for(t.layerSelectionIds=[];n--;)t.layerSelectionIds.push(X(e))},function(e,t){$(e,t.layerSelectionIds.length);for(var n=0,i=t.layerSelectionIds;n<i.length;n++){var r=i[n];Z(e,r)}});Re(1032,function(e){return e.gridAndGuidesInformation!==void 0},function(e,t){var n=X(e),i=X(e),r=X(e),o=X(e);if(n!==1)throw new Error("Invalid 1032 resource version: ".concat(n));t.gridAndGuidesInformation={grid:{horizontal:i,vertical:r},guides:[]};for(var s=0;s<o;s++)t.gridAndGuidesInformation.guides.push({location:X(e)/32,direction:Q(e)?"horizontal":"vertical"})},function(e,t){var n=t.gridAndGuidesInformation,i=n.grid||{horizontal:18*32,vertical:18*32},r=n.guides||[];Z(e,1),Z(e,i.horizontal),Z(e,i.vertical),Z(e,r.length);for(var o=0,s=r;o<s.length;o++){var a=s[o];Z(e,a.location*32),ae(e,a.direction==="horizontal"?1:0)}});Re(1065,function(e){return e.layerComps!==void 0},function(e,t){var n=ke(e,!0);t.layerComps={list:[]};for(var i=0,r=n.list;i<r.length;i++){var o=r[i];t.layerComps.list.push({id:o.compID,name:o["Nm  "],capturedInfo:o.capturedInfo}),"comment"in o&&(t.layerComps.list[t.layerComps.list.length-1].comment=o.comment)}"lastAppliedComp"in n&&(t.layerComps.lastApplied=n.lastAppliedComp)},function(e,t){for(var n=t.layerComps,i={list:[]},r=0,o=n.list;r<o.length;r++){var s=o[r],a={};a._classID="Comp",a["Nm  "]=s.name,"comment"in s&&(a.comment=s.comment),a.compID=s.id,a.capturedInfo=s.capturedInfo,i.list.push(a)}"lastApplied"in n&&(i.lastAppliedComp=n.lastApplied),Ae(e,"","CompList",i)});var zc=["normal",void 0,void 0,void 0,void 0,void 0,void 0,"multiply","screen",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"difference"];Re(1078,function(e){return e.onionSkins!==void 0},function(e,t){var n=ke(e);t.onionSkins={enabled:n.enab,framesBefore:n.numBefore,framesAfter:n.numAfter,frameSpacing:n.Spcn,minOpacity:n.minOpacity/100,maxOpacity:n.maxOpacity/100,blendMode:zc[n.BlnM]||"normal"}},function(e,t){var n=t.onionSkins,i={Vrsn:1,enab:n.enabled,numBefore:n.framesBefore,numAfter:n.framesAfter,Spcn:n.frameSpacing,minOpacity:n.minOpacity*100|0,maxOpacity:n.maxOpacity*100|0,BlnM:Math.max(0,zc.indexOf(n.blendMode))};Ae(e,"","null",i)});Re(1075,function(e){return e.timelineInformation!==void 0},function(e,t){var n,i,r=ke(e);t.timelineInformation={enabled:r.enab,frameStep:St(r.frameStep),frameRate:r.frameRate,time:St(r.time),duration:St(r.duration),workInTime:St(r.workInTime),workOutTime:St(r.workOutTime),repeats:r.LCnt,hasMotion:r.hasMotion,globalTracks:vd(r.globalTrackList,!!e.logMissingFeatures)},!((i=(n=r.audioClipGroupList)===null||n===void 0?void 0:n.audioClipGroupList)===null||i===void 0)&&i.length&&(t.timelineInformation.audioClipGroups=r.audioClipGroupList.audioClipGroupList.map(function(o){return{id:o.groupID,muted:o.muted,audioClips:o.audioClipList.map(function(s){var a=s.clipID,l=s.timeScope,c=s.muted,u=s.audioLevel,f=s.frameReader;return{id:a,start:St(l.Strt),duration:St(l.duration),inTime:St(l.inTime),outTime:St(l.outTime),muted:c,audioLevel:u,frameReader:{type:f.frameReaderType,mediaDescriptor:f.mediaDescriptor,link:{name:f["Lnk "]["Nm  "],fullPath:f["Lnk "].fullPath,relativePath:f["Lnk "].relPath}}}})}}))},function(e,t){var n,i=t.timelineInformation,r={Vrsn:1,enab:i.enabled,frameStep:i.frameStep,frameRate:i.frameRate,time:i.time,duration:i.duration,workInTime:i.workInTime,workOutTime:i.workOutTime,LCnt:i.repeats,globalTrackList:gd(i.globalTracks),audioClipGroupList:{audioClipGroupList:(n=i.audioClipGroups)===null||n===void 0?void 0:n.map(function(o){return{groupID:o.id,muted:o.muted,audioClipList:o.audioClips.map(function(s){return{clipID:s.id,timeScope:{Vrsn:1,Strt:s.start,duration:s.duration,inTime:s.inTime,outTime:s.outTime},frameReader:{frameReaderType:s.frameReader.type,descVersion:1,"Lnk ":{descVersion:1,"Nm  ":s.frameReader.link.name,fullPath:s.frameReader.link.fullPath,relPath:s.frameReader.link.relativePath},mediaDescriptor:s.frameReader.mediaDescriptor},muted:s.muted,audioLevel:s.audioLevel}})}})},hasMotion:i.hasMotion};Ae(e,"","null",r,"anim")});Re(1076,function(e){return e.sheetDisclosure!==void 0},function(e,t){var n=ke(e);t.sheetDisclosure={},n.sheetTimelineOptions&&(t.sheetDisclosure.sheetTimelineOptions=n.sheetTimelineOptions.map(function(i){return{sheetID:i.sheetID,sheetDisclosed:i.sheetDisclosed,lightsDisclosed:i.lightsDisclosed,meshesDisclosed:i.meshesDisclosed,materialsDisclosed:i.materialsDisclosed}}))},function(e,t){var n=t.sheetDisclosure,i={Vrsn:1};n.sheetTimelineOptions&&(i.sheetTimelineOptions=n.sheetTimelineOptions.map(function(r){return{Vrsn:2,sheetID:r.sheetID,sheetDisclosed:r.sheetDisclosed,lightsDisclosed:r.lightsDisclosed,meshesDisclosed:r.meshesDisclosed,materialsDisclosed:r.materialsDisclosed}})),Ae(e,"","null",i)});Re(1054,function(e){return e.urlsList!==void 0},function(e,t){var n=X(e);t.urlsList=[];for(var i=0;i<n;i++){var r=je(e);if(r!=="slic"&&e.throwForMissingFeatures)throw new Error("Unknown long");var o=X(e),s=ft(e);t.urlsList.push({id:o,url:s,ref:"slice"})}},function(e,t){var n=t.urlsList;Z(e,n.length);for(var i=0;i<n.length;i++)Se(e,"slic"),Z(e,n[i].id),Tt(e,n[i].url)});function jc(e){return{"Top ":e.top,Left:e.left,Btom:e.bottom,Rght:e.right}}function Hc(e){return{top:e["Top "],left:e.Left,bottom:e.Btom,right:e.Rght}}function qr(e,t){return e[Math.max(0,Math.min(e.length-1,t))]}var $c=["autoGenerated","layer","userGenerated"],Wc=["noImage","image"],Yr=["default"];Re(1050,function(e){return e.slices?e.slices.length:0},function(e,t){var n=X(e);if(n===6){t.slices||(t.slices=[]);var i=fe(e),r=fe(e),o=fe(e),s=fe(e),a=ft(e),l=X(e);t.slices.push({bounds:{top:i,left:r,bottom:o,right:s},groupName:a,slices:[]});for(var c=t.slices[t.slices.length-1].slices,u=0;u<l;u++){var f=X(e),d=X(e),h=qr($c,X(e)),S=h=="layer"?X(e):0,v=ft(e),E=qr(Wc,X(e)),b=fe(e),x=fe(e),w=fe(e),y=fe(e),L=ft(e),I=ft(e),A=ft(e),B=ft(e),N=!!Q(e),V=ft(e),G=qr(Yr,X(e)),ne=qr(Yr,X(e)),ee=Q(e),ce=Q(e),de=Q(e),J=Q(e),q=ee+ce+de+J===0?"none":ee===0?"matte":"color";c.push({id:f,groupId:d,origin:h,associatedLayerId:S,name:v,target:I,message:A,altTag:B,cellTextIsHTML:N,cellText:V,horizontalAlignment:G,verticalAlignment:ne,type:E,url:L,bounds:{top:x,left:b,bottom:y,right:w},backgroundColorType:q,backgroundColor:{r:ce,g:de,b:J,a:ee}})}var ue=ke(e);ue.slices.forEach(function(Pe){var ve=c.find(function(Ce){return Pe.sliceID==Ce.id});ve&&(ve.topOutset=Pe.topOutset,ve.leftOutset=Pe.leftOutset,ve.bottomOutset=Pe.bottomOutset,ve.rightOutset=Pe.rightOutset)})}else if(n===7||n===8){var ue=ke(e);t.slices||(t.slices=[]),t.slices.push({groupName:ue.baseName,bounds:Hc(ue.bounds),slices:ue.slices.map(function(ve){return xi(xi({},ve["Nm  "]?{name:ve["Nm  "]}:{}),{id:ve.sliceID,groupId:ve.groupID,associatedLayerId:0,origin:Mc.decode(ve.origin),type:Oc.decode(ve.Type),bounds:Hc(ve.bounds),url:ve.url,target:ve.null,message:ve.Msge,altTag:ve.altTag,cellTextIsHTML:ve.cellTextIsHTML,cellText:ve.cellText,horizontalAlignment:Tc.decode(ve.horzAlign),verticalAlignment:Rc.decode(ve.vertAlign),backgroundColorType:Lc.decode(ve.bgColorType),backgroundColor:ve.bgColor?{r:ve.bgColor["Rd  "],g:ve.bgColor["Grn "],b:ve.bgColor["Bl  "],a:ve.bgColor.alpha}:{r:0,g:0,b:0,a:0},topOutset:ve.topOutset||0,leftOutset:ve.leftOutset||0,bottomOutset:ve.bottomOutset||0,rightOutset:ve.rightOutset||0})})})}else throw new Error("Invalid slices version (".concat(n,")"))},function(e,t,n){var i=t.slices[n],r=i.bounds,o=i.groupName,s=i.slices;Z(e,6),xe(e,r.top),xe(e,r.left),xe(e,r.bottom),xe(e,r.right),Tt(e,o),Z(e,s.length);for(var a=0;a<s.length;a++){var l=s[a],c=l.backgroundColor,u=c.a,f=c.r,d=c.g,h=c.b;l.backgroundColorType==="none"?u=f=d=h=0:l.backgroundColorType==="matte"&&(u=0,f=d=h=255),Z(e,l.id),Z(e,l.groupId),Z(e,$c.indexOf(l.origin)),l.origin==="layer"&&Z(e,l.associatedLayerId),Tt(e,l.name||""),Z(e,Wc.indexOf(l.type)),xe(e,l.bounds.left),xe(e,l.bounds.top),xe(e,l.bounds.right),xe(e,l.bounds.bottom),Tt(e,l.url),Tt(e,l.target),Tt(e,l.message),Tt(e,l.altTag),ae(e,l.cellTextIsHTML?1:0),Tt(e,l.cellText),Z(e,Yr.indexOf(l.horizontalAlignment)),Z(e,Yr.indexOf(l.verticalAlignment)),ae(e,u),ae(e,f),ae(e,d),ae(e,h)}var S={bounds:jc(r),slices:[]};s.forEach(function(v){var E=xi(xi({sliceID:v.id,groupID:v.groupId,origin:Mc.encode(v.origin),Type:Oc.encode(v.type),bounds:jc(v.bounds)},v.name?{"Nm  ":v.name}:{}),{url:v.url,null:v.target,Msge:v.message,altTag:v.altTag,cellTextIsHTML:v.cellTextIsHTML,cellText:v.cellText,horzAlign:Tc.encode(v.horizontalAlignment),vertAlign:Rc.encode(v.verticalAlignment),bgColorType:Lc.encode(v.backgroundColorType)});if(v.backgroundColorType==="color"){var b=v.backgroundColor,x=b.r,w=b.g,y=b.b,L=b.a;E.bgColor={"Rd  ":x,"Grn ":w,"Bl  ":y,alpha:L}}E.topOutset=v.topOutset||0,E.leftOutset=v.leftOutset||0,E.bottomOutset=v.bottomOutset||0,E.rightOutset=v.rightOutset||0,S.slices.push(E)}),Ae(e,"","null",S,"slices")});Re(1064,function(e){return e.pixelAspectRatio!==void 0},function(e,t){if(X(e)>2)throw new Error("Invalid pixelAspectRatio version");t.pixelAspectRatio={aspect:zt(e)}},function(e,t){Z(e,2),un(e,t.pixelAspectRatio.aspect)});Re(1041,function(e){return e.iccUntaggedProfile!==void 0},function(e,t){t.iccUntaggedProfile=!!Q(e)},function(e,t){ae(e,t.iccUntaggedProfile?1:0)});Re(1044,function(e){return e.idsSeedNumber!==void 0},function(e,t){return t.idsSeedNumber=X(e)},function(e,t){return Z(e,t.idsSeedNumber)});Re(1036,function(e){return e.thumbnail!==void 0||e.thumbnailRaw!==void 0},function(e,t,n){var i=X(e),r=X(e),o=X(e);X(e),X(e),X(e);var s=W(e),a=W(e);if(i!==1||s!==24||a!==1){e.logMissingFeatures&&e.log("Invalid thumbnail data (format: ".concat(i,", bitsPerPixel: ").concat(s,", planes: ").concat(a,")")),ie(e,n());return}var l=n(),c=ot(e,l);e.useRawThumbnail?t.thumbnailRaw={width:r,height:o,data:c}:c.byteLength&&(t.thumbnail=Om(c))},function(e,t){var n,i=0,r=0,o=new Uint8Array(0);if(t.thumbnailRaw)i=t.thumbnailRaw.width,r=t.thumbnailRaw.height,o=t.thumbnailRaw.data;else try{var s=(n=t.thumbnail.toDataURL("image/jpeg",1))===null||n===void 0?void 0:n.substring(23);s&&(o=od(s),i=t.thumbnail.width,r=t.thumbnail.height)}catch{}var a=24,l=Math.floor((i*a+31)/32)*4,c=1,u=l*r*c,f=o.length;Z(e,1),Z(e,i),Z(e,r),Z(e,l),Z(e,u),Z(e,f),$(e,a),$(e,c),On(e,o)});Re(1057,function(e){return e.versionInfo!==void 0},function(e,t,n){var i=X(e);if(i!==1)throw new Error("Invalid versionInfo version");t.versionInfo={hasRealMergedData:!!Q(e),writerName:ft(e),readerName:ft(e),fileVersion:X(e)},ie(e,n())},function(e,t){var n=t.versionInfo;Z(e,1),ae(e,n.hasRealMergedData?1:0),Tt(e,n.writerName),Tt(e,n.readerName),Z(e,n.fileVersion)});Re(7e3,function(e){return e.imageReadyVariables!==void 0},function(e,t,n){t.imageReadyVariables=Aa(e,n())},function(e,t){Pa(e,t.imageReadyVariables)});Re(7001,function(e){return e.imageReadyDataSets!==void 0},function(e,t,n){t.imageReadyDataSets=Aa(e,n())},function(e,t){Pa(e,t.imageReadyDataSets)});Re(1088,function(e){return e.pathSelectionState!==void 0},function(e,t,n){var i=ke(e);t.pathSelectionState=i.null},function(e,t){var n={null:t.pathSelectionState};Ae(e,"","null",n)});var Xc=me("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"});Re(4e3,function(e){return e.animations!==void 0},function(e,t,n){var i=je(e);if(i==="mani")$n(e,"IRFR"),Mt(e,1,function(o){for(var s=function(){$n(e,"8BIM");var a=je(e);Mt(e,1,function(l){if(a==="AnDs"){var c=ke(e);t.animations={frames:c.FrIn.map(function(f){return{id:f.FrID,delay:(f.FrDl||0)/100,dispose:f.FrDs?Xc.decode(f.FrDs):"auto"}}),animations:c.FSts.map(function(f){return{id:f.FsID,frames:f.FsFr,repeats:f.LCnt,activeFrame:f.AFrm||0}})}}else if(a==="Roll"){var u=ot(e,l());e.logDevFeatures&&e.log("#4000 Roll",u)}else e.logMissingFeatures&&e.log("Unhandled subsection in #4000",a)})};o()>0;)s()});else if(i==="mopt"){var r=ot(e,n());e.logDevFeatures&&e.log("#4000 mopt",r)}else e.logMissingFeatures&&e.log("Unhandled key in #4000:",i)},function(e,t){t.animations&&(Se(e,"mani"),Se(e,"IRFR"),Jn(e,1,function(){Se(e,"8BIM"),Se(e,"AnDs"),Jn(e,1,function(){for(var n={FrIn:[],FSts:[]},i=0;i<t.animations.frames.length;i++){var r=t.animations.frames[i],o={FrID:r.id};r.delay&&(o.FrDl=r.delay*100|0),o.FrDs=Xc.encode(r.dispose),n.FrIn.push(o)}for(var i=0;i<t.animations.animations.length;i++){var s=t.animations.animations[i],a={FsID:s.id,AFrm:s.activeFrame|0,FsFr:s.frames,LCnt:s.repeats|0};n.FSts.push(a)}Ae(e,"","null",n)})}))});var ty=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},ih=[0,1,3,2],ny=["bitmap","grayscale","indexed","RGB","CMYK","multichannel","duotone","lab"];function Qs(e){for(var t=e.width*e.height*4,n=0;n<t;n+=4){var i=e.data[n];e.data[n+1]=i,e.data[n+2]=i}}function ea(e,t,n){var i=new DataView(e,t,n);return{view:i,offset:0,strict:!1,debug:!1,large:!1,globalAlpha:!1,log:console.log}}function ta(e,t){if(e.strict)throw new Error(t);e.debug&&e.log(t)}function Q(e){return e.offset+=1,e.view.getUint8(e.offset-1)}function iy(e){return e.view.getUint8(e.offset)}function _e(e){return e.offset+=2,e.view.getInt16(e.offset-2,!1)}function W(e){return e.offset+=2,e.view.getUint16(e.offset-2,!1)}function ry(e){return e.offset+=2,e.view.getUint16(e.offset-2,!0)}function fe(e){return e.offset+=4,e.view.getInt32(e.offset-4,!1)}function Kc(e){return e.offset+=4,e.view.getInt32(e.offset-4,!0)}function X(e){return e.offset+=4,e.view.getUint32(e.offset-4,!1)}function Xt(e){return e.offset+=4,e.view.getFloat32(e.offset-4,!1)}function zt(e){return e.offset+=8,e.view.getFloat64(e.offset-8,!1)}function Pt(e){return fe(e)/65536}function $t(e){return fe(e)/(1<<24)}function ot(e,t){var n=e.view.byteOffset+e.offset;if(e.offset+=t,n+t>e.view.buffer.byteLength){if(ta(e,"Reading bytes exceeding buffer length"),t>100*1024*1024)throw new Error("Reading past end of file");var i=new Uint8Array(t),r=Math.min(t,e.view.byteLength-n);return r>0&&i.set(new Uint8Array(e.view.buffer,n,r)),i}else return new Uint8Array(e.view.buffer,n,t)}function je(e){return rh(e,4)}function oy(e,t){var n=String.fromCharCode(e.view.getUint8(t))+String.fromCharCode(e.view.getUint8(t+1))+String.fromCharCode(e.view.getUint8(t+2))+String.fromCharCode(e.view.getUint8(t+3));return n=="8BIM"||n=="8B64"}function jn(e,t){for(var n=Q(e),i=n?rh(e,n):"";++n%t;)e.offset++;return i}function ft(e){var t=X(e);return _a(e,t)}function _a(e,t){for(var n="";t--;){var i=W(e);(i||t>0)&&(n+=String.fromCharCode(i))}return n}function sy(e,t){for(var n="";t--;){var i=ry(e);(i||t>0)&&(n+=String.fromCharCode(i))}return n}function $o(e,t){for(var n="";t--;)n+=String.fromCharCode(Q(e));return n}function ie(e,t){e.offset+=t}function $n(e,t,n){var i=e.offset,r=je(e);if(r!==t&&r!==n)throw new Error("Invalid signature: '".concat(r,"' at 0x").concat(i.toString(16)))}function rh(e,t){for(var n=ot(e,t),i="",r=0;r<n.length;r++)i+=String.fromCharCode(n[r]);return i}function ay(e){return e==="8BIM"||e==="MeSa"||e==="AgHg"||e==="PHUT"||e==="DCSR"}function ly(e,t){var n;t===void 0&&(t={}),$n(e,"8BPS");var i=W(e);if(i!==1&&i!==2)throw new Error("Invalid PSD file version: ".concat(i));ie(e,6);var r=W(e),o=X(e),s=X(e),a=W(e),l=W(e),c=i===1?3e4:3e5;if(s>c||o>c)throw new Error("Invalid size: ".concat(s,"x").concat(o));if(r>16)throw new Error("Invalid channel count: ".concat(r));if(![1,8,16,32].includes(a))throw new Error("Invalid bitsPerChannel: ".concat(a));if(ih.indexOf(l)===-1)throw new Error("Color mode not supported: ".concat((n=ny[l])!==null&&n!==void 0?n:l));var u={width:s,height:o,channels:r,bitsPerChannel:a,colorMode:l};Object.assign(e,t),e.large=i===2,e.globalAlpha=!1,Mt(e,1,function(v){if(v()){if(l===2){if(v()!=768)throw new Error("Invalid color palette size");u.palette=[];for(var E=0;E<256;E++)u.palette.push({r:Q(e),g:0,b:0});for(var E=0;E<256;E++)u.palette[E].g=Q(e);for(var E=0;E<256;E++)u.palette[E].b=Q(e)}ie(e,v())}});var f={};Mt(e,1,function(v){for(var E=function(){oh(e,ay);var b=W(e);jn(e,2),Mt(e,2,function(x){var w=nh[b],y=b===1036&&!!e.skipThumbnail;if(w&&!y)try{w.read(e,f,x)}catch(L){if(e.throwForMissingFeatures)throw L;ie(e,x())}else ie(e,x())})};v()>0;)E()}),f.layersGroup,f.layerGroupsEnabledId;var d=ty(f,["layersGroup","layerGroupsEnabledId"]);Object.keys(d)&&(u.imageResources=d),Mt(e,1,function(v){if(Mt(e,2,function(b){Oa(e,u,f),ie(e,b())},void 0,e.large),v()>0){var E=py(e);E&&(u.globalLayerMaskInfo=E)}else ie(e,v());for(;v()>0;){for(;v()&&iy(e)===0;)ie(e,1);v()>=12?sh(e,u,u,f):ie(e,v())}},void 0,e.large);var h=u.children&&u.children.length,S=e.skipCompositeImageData&&(e.skipLayerImageData||h);return S||my(e,u),u}function Oa(e,t,n){var i,r,o=n.layersGroup,s=o===void 0?[]:o,a=n.layerGroupsEnabledId,l=a===void 0?[]:a,c=_e(e);c<0&&(e.globalAlpha=!0,c=-c);for(var u=[],f=[],d=0;d<c;d++){var h=cy(e,t,n),S=h.layer,v=h.channels;s[d]!==void 0&&(S.linkGroup=s[d]),l[d]!==void 0&&(S.linkGroupEnabled=!!l[d]),u.push(S),f.push(v)}for(var d=0;d<c;d++)dy(e,t,u[d],f[d]);t.children||(t.children=[]);for(var E=[t],d=u.length-1;d>=0;d--){var b=u[d],x=b.sectionDivider?b.sectionDivider.type:0;x===1||x===2?(b.opened=x===1,b.children=[],!((i=b.sectionDivider)===null||i===void 0)&&i.key&&(b.blendMode=(r=Li[b.sectionDivider.key])!==null&&r!==void 0?r:b.blendMode),E[E.length-1].children.unshift(b),E.push(b)):x===3?E.pop():E[E.length-1].children.unshift(b)}}function cy(e,t,n){var i={};i.top=fe(e),i.left=fe(e),i.bottom=fe(e),i.right=fe(e);for(var r=W(e),o=[],s=0;s<r;s++){var a=_e(e),l=X(e);if(e.large){if(l!==0)throw new Error("Sizes larger than 4GB are not supported");l=X(e)}o.push({id:a,length:l})}$n(e,"8BIM");var c=je(e);if(!Li[c])throw new Error("Invalid blend mode: '".concat(c,"'"));i.blendMode=Li[c],i.opacity=Q(e)/255,i.clipping=Q(e)===1;var u=Q(e);return i.transparencyProtected=(u&1)!==0,i.hidden=(u&2)!==0,u&32&&(i.effectsOpen=!0),ie(e,1),Mt(e,1,function(f){uy(e,i);var d=fy(e);for(d&&(i.blendingRanges=d),i.name=jn(e,1);f()>4&&!oy(e,e.offset);)e.offset++;for(;f()>=12;)sh(e,i,t,n);ie(e,f())}),{layer:i,channels:o}}function uy(e,t){return Mt(e,1,function(n){if(n()){var i={};t.mask=i,i.top=fe(e),i.left=fe(e),i.bottom=fe(e),i.right=fe(e),i.defaultColor=Q(e);var r=Q(e);if(i.positionRelativeToLayer=(r&1)!==0,i.disabled=(r&2)!==0,i.fromVectorData=(r&8)!==0,n()>=18){var o={};t.realMask=o;var s=Q(e);o.positionRelativeToLayer=(s&1)!==0,o.disabled=(s&2)!==0,o.fromVectorData=(s&8)!==0,o.defaultColor=Q(e),o.top=fe(e),o.left=fe(e),o.bottom=fe(e),o.right=fe(e)}if(r&16){var a=Q(e);a&1&&(i.userMaskDensity=Q(e)/255),a&2&&(i.userMaskFeather=zt(e)),a&4&&(i.vectorMaskDensity=Q(e)/255),a&8&&(i.vectorMaskFeather=zt(e))}ie(e,n())}})}function Zr(e){return[Q(e),Q(e),Q(e),Q(e)]}function fy(e){return Mt(e,1,function(t){for(var n=Zr(e),i=Zr(e),r=[];t()>0;){var o=Zr(e),s=Zr(e);r.push({sourceRange:o,destRange:s})}return{compositeGrayBlendSource:n,compositeGraphBlendDestinationRange:i,ranges:r}})}function dy(e,t,n,i){if(!e.skipLayerImageData){var r=t.colorMode,o=r===void 0?3:r,s=t.bitsPerChannel,a=s===void 0?8:s;n.rawData={colorMode:o,bitsPerChannel:a,channels:[],large:e.large};for(var l=0,c=i;l<c.length;l++){var u=c[l],f=e.offset,d=0,h=void 0;if(u.length===1)throw new Error("Invalid channel length");if(u.length){if(d=W(e),d>3&&(e.offset-=1,d=W(e)),d>3&&(e.offset-=3,d=W(e)),d>3)throw new Error("Invalid compression: ".concat(d));u.length>2&&(h=ot(e,u.length-2))}e.offset=f+u.length,n.rawData.channels.push({id:u.id,compression:d,data:h})}e.useRawData||hy(n,!!e.useImageData,!!e.throwForMissingFeatures)}}function qc(e,t){for(var n=e.data,i=n instanceof Float32Array?1:n instanceof Uint16Array?65535:255,r=(t?4:3)|0,o=n.length|0,s=(t?5:4)|0,a=r;a<o;a=a+s|0)n[a]=i}function hy(e,t,n){if(e.rawData){var i=e.rawData,r=i.colorMode,o=i.bitsPerChannel,s=i.channels,a=i.large,l=(e.right||0)-(e.left||0),c=(e.bottom||0)-(e.top||0),u=r===4,f,d=!1;if(l&&c)if(u){if(o!==8)throw new Error("bitsPerChannel Not supproted");f={width:l,height:c,data:new Uint8ClampedArray(l*c*5)}}else f=na(l,c,o);for(var h=0,S=s;h<S.length;h++){var v=S[h],E=v.id,b=v.compression,x=v.data;if(x){var w=ea(x.buffer,x.byteOffset,x.byteLength);if(E===-2||E===-3){var y=E===-2?e.mask:e.realMask;if(!y)throw new Error("Missing layer ".concat(E===-2?"mask":"real mask"," data"));var L=(y.right||0)-(y.left||0),I=(y.bottom||0)-(y.top||0);if(L<0||I<0||L>3e4||I>3e4)throw new Error("Invalid mask size");if(L&&I){var A=na(L,I,o);Yc(w,x.byteLength,A,b,L,I,o,0,a,4),Qs(A),qc(A,!1),t?y.imageData=A:y.canvas=Zs(A)}}else{var B=Am(E,u),N=f;if(B<0&&(N=void 0,n))throw new Error("Channel not supported: ".concat(E));Yc(w,x.byteLength,N,b,l,c,o,B,a,u?5:4),N&&r===1&&Qs(N)}E===-1&&(d=!0)}}if(f){if(d||qc(f,u),u){var V=f;f=Cr(V.width,V.height),ah(V,f,!1)}t?e.imageData=f:e.canvas=Zs(f)}delete e.rawData}}function Yc(e,t,n,i,r,o,s,a,l,c){if(t)if(i===0){t!==r*o*Math.floor(s/8)&&e.log("Invalid length (".concat(t,", ").concat(r*o*Math.floor(s/8),")"));var u=ot(e,t);ch(u,n,s,c,a)}else if(i===1)Yi(e,n,r,o,s,c,[a],l);else if(i===2){var u=ot(e,t);Zc(u,n,r,o,s,c,a,!1)}else if(i===3){var u=ot(e,t);Zc(u,n,r,o,s,c,a,!0)}else throw new Error("Invalid Compression type: ".concat(i))}function py(e){return Mt(e,1,function(t){if(t()){var n=W(e),i=W(e),r=W(e),o=W(e),s=W(e),a=W(e)/255,l=Q(e);return ie(e,t()),{overlayColorSpace:n,colorSpace1:i,colorSpace2:r,colorSpace3:o,colorSpace4:s,opacity:a,kind:l}}})}var vy=[0,1,-1,2,-2,3,-3,4,-4];function oh(e,t){for(var n=e.offset,i="",r=0,o=vy;r<o.length;r++){var s=o[r];try{e.offset=n+s,i=je(e)}catch{}if(t(i))break}if(!t(i))throw new Error("Invalid signature: '".concat(i,"' at 0x").concat(n.toString(16)));return i}function gy(e){return e==="8BIM"||e==="8B64"}function sh(e,t,n,i){var r=oh(e,gy),o=je(e),s=r==="8B64"||e.large&&Em.indexOf(o)!==-1;Mt(e,2,function(a){var l=wo[o];if(l)try{l.read(e,t,a,n,i)}catch(c){if(e.throwForMissingFeatures)throw c}else e.logMissingFeatures&&e.log("Unhandled additional info: ".concat(o)),ie(e,a());a()&&(e.logMissingFeatures&&e.log("Unread ".concat(a()," bytes left for additional info: ").concat(o)),ie(e,a()))},!1,s)}function na(e,t,n,i){if(i===void 0&&(i=4),n===1||n===8)return i===4?Cr(e,t):{width:e,height:t,data:new Uint8ClampedArray(e*t*i)};if(n===16)return{width:e,height:t,data:new Uint16Array(e*t*i)};if(n===32)return{width:e,height:t,data:new Float32Array(e*t*i)};throw new Error("Invalid bitDepth (".concat(n,")"))}function my(e,t){var n,i=W(e),r=(n=t.bitsPerChannel)!==null&&n!==void 0?n:8;if(ih.indexOf(t.colorMode)===-1)throw new Error("Color mode not supported: ".concat(t.colorMode));if(i!==0&&i!==1)throw new Error("Compression type not supported: ".concat(i));var o=na(t.width,t.height,r);switch(Pm(o),t.colorMode){case 0:{if(r!==1)throw new Error("Invalid bitsPerChannel for bitmap color mode");var s=void 0;if(i===0)s=ot(e,Math.ceil(t.width/8)*t.height);else if(i===1)s=new Uint8Array(t.width*t.height),Yi(e,{data:s,width:t.width,height:t.height},t.width,t.height,8,1,[0],e.large);else throw new Error("Bitmap compression not supported: ".concat(i));_m(s,o.data,t.width,t.height);break}case 3:case 1:{var a=t.colorMode===1?[0]:[0,1,2];if(t.channels&&t.channels>3)for(var l=3;l<t.channels;l++)a.push(l);else e.globalAlpha&&a.push(3);if(i===0)for(var l=0;l<a.length;l++){var c=ot(e,t.width*t.height*Math.floor(r/8));ch(c,o,r,4,a[l])}else i===1&&(e.offset,Yi(e,o,t.width,t.height,r,4,a,e.large));t.colorMode===1&&Qs(o);break}case 2:{if(r!==8)throw new Error("bitsPerChannel Not supproted");if(t.channels!==1)throw new Error("Invalid channel count");if(!t.palette)throw new Error("Missing color palette");if(i===0)throw new Error("Not implemented");if(i===1){var u={width:o.width,height:o.height,data:new Uint8Array(o.width*o.height)};Yi(e,u,t.width,t.height,r,1,[0],e.large),yy(u,o,t.palette)}else throw new Error("Not implemented");break}case 4:{if(r!==8)throw new Error("bitsPerChannel Not supproted");if(t.channels!==4)throw new Error("Invalid channel count");var a=[0,1,2,3];if(e.globalAlpha&&a.push(4),i===0)throw new Error("Not implemented");if(i===1){var f={width:o.width,height:o.height,data:new Uint8Array(o.width*o.height*5)};e.offset,Yi(e,f,t.width,t.height,r,5,a,e.large),ah(f,o,!0)}else throw new Error("Not implemented");break}default:throw new Error("Color mode not supported: ".concat(t.colorMode))}if(e.globalAlpha){if(t.bitsPerChannel!==8)throw new Error("bitsPerChannel Not supproted");for(var d=o.data,h=o.width*o.height*4,l=0;l<h;l+=4){var S=d[l+3];if(S!=0&&S!=255){var v=S/255,E=1/v,b=255*(1-E);d[l+0]=d[l+0]*E+b,d[l+1]=d[l+1]*E+b,d[l+2]=d[l+2]*E+b}}}e.useImageData?t.imageData=o:t.canvas=Zs(o)}function ah(e,t,n){for(var i=t.width*t.height*4,r=e.data,o=t.data,s=0,a=0;a<i;s+=5,a+=4){var l=r[s],c=r[s+1],u=r[s+2],f=r[s+3];o[a]=(l*f|0)/255|0,o[a+1]=(c*f|0)/255|0,o[a+2]=(u*f|0)/255|0,o[a+3]=n?255-r[s+4]:r[s+4]}}function yy(e,t,n){for(var i=e.width*e.height,r=e.data,o=t.data,s=0,a=0;s<i;s++,a+=4){var l=n[r[s]];o[a+0]=l.r,o[a+1]=l.g,o[a+2]=l.b,o[a+3]=255}}function by(e,t){if(e.byteLength/e.length!==t.byteLength/t.length)throw new Error("Invalid array types")}function lh(e,t){if(t===8)return e;if(t===16)if(e.byteOffset%2){var n=new Uint16Array(e.byteLength/2);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength).set(e),n}else return new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);else if(t===32)if(e.byteOffset%4){var n=new Float32Array(e.byteLength/4);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength).set(e),n}else return new Float32Array(e.buffer,e.byteOffset,e.byteLength/4);else throw new Error("Invalid bitDepth (".concat(t,")"))}function ia(e,t,n,i){by(e.data,t);for(var r=e.width*e.height,o=e.data,s=0,a=n|0;s<r;s++,a=a+i|0)o[a]=t[s]}function ch(e,t,n,i,r){if(n==32)for(var o=0;o<e.byteLength;o+=4){var s=e[o+0],a=e[o+1],l=e[o+2],c=e[o+3];e[o+0]=c,e[o+1]=l,e[o+2]=a,e[o+3]=s}var u=lh(e,n);t&&r<i&&ia(t,u,r,i)}function Fs(e,t,n,i){for(var r=0;r<n;r++)for(var o=r*t,s=1,a=o+1;s<t;s++,a++)e[a]=(e[a-1]+e[a])%i}function Zc(e,t,n,i,r,o,s,a){var l=ym(e);if(t&&s<o){var c=lh(l,r);if(r===8)a&&Fs(l,n,i,256),ia(t,l,s,o);else if(r===16)a&&Fs(c,n,i,65536),ia(t,c,s,o);else if(r===32){a&&Fs(l,n*4,i,256);for(var u=s,f=new Uint32Array(t.data.buffer,t.data.byteOffset,t.data.length),d=0;d<i;d++)for(var h=n*4*d,S=0;S<n;S++,h++,u+=o){var v=h+n,E=v+n,b=E+n;f[u]=(l[h]<<24|l[v]<<16|l[E]<<8|l[b])>>>0}}else throw new Error("Invalid bitDepth")}}function Yi(e,t,n,i,r,o,s,a){var l=t&&t.data,c;if(a){c=new Uint32Array(s.length*i);for(var u=0,f=0;u<s.length;u++)for(var d=0;d<i;d++,f++)c[f]=X(e)}else{c=new Uint16Array(s.length*i);for(var u=0,f=0;u<s.length;u++)for(var d=0;d<i;d++,f++)c[f]=W(e)}if(r!==1&&r!==8)throw new Error("Invalid bit depth (".concat(r,")"));for(var h=o-1|0,S=0,f=0;S<s.length;S++){var v=s[S]|0,E=S>h||v>h;if(!l||E)for(var d=0;d<i;d++,f++)ie(e,c[f]);else for(var d=0,b=v|0;d<i;d++,f++)for(var x=c[f],w=ot(e,x),y=0,L=0;y<x;y++){var I=w[y];if(I>128){var A=w[++y];I=256-I|0;for(var B=0;B<=I&&L<n;B=B+1|0,L=L+1|0)l[b]=A,b=b+o|0}else if(I<128)for(var B=0;B<=I&&L<n;B=B+1|0,L=L+1|0)l[b]=w[++y],b=b+o|0}}}function Mt(e,t,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var o=X(e);if(r){if(o!==0)throw new Error("Sizes larger than 4GB are not supported");o=X(e)}if(!(o<=0&&i)){var s=e.offset+o;if(s>e.view.byteLength)throw new Error("Section exceeds file size");var a=n(function(){return s-e.offset});for(e.offset!==s&&(e.offset>s?ta(e,"Exceeded section limits"):ta(e,"Unread section data"));o%t;)o++,s++;return e.offset=s,a}}function lt(e){var t=W(e);switch(t){case 0:{var n=W(e)/257,i=W(e)/257,r=W(e)/257;return ie(e,2),{r:n,g:i,b:r}}case 1:{var o=W(e)/65535,s=W(e)/65535,r=W(e)/65535;return ie(e,2),{h:o,s,b:r}}case 2:{var a=W(e)/257,l=W(e)/257,c=W(e)/257,u=W(e)/257;return{c:a,m:l,y:c,k:u}}case 7:{var f=_e(e)/1e4,d=_e(e),h=_e(e),S=d<0?d/12800:d/12700,r=h<0?h/12800:h/12700;return ie(e,2),{l:f,a:S,b:r}}case 8:{var u=W(e)*255/1e4;return ie(e,6),{k:u}}default:throw new Error("Invalid color space")}}var uh=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function pi(e){return $n(e,"8BIM"),Li[je(e)]||"normal"}function bi(e,t){Se(e,"8BIM"),Se(e,id[t]||"norm")}function vi(e){return Q(e)/255}function Si(e,t){ae(e,Math.round(t*255)|0)}function Sy(e){var t=W(e);if(t!==0)throw new Error("Invalid effects layer version: ".concat(t));for(var n=W(e),i={},r=0;r<n;r++){$n(e,"8BIM");var o=je(e);switch(o){case"cmnS":{var s=X(e),a=X(e),l=!!Q(e);if(ie(e,2),s!==7||a!==0||!l)throw new Error("Invalid effects common state");break}case"dsdw":case"isdw":{var c=X(e),u=X(e);if(c!==41&&c!==51)throw new Error("Invalid shadow size: ".concat(c));if(u!==0&&u!==2)throw new Error("Invalid shadow version: ".concat(u));var s=Pt(e);Pt(e);var f=Pt(e),d=Pt(e),h=lt(e),S=pi(e),v=!!Q(e),E=!!Q(e),b=vi(e);c>=51&&lt(e);var x={size:{units:"Pixels",value:s},distance:{units:"Pixels",value:d},angle:f,color:h,blendMode:S,enabled:v,useGlobalLight:E,opacity:b};o==="dsdw"?i.dropShadow=[x]:i.innerShadow=[x];break}case"oglw":{var c=X(e),w=X(e);if(c!==32&&c!==42)throw new Error("Invalid outer glow size: ".concat(c));if(w!==0&&w!==2)throw new Error("Invalid outer glow version: ".concat(w));var s=Pt(e);Pt(e);var h=lt(e),S=pi(e),v=!!Q(e),b=vi(e);c>=42&&lt(e),i.outerGlow={size:{units:"Pixels",value:s},color:h,blendMode:S,enabled:v,opacity:b};break}case"iglw":{var c=X(e),y=X(e);if(c!==32&&c!==43)throw new Error("Invalid inner glow size: ".concat(c));if(y!==0&&y!==2)throw new Error("Invalid inner glow version: ".concat(y));var s=Pt(e);Pt(e);var h=lt(e),S=pi(e),v=!!Q(e),b=vi(e);c>=43&&(Q(e),lt(e)),i.innerGlow={size:{units:"Pixels",value:s},color:h,blendMode:S,enabled:v,opacity:b};break}case"bevl":{var c=X(e),L=X(e);if(c!==58&&c!==78)throw new Error("Invalid bevel size: ".concat(c));if(L!==0&&L!==2)throw new Error("Invalid bevel version: ".concat(L));var f=Pt(e),I=Pt(e),s=Pt(e),A=pi(e),B=pi(e),N=lt(e),V=lt(e),G=uh[Q(e)]||"inner bevel",ne=vi(e),ee=vi(e),v=!!Q(e),E=!!Q(e),ce=Q(e)?"down":"up";c>=78&&(lt(e),lt(e)),i.bevel={size:{units:"Pixels",value:s},angle:f,strength:I,highlightBlendMode:A,shadowBlendMode:B,highlightColor:N,shadowColor:V,style:G,highlightOpacity:ne,shadowOpacity:ee,enabled:v,useGlobalLight:E,direction:ce};break}case"sofi":{var s=X(e),de=X(e);if(s!==34)throw new Error("Invalid effects solid fill info size: ".concat(s));if(de!==2)throw new Error("Invalid effects solid fill info version: ".concat(de));var S=pi(e),h=lt(e),b=vi(e),v=!!Q(e);lt(e),i.solidFill=[{blendMode:S,color:h,opacity:b,enabled:v}];break}default:throw new Error("Invalid effect type: '".concat(o,"'"))}}return i}function Jc(e,t){var n;Z(e,51),Z(e,2),Ot(e,t.size&&t.size.value||0),Ot(e,0),Ot(e,t.angle||0),Ot(e,t.distance&&t.distance.value||0),ut(e,t.color),bi(e,t.blendMode),ae(e,t.enabled?1:0),ae(e,t.useGlobalLight?1:0),Si(e,(n=t.opacity)!==null&&n!==void 0?n:1),ut(e,t.color)}function xy(e,t){var n,i,r,o,s,a,l=(n=t.dropShadow)===null||n===void 0?void 0:n[0],c=(i=t.innerShadow)===null||i===void 0?void 0:i[0],u=t.outerGlow,f=t.innerGlow,d=t.bevel,h=(r=t.solidFill)===null||r===void 0?void 0:r[0],S=1;if(l&&S++,c&&S++,u&&S++,f&&S++,d&&S++,h&&S++,$(e,0),$(e,S),Se(e,"8BIM"),Se(e,"cmnS"),Z(e,7),Z(e,0),ae(e,1),De(e,2),l&&(Se(e,"8BIM"),Se(e,"dsdw"),Jc(e,l)),c&&(Se(e,"8BIM"),Se(e,"isdw"),Jc(e,c)),u&&(Se(e,"8BIM"),Se(e,"oglw"),Z(e,42),Z(e,2),Ot(e,((o=u.size)===null||o===void 0?void 0:o.value)||0),Ot(e,0),ut(e,u.color),bi(e,u.blendMode),ae(e,u.enabled?1:0),Si(e,u.opacity||0),ut(e,u.color)),f&&(Se(e,"8BIM"),Se(e,"iglw"),Z(e,43),Z(e,2),Ot(e,((s=f.size)===null||s===void 0?void 0:s.value)||0),Ot(e,0),ut(e,f.color),bi(e,f.blendMode),ae(e,f.enabled?1:0),Si(e,f.opacity||0),ae(e,0),ut(e,f.color)),d){Se(e,"8BIM"),Se(e,"bevl"),Z(e,78),Z(e,2),Ot(e,d.angle||0),Ot(e,d.strength||0),Ot(e,((a=d.size)===null||a===void 0?void 0:a.value)||0),bi(e,d.highlightBlendMode),bi(e,d.shadowBlendMode),ut(e,d.highlightColor),ut(e,d.shadowColor);var v=uh.indexOf(d.style);ae(e,v<=0?1:v),Si(e,d.highlightOpacity||0),Si(e,d.shadowOpacity||0),ae(e,d.enabled?1:0),ae(e,d.useGlobalLight?1:0),ae(e,d.direction==="down"?1:0),ut(e,d.highlightColor),ut(e,d.shadowColor)}h&&(Se(e,"8BIM"),Se(e,"sofi"),Z(e,34),Z(e,2),bi(e,h.blendMode),ut(e,h.color),Si(e,h.opacity||0),ae(e,h.enabled?1:0),ut(e,h.color))}function Qc(e){return e===32||e===10||e===13||e===9}function eu(e){return e>=48&&e<=57||e===46||e===45}function fh(e){var t=0;function n(){for(;t<e.length&&Qc(e[t]);)t++}function i(){var x=e[t];return t++,x===92&&(x=e[t],t++),x}function r(){var x="";if(e[t]===41)return t++,x;if(e[t]!==254||e[t+1]!==255)throw new Error("Invalid utf-16 BOM");for(t+=2;t<e.length&&e[t]!==41;){var w=i(),y=i(),L=w<<8|y;x+=String.fromCharCode(L)}return t++,x}var o=null,s=[];function a(x){s.length?(l(x),s.push(x)):(s.push(x),o=x)}function l(x){if(!s.length)throw new Error("Invalid data");var w=s[s.length-1];if(typeof w=="string")s[s.length-2][w]=x,u();else if(Array.isArray(w))w.push(x);else throw new Error("Invalid data")}function c(x){s.length||a({});var w=s[s.length-1];if(w&&typeof w=="string")l(x==="nil"?null:"/".concat(x));else if(w&&typeof w=="object")s.push(x);else throw new Error("Invalid data")}function u(){if(!s.length)throw new Error("Invalid data");s.pop()}n();for(var f=e.length;f>0&&e[f-1]===0;)f--;for(;t<f;){var d=t,h=e[d];if(h===60&&e[d+1]===60)t+=2,a({});else if(h===62&&e[d+1]===62)t+=2,u();else if(h===47){t+=1;for(var S=t;t<e.length&&!Qc(e[t]);)t++;for(var v="",E=S;E<t;E++)v+=String.fromCharCode(e[E]);c(v)}else if(h===40)t+=1,l(r());else if(h===91)t+=1,a([]);else if(h===93)t+=1,u();else if(h===110&&e[d+1]===117&&e[d+2]===108&&e[d+3]===108)t+=4,l(null);else if(h===116&&e[d+1]===114&&e[d+2]===117&&e[d+3]===101)t+=4,l(!0);else if(h===102&&e[d+1]===97&&e[d+2]===108&&e[d+3]===115&&e[d+4]===101)t+=5,l(!1);else if(eu(h)){for(var b="";t<e.length&&eu(e[t]);)b+=String.fromCharCode(e[t]),t++;l(parseFloat(b))}else t+=1,console.log("Invalid token '".concat(String.fromCharCode(h),"' (").concat(h,") at ").concat(t));n()}return o}var Cy=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth","AutoLeading"],Fy=["RunLengthArray"];function wy(e,t){t===void 0&&(t=!1);var n=new Uint8Array(1024),i=0,r=0;function o(x){if(i>=n.length){var w=new Uint8Array(n.length*2);w.set(n),n=w}n[i]=x,i++}function s(x){for(var w=0;w<x.length;w++)o(x.charCodeAt(w))}function a(){if(t)s(" ");else for(var x=0;x<r;x++)s("	")}function l(x,w){a(),s("/".concat(x)),S(w,x,!0),t||s(`
`)}function c(x){return x.toString()}function u(x){return x.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")}function f(x,w){var y=w&&Cy.indexOf(w)!==-1||(x|0)!==x;return y?u(x):c(x)}function d(x){var w=Object.keys(x);return w.indexOf("98")!==-1&&w.unshift.apply(w,w.splice(w.indexOf("99"),1)),w.indexOf("99")!==-1&&w.unshift.apply(w,w.splice(w.indexOf("99"),1)),w}function h(x){(x===40||x===41||x===92)&&o(92),o(x)}function S(x,w,y){y===void 0&&(y=!1);function L(){y?s(" "):a()}if(x===null)L(),s(t?"/nil":"null");else if(typeof x=="number")L(),s(f(x,w));else if(typeof x=="boolean")L(),s(x?"true":"false");else if(typeof x=="string")if(L(),(w==="99"||w==="98")&&x.charAt(0)==="/")s(x);else{s("("),o(254),o(255);for(var I=0;I<x.length;I++){var A=x.charCodeAt(I);h(A>>8&255),h(A&255)}s(")")}else if(Array.isArray(x))if(L(),x.every(function(q){return typeof q=="number"})){s("[");for(var B=Fy.indexOf(w)!==-1,N=0,V=x;N<V.length;N++){var G=V[N];s(" "),s(B?f(G):u(G))}s(" ]")}else{s("["),t||s(`
`);for(var ne=0,ee=x;ne<ee.length;ne++){var G=ee[ne];S(G,w),t||s(`
`)}a(),s("]")}else if(typeof x=="object"){y&&!t&&s(`
`),a(),s("<<"),t||s(`
`),r++;for(var ce=0,de=d(x);ce<de.length;ce++){var J=de[ce];l(J,x[J])}r--,a(),s(">>")}}if(t){if(typeof e=="object")for(var v=0,E=d(e);v<E.length;v++){var b=E[v];l(b,e[b])}}else s(`

`),S(e);return n.slice(0,i)}var rt=function(){return rt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rt.apply(this,arguments)},dh={name:"MyriadPro-Regular",script:0,type:0,synthetic:0},Jr={justification:"left",firstLineIndent:0,startIndent:0,endIndent:0,spaceBefore:0,spaceAfter:0,autoHyphenate:!0,hyphenatedWordSize:6,preHyphen:2,postHyphen:2,consecutiveHyphens:8,zone:36,wordSpacing:[.8,1,1.33],letterSpacing:[0,0,0],glyphSpacing:[1,1,1],autoLeading:1.2,leadingType:0,hanging:!1,burasagari:!1,kinsokuOrder:0,everyLineComposer:!1},Iy={font:dh,fontSize:12,fauxBold:!1,fauxItalic:!1,autoLeading:!0,leading:0,horizontalScale:1,verticalScale:1,tracking:0,autoKerning:!0,kerning:0,baselineShift:0,fontCaps:0,fontBaseline:0,underline:!1,strikethrough:!1,ligatures:!0,dLigatures:!1,baselineDirection:2,tsume:0,styleRunAlignment:2,language:0,noBreak:!1,fillColor:{r:0,g:0,b:0},strokeColor:{r:0,g:0,b:0},fillFlag:!0,strokeFlag:!1,fillFirst:!0,yUnderline:1,outlineWidth:1,characterDirection:0,hindiNumbers:!1,kashida:1,diacriticPos:2},Ey={isOn:!1,show:!1,size:18,leading:22,color:{r:0,g:0,b:255},leadingFillColor:{r:0,g:0,b:255},alignLineHeightToGridFlags:!1},Ta=["justification","firstLineIndent","startIndent","endIndent","spaceBefore","spaceAfter","autoHyphenate","hyphenatedWordSize","preHyphen","postHyphen","consecutiveHyphens","zone","wordSpacing","letterSpacing","glyphSpacing","autoLeading","leadingType","hanging","burasagari","kinsokuOrder","everyLineComposer"],Ra=["font","fontSize","fauxBold","fauxItalic","autoLeading","leading","horizontalScale","verticalScale","tracking","autoKerning","kerning","baselineShift","fontCaps","fontBaseline","underline","strikethrough","ligatures","dLigatures","baselineDirection","tsume","styleRunAlignment","language","noBreak","fillColor","strokeColor","fillFlag","strokeFlag","fillFirst","yUnderline","outlineWidth","characterDirection","hindiNumbers","kashida","diacriticPos"],hh=["none","crisp","strong","smooth","sharp"],ph=["left","right","center","justify-left","justify-right","justify-center","justify-all"];function vh(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function ky(e){var t=e.Values;switch(e.Type){case 0:return{k:t[1]*255};case 1:return t[0]===1?{r:t[1]*255,g:t[2]*255,b:t[3]*255}:{r:t[1]*255,g:t[2]*255,b:t[3]*255,a:t[0]*255};case 2:return{c:t[1]*255,m:t[2]*255,y:t[3]*255,k:t[4]*255};default:throw new Error("Unknown color type in text layer")}}function ra(e){if(e){if("r"in e)return{Type:1,Values:["a"in e?e.a/255:1,e.r/255,e.g/255,e.b/255]};if("c"in e)return{Type:2,Values:[1,e.c/255,e.m/255,e.y/255,e.k/255]};if("k"in e)return{Type:0,Values:[1,e.k/255]};throw new Error("Invalid color type in text layer")}else return{Type:1,Values:[0,0,0,0]}}function tu(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function nu(e,t){if(!e||!t)return!1;for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(e[r]!==t[r])return!1}for(var o=0,s=Object.keys(t);o<s.length;o++){var r=s[o];if(e[r]!==t[r])return!1}return!0}function Ay(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t.name)return n;return e.push(t),e.length-1}function gh(e,t,n){for(var i={},r=0,o=t;r<o.length;r++){var s=o[r],a=vh(s);e[a]!==void 0&&(s==="justification"?i[s]=ph[e[a]]:s==="font"?i[s]=n[e[a]]:s==="fillColor"||s==="strokeColor"?i[s]=ky(e[a]):i[s]=e[a])}return i}function mh(e,t,n){for(var i,r={},o=0,s=t;o<s.length;o++){var a=s[o],l=vh(a);e[a]!==void 0&&(a==="justification"?r[l]=ph.indexOf((i=e[a])!==null&&i!==void 0?i:"left"):a==="font"?r[l]=Ay(n,e[a]):a==="fillColor"||a==="strokeColor"?r[l]=ra(e[a]):r[l]=e[a])}return r}function Py(e,t){return gh(e,Ta,t)}function _y(e,t){return gh(e,Ra,t)}function Qr(e,t){return mh(e,Ta,t)}function ws(e,t){return mh(e,Ra,t)}function iu(e,t,n){if(t.length){for(var i=function(a){var l=t[0].style[a];if(l!==void 0){var c=!1;Array.isArray(l)?c=t.every(function(v){return tu(v.style[a],l)}):typeof l=="object"?c=t.every(function(v){return nu(v.style[a],l)}):c=t.every(function(v){return v.style[a]===l}),c&&(e[a]=l)}var u=e[a];if(u!==void 0)for(var f=0,d=t;f<d.length;f++){var h=d[f],S=!1;Array.isArray(l)?S=tu(h.style[a],l):typeof l=="object"?S=nu(h.style[a],l):S=h.style[a]===l,S&&delete h.style[a]}},r=0,o=n;r<o.length;r++){var s=o[r];i(s)}t.every(function(a){return Object.keys(a.style).length===0})&&(t.length=0)}}function Oy(e){for(var t,n,i,r,o,s,a=e.EngineDict,l=e.ResourceDict,c=l.FontSet.map(function(I){return{name:I.Name,script:I.Script,type:I.FontType,synthetic:I.Synthetic}}),u=a.Editor.Text.replace(/\r/g,`
`),f=0;/\n$/.test(u);)u=u.substring(0,u.length-1),f++;var d={text:u,antiAlias:(t=hh[a.AntiAlias])!==null&&t!==void 0?t:"smooth",useFractionalGlyphWidths:!!a.UseFractionalGlyphWidths,superscriptSize:l.SuperscriptSize,superscriptPosition:l.SuperscriptPosition,subscriptSize:l.SubscriptSize,subscriptPosition:l.SubscriptPosition,smallCapSize:l.SmallCapSize},h=(s=(o=(r=(i=(n=a.Rendered)===null||n===void 0?void 0:n.Shapes)===null||i===void 0?void 0:i.Children)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.Cookie)===null||s===void 0?void 0:s.Photoshop;h&&(d.shapeType=h.ShapeType===1?"box":"point",h.PointBase&&(d.pointBase=h.PointBase),h.BoxBounds&&(d.boxBounds=h.BoxBounds));var S=a.ParagraphRun;d.paragraphStyle={},d.paragraphStyleRuns=[];for(var v=0;v<S.RunArray.length;v++){var E=S.RunArray[v],b=S.RunLengthArray[v],x=Py(E.ParagraphSheet.Properties,c);d.paragraphStyleRuns.push({length:b,style:x})}for(var w=f;d.paragraphStyleRuns.length&&w>0;w--)--d.paragraphStyleRuns[d.paragraphStyleRuns.length-1].length===0&&d.paragraphStyleRuns.pop();iu(d.paragraphStyle,d.paragraphStyleRuns,Ta),d.paragraphStyleRuns.length||delete d.paragraphStyleRuns;var y=a.StyleRun;d.style={},d.styleRuns=[];for(var v=0;v<y.RunArray.length;v++){var L=y.RunLengthArray[v],x=_y(y.RunArray[v].StyleSheet.StyleSheetData,c);x.font||(x.font=c[0]),d.styleRuns.push({length:L,style:x})}for(var w=f;d.styleRuns.length&&w>0;w--)--d.styleRuns[d.styleRuns.length-1].length===0&&d.styleRuns.pop();return iu(d.style,d.styleRuns,Ra),d.styleRuns.length||delete d.styleRuns,d}function Ty(e){var t,n,i,r,o,s,a,l,c,u,f,d,h="".concat((e.text||"").replace(/\r?\n/g,"\r"),"\r"),S=[{name:"AdobeInvisFont",script:0,type:0,synthetic:0}],v=((t=e.style)===null||t===void 0?void 0:t.font)||((i=(n=e.styleRuns)===null||n===void 0?void 0:n.find(function(ge){return ge.style.font}))===null||i===void 0?void 0:i.style.font)||dh,E=[],b=[],x=e.paragraphStyleRuns;if(x&&x.length){for(var w=h.length,y=0,L=x;y<L.length;y++){var I=L[y],A=Math.min(I.length,w);w-=A,A&&(w===1&&I===x[x.length-1]&&(A++,w--),b.push(A),E.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Qr(rt(rt(rt({},Jr),e.paragraphStyle),I.style),S)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}w&&(b.push(w),E.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Qr(rt(rt({},Jr),e.paragraphStyle),S)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}else for(var B=0,N=0;B<h.length;B++)h.charCodeAt(B)===13&&(b.push(B-N+1),E.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Qr(rt(rt({},Jr),e.paragraphStyle),S)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}),N=B+1);for(var V=ws(rt(rt({},Iy),{font:v}),S),G=e.styleRuns||[{length:h.length,style:e.style||{}}],ne=[],ee=[],ce=h.length,de=0,J=G;de<J.length;de++){var q=J[de],A=Math.min(q.length,ce);ce-=A,A&&(ce===1&&q===G[G.length-1]&&(A++,ce--),ee.push(A),ne.push({StyleSheet:{StyleSheetData:ws(rt(rt({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),q.style),S)}}))}ce&&G.length&&(ee.push(ce),ne.push({StyleSheet:{StyleSheetData:ws(rt({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),S)}}));var ue=rt(rt({},Ey),e.gridInfo),Pe=e.orientation==="vertical"?2:0,ve=e.orientation==="vertical"?1:0,Ce=e.shapeType==="box"?1:0,Ee={ShapeType:Ce};Ce===0?Ee.PointBase=e.pointBase||[0,0]:Ee.BoxBounds=e.boxBounds||[0,0,0,0],Ee.Base={ShapeType:Ce,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]};var Ze={KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"?!)]},.:;",NoEnd:"([{",Keep:"",Hanging:".,"},{Name:"PhotoshopKinsokuSoft",NoStart:"",NoEnd:"",Keep:"",Hanging:".,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:Qr(rt(rt({},Jr),e.paragraphStyle),S)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:V}],FontSet:S.map(function(ge){return{Name:ge.name,Script:ge.script||0,FontType:ge.type||0,Synthetic:ge.synthetic||0}}),SuperscriptSize:(r=e.superscriptSize)!==null&&r!==void 0?r:.583,SuperscriptPosition:(o=e.superscriptPosition)!==null&&o!==void 0?o:.333,SubscriptSize:(s=e.subscriptSize)!==null&&s!==void 0?s:.583,SubscriptPosition:(a=e.subscriptPosition)!==null&&a!==void 0?a:.333,SmallCapSize:(l=e.smallCapSize)!==null&&l!==void 0?l:.7},ye={EngineDict:{Editor:{Text:h},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:E,RunLengthArray:b,IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:ne,RunLengthArray:ee,IsJoinable:2},GridInfo:{GridIsOn:!!ue.isOn,ShowGrid:!!ue.show,GridSize:(c=ue.size)!==null&&c!==void 0?c:18,GridLeading:(u=ue.leading)!==null&&u!==void 0?u:22,GridColor:ra(ue.color),GridLeadingFillColor:ra(ue.color),AlignLineHeightToGridFlags:!!ue.alignLineHeightToGridFlags},AntiAlias:hh.indexOf((f=e.antiAlias)!==null&&f!==void 0?f:"sharp"),UseFractionalGlyphWidths:(d=e.useFractionalGlyphWidths)!==null&&d!==void 0?d:!0,Rendered:{Version:1,Shapes:{WritingDirection:Pe,Children:[{ShapeType:Ce,Procession:ve,Lines:{WritingDirection:Pe,Children:[]},Cookie:{Photoshop:Ee}}]}}},ResourceDict:rt({},Ze),DocumentResources:rt({},Ze)};return ye}var Is={0:{uproot:!0,children:{0:{name:"Type"},1:{name:"Values"}}}},Ma={0:{name:"Font"},1:{name:"FontSize"},2:{name:"FauxBold"},3:{name:"FauxItalic"},4:{name:"AutoLeading"},5:{name:"Leading"},6:{name:"HorizontalScale"},7:{name:"VerticalScale"},8:{name:"Tracking"},9:{name:"BaselineShift"},11:{name:"Kerning?"},12:{name:"FontCaps"},13:{name:"FontBaseline"},15:{name:"Strikethrough?"},16:{name:"Underline?"},18:{name:"Ligatures"},19:{name:"DLigatures"},23:{name:"Fractions"},24:{name:"Ordinals"},28:{name:"StylisticAlternates"},30:{name:"OldStyle?"},35:{name:"BaselineDirection"},38:{name:"Language"},52:{name:"NoBreak"},53:{name:"FillColor",children:Is},54:{name:"StrokeColor",children:Is},55:{children:{99:{uproot:!0}}},79:{children:Is}},Es={0:{name:"Justification"},1:{name:"FirstLineIndent"},2:{name:"StartIndent"},3:{name:"EndIndent"},4:{name:"SpaceBefore"},5:{name:"SpaceAfter"},7:{name:"AutoLeading"},9:{name:"AutoHyphenate"},10:{name:"HyphenatedWordSize"},11:{name:"PreHyphen"},12:{name:"PostHyphen"},13:{name:"ConsecutiveHyphens?"},14:{name:"Zone"},15:{name:"HypenateCapitalizedWords"},17:{name:"WordSpacing"},18:{name:"LetterSpacing"},19:{name:"GlyphSpacing"},32:{name:"StyleSheet",children:Ma}},ru={name:"StyleSheetData",children:Ma},Ry={0:{name:"ResourceDict",children:{1:{name:"FontSet",children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{name:"Name"},2:{name:"FontType"}}}}}}}}},2:{name:"2",children:{}},3:{name:"MojiKumiSet",children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{name:"InternalName"}}}}}}},4:{name:"KinsokuSet",children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{name:"Name"},5:{uproot:!0,children:{0:{name:"NoStart"},1:{name:"NoEnd"},2:{name:"Keep"},3:{name:"Hanging"},4:{name:"Name"}}}}}}}}},5:{name:"StyleSheetSet",children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{name:"Name"},6:ru}}}}}},6:{name:"ParagraphSheetSet",children:{0:{uproot:!0,children:{0:{uproot:!0,children:{0:{name:"Name"},5:{name:"Properties",children:Es},6:{name:"DefaultStyleSheet"}}}}}}},8:{name:"TextFrameSet",children:{0:{uproot:!0,children:{0:{name:"path",children:{0:{name:"name"},1:{name:"bezierCurve",children:{0:{name:"controlPoints"}}},2:{name:"data",children:{0:{name:"type"},1:{name:"orientation"},2:{name:"frameMatrix"},4:{name:"4"},6:{name:"textRange"},7:{name:"rowGutter"},8:{name:"columnGutter"},9:{name:"9"},10:{name:"baselineAlignment",children:{0:{name:"flag"},1:{name:"min"}}},11:{name:"pathData",children:{1:{name:"1"},0:{name:"reversed"},2:{name:"2"},3:{name:"3"},4:{name:"spacing"},5:{name:"5"},6:{name:"6"},7:{name:"7"},18:{name:"18"}}},12:{name:"12"},13:{name:"13"}}},3:{name:"3"},97:{name:"uuid"}}}}}}},9:{name:"Predefined",children:{0:{children:{0:{uproot:!0}}},1:{children:{0:{uproot:!0}}}}}}},1:{name:"EngineDict",children:{0:{name:"0",children:{3:{name:"SuperscriptSize"},4:{name:"SuperscriptPosition"},5:{name:"SubscriptSize"},6:{name:"SubscriptPosition"},7:{name:"SmallCapSize"},8:{name:"UseFractionalGlyphWidths"},15:{children:{0:{uproot:!0}}}}},1:{name:"Editors?",children:{0:{name:"Editor",children:{0:{name:"Text"},5:{name:"ParagraphRun",children:{0:{name:"RunArray",children:{0:{name:"ParagraphSheet",children:{0:{uproot:!0,children:{0:{name:"0"},5:{name:"5",children:Es},6:{name:"6"}}}}},1:{name:"RunLength"}}}}},6:{name:"StyleRun",children:{0:{name:"RunArray",children:{0:{name:"StyleSheet",children:{0:{uproot:!0,children:{6:ru}}}},1:{name:"RunLength"}}}}}}},1:{name:"FontVectorData ???"}}},2:{name:"StyleSheet",children:Ma},3:{name:"ParagraphSheet",children:Es}}}};function Zi(e,t){var n,i;if(e===null)return e;if(Array.isArray(e))return e.map(function(l){return Zi(l,t)});if(typeof e!="object")return e;for(var r={},o=0,s=Object.keys(e);o<s.length;o++){var a=s[o];if(t[a])if(t[a].uproot){a!=="99"&&(r=Zi(e[a],(n=t[a].children)!==null&&n!==void 0?n:{})),e[99]&&(r._type=e[99]);break}else r[t[a].name||a]=Zi(e[a],(i=t[a].children)!==null&&i!==void 0?i:{});else a==="99"?r._type=e[a]:r[a]=Zi(e[a],{})}return r}function My(e){return Zi(e,Ry)}var g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g.apply(this,arguments)},_t="abcdefghijklmnopqrstuvwxyz",wo={};function he(e,t,n,i){var r={key:e,has:t,read:n,write:i};wo[r.key]=r}function Ui(e,t){wo[e]=wo[t]}function Be(e){return function(t){return t[e]!==void 0}}function ks(e){if(X(e))throw new Error("Resource size above 4 GB limit at ".concat(e.offset.toString(16)));return X(e)}function As(e,t){Z(e,0),Z(e,t)}he("TySh",Be("text"),function(e,t,n){if(_e(e)!==1)throw new Error("Invalid TySh version");for(var i=[],r=0;r<6;r++)i.push(zt(e));if(_e(e)!==50)throw new Error("Invalid TySh text version");var o=ke(e);if(_e(e)!==1)throw new Error("Invalid TySh warp version");var s=ke(e);if(t.text={transform:i,left:Xt(e),top:Xt(e),right:Xt(e),bottom:Xt(e),text:o["Txt "].replace(/\r/g,`
`),index:o.TextIndex||0,gridding:Pc.decode(o.textGridding),antiAlias:_c.decode(o.AntA),orientation:dr.decode(o.Ornt),warp:{style:ka.decode(s.warpStyle),value:s.warpValue||0,perspective:s.warpPerspective||0,perspectiveOther:s.warpPerspectiveOther||0,rotate:dr.decode(s.warpRotate)}},o.bounds&&(t.text.bounds=Fc(o.bounds)),o.boundingBox&&(t.text.boundingBox=Fc(o.boundingBox)),o.EngineData){var a=fh(o.EngineData),l=Oy(a);t.text=g(g({},t.text),l)}ie(e,n())},function(e,t){var n=t.text,i=n.warp||{},r=n.transform||[1,0,0,1,0,0],o=g(g(g({"Txt ":(n.text||"").replace(/\r?\n/g,"\r"),textGridding:Pc.encode(n.gridding),Ornt:dr.encode(n.orientation),AntA:_c.encode(n.antiAlias)},n.bounds?{bounds:wc(n.bounds)}:{}),n.boundingBox?{boundingBox:wc(n.boundingBox)}:{}),{TextIndex:n.index||0,EngineData:wy(Ty(n))});Me(e,1);for(var s=0;s<6;s++)un(e,r[s]);Me(e,50),Ae(e,"","TxLr",o,"text"),Me(e,1),Ae(e,"","warp",Io(i)),Kt(e,n.left),Kt(e,n.top),Kt(e,n.right),Kt(e,n.bottom)});he("SoCo",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&e.vectorFill.type==="color"},function(e,t){var n=ke(e);t.vectorFill=Pr(n)},function(e,t){var n=_r(t.vectorFill).descriptor;Ae(e,"","null",n)});he("GdFl",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&(e.vectorFill.type==="solid"||e.vectorFill.type==="noise")},function(e,t,n){var i=ke(e);t.vectorFill=Pr(i),ie(e,n())},function(e,t){var n=_r(t.vectorFill).descriptor;Ae(e,"","null",n)});he("PtFl",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&e.vectorFill.type==="pattern"},function(e,t){var n=ke(e);t.vectorFill=Pr(n)},function(e,t){var n=_r(t.vectorFill).descriptor;Ae(e,"","null",n)});he("vscg",function(e){return e.vectorFill!==void 0&&e.vectorStroke!==void 0},function(e,t,n){je(e);var i=ke(e);t.vectorFill=Pr(i),ie(e,n())},function(e,t){var n=_r(t.vectorFill),i=n.descriptor,r=n.key;Se(e,r),Ae(e,"","null",i)});function Ly(e,t,n){var i=$t(e)*n,r=$t(e)*t,o=$t(e)*n,s=$t(e)*t,a=$t(e)*n,l=$t(e)*t;return[r,i,s,o,l,a]}function Dy(e,t,n,i){Wt(e,t[1]/i),Wt(e,t[0]/n),Wt(e,t[3]/i),Wt(e,t[2]/n),Wt(e,t[5]/i),Wt(e,t[4]/n)}var yh=["exclude","combine","subtract","intersect"];function By(e,t,n,i,r){for(var o=e.offset+r,s=t.paths,a=void 0;o-e.offset>=26;){var l=W(e);switch(l){case 0:case 3:{W(e);var c=_e(e),u=W(e);ie(e,18),a={open:l===3,knots:[],fillRule:u===2?"non-zero":"even-odd"},c!==-1&&(a.operation=yh[c]),s.push(a);break}case 1:case 2:case 4:case 5:a.knots.push({linked:l===1||l===4,points:Ly(e,n,i)});break;case 6:ie(e,24);break;case 7:{var f=$t(e),d=$t(e),h=$t(e),S=$t(e),v=$t(e);ie(e,4),t.clipboard={top:f,left:d,bottom:h,right:S,resolution:v};break}case 8:t.fillStartsWithAllPixels=!!W(e),ie(e,22);break;default:throw new Error("Invalid vmsk section")}}return s}he("vmsk",Be("vectorMask"),function(e,t,n,i){var r=i.width,o=i.height;if(X(e)!==3)throw new Error("Invalid vmsk version");t.vectorMask={paths:[]};var s=t.vectorMask,a=X(e);s.invert=(a&1)!==0,s.notLink=(a&2)!==0,s.disable=(a&4)!==0,By(e,s,r,o,n()),ie(e,n())},function(e,t,n){var i=n.width,r=n.height,o=t.vectorMask,s=(o.invert?1:0)|(o.notLink?2:0)|(o.disable?4:0);Z(e,3),Z(e,s),$(e,6),De(e,24);var a=o.clipboard;a&&($(e,7),Wt(e,a.top),Wt(e,a.left),Wt(e,a.bottom),Wt(e,a.right),Wt(e,a.resolution),De(e,4)),$(e,8),$(e,o.fillStartsWithAllPixels?1:0),De(e,22);for(var l=0,c=o.paths;l<c.length;l++){var u=c[l];$(e,u.open?3:0),$(e,u.knots.length),$(e,u.operation?yh.indexOf(u.operation):-1),$(e,u.fillRule==="non-zero"?2:1),De(e,18);for(var f=u.open?4:1,d=u.open?5:2,h=0,S=u.knots;h<S.length;h++){var v=S[h],E=v.linked,b=v.points;$(e,E?f:d),Dy(e,b,i,r)}}});Ui("vsms","vmsk");he("vowv",Be("vowv"),function(e,t){t.vowv=X(e)},function(e,t){Z(e,t.vowv)});he("vogk",Be("vectorOrigination"),function(e,t,n){if(fe(e)!==1)throw new Error("Invalid vogk version");var i=ke(e);t.vectorOrigination={keyDescriptorList:[]};for(var r=0,o=i.keyDescriptorList;r<o.length;r++){var s=o[r],a={};s.keyShapeInvalidated!=null&&(a.keyShapeInvalidated=s.keyShapeInvalidated),s.keyOriginType!=null&&(a.keyOriginType=s.keyOriginType),s.keyOriginResolution!=null&&(a.keyOriginResolution=s.keyOriginResolution),s.keyOriginShapeBBox&&(a.keyOriginShapeBoundingBox={top:Gn(s.keyOriginShapeBBox["Top "]),left:Gn(s.keyOriginShapeBBox.Left),bottom:Gn(s.keyOriginShapeBBox.Btom),right:Gn(s.keyOriginShapeBBox.Rght)});var l=s.keyOriginRRectRadii;l&&(a.keyOriginRRectRadii={topRight:Le(l.topRight),topLeft:Le(l.topLeft),bottomLeft:Le(l.bottomLeft),bottomRight:Le(l.bottomRight)});var c=s.keyOriginBoxCorners;c&&(a.keyOriginBoxCorners=[{x:c.rectangleCornerA.Hrzn,y:c.rectangleCornerA.Vrtc},{x:c.rectangleCornerB.Hrzn,y:c.rectangleCornerB.Vrtc},{x:c.rectangleCornerC.Hrzn,y:c.rectangleCornerC.Vrtc},{x:c.rectangleCornerD.Hrzn,y:c.rectangleCornerD.Vrtc}]);var u=s.Trnf;u&&(a.transform=[u.xx,u.xy,u.yx,u.yy,u.tx,u.ty]),t.vectorOrigination.keyDescriptorList.push(a)}ie(e,n())},function(e,t){for(var n=t.vectorOrigination,i={keyDescriptorList:[]},r=0;r<n.keyDescriptorList.length;r++){var o=n.keyDescriptorList[r];i.keyDescriptorList.push({});var s=i.keyDescriptorList[i.keyDescriptorList.length-1];o.keyOriginType!=null&&(s.keyOriginType=o.keyOriginType),o.keyOriginResolution!=null&&(s.keyOriginResolution=o.keyOriginResolution);var a=o.keyOriginRRectRadii;a&&(s.keyOriginRRectRadii={unitValueQuadVersion:1,topRight:Ke(a.topRight,"topRight"),topLeft:Ke(a.topLeft,"topLeft"),bottomLeft:Ke(a.bottomLeft,"bottomLeft"),bottomRight:Ke(a.bottomRight,"bottomRight")});var l=o.keyOriginShapeBoundingBox;l&&(s.keyOriginShapeBBox={unitValueQuadVersion:1,"Top ":Ke(l.top,"top"),Left:Ke(l.left,"left"),Btom:Ke(l.bottom,"bottom"),Rght:Ke(l.right,"right")});var c=o.keyOriginBoxCorners;c&&c.length===4&&(s.keyOriginBoxCorners={rectangleCornerA:{Hrzn:c[0].x,Vrtc:c[0].y},rectangleCornerB:{Hrzn:c[1].x,Vrtc:c[1].y},rectangleCornerC:{Hrzn:c[2].x,Vrtc:c[2].y},rectangleCornerD:{Hrzn:c[3].x,Vrtc:c[3].y}});var u=o.transform;u&&u.length===6&&(s.Trnf={xx:u[0],xy:u[1],yx:u[2],yy:u[3],tx:u[4],ty:u[5]}),o.keyShapeInvalidated!=null&&(s.keyShapeInvalidated=o.keyShapeInvalidated),s.keyOriginIndex=r}xe(e,1),Ae(e,"","null",i)});he("lmfx",function(e){return e.effects!==void 0&&Ch(e.effects)},function(e,t,n){var i=X(e);if(i!==0)throw new Error("Invalid lmfx version");var r=ke(e);t.effects=Ar(r,!!e.logMissingFeatures),ie(e,n())},function(e,t,n,i){var r=kr(t.effects,!!i.logMissingFeatures,!0);Z(e,0),Ae(e,"","null",r)});he("lrFX",Be("effects"),function(e,t,n){t.effects||(t.effects=Sy(e)),ie(e,n())},function(e,t){xy(e,t.effects)});he("luni",Be("name"),function(e,t,n){if(n()>4){var i=X(e);n()>=i*2?t.name=_a(e,i):e.logDevFeatures&&e.log("name in luni section is too long")}else e.logDevFeatures&&e.log("empty luni section");ie(e,n())},function(e,t){Tt(e,t.name)});he("lnsr",Be("nameSource"),function(e,t){return t.nameSource=je(e)},function(e,t){return Se(e,t.nameSource)});he("lyid",Be("id"),function(e,t){t.id=X(e)},function(e,t,n,i){for(var r=t.id;i.layerIds.has(r);)r+=100;Z(e,r),i.layerIds.add(r),i.layerToId.set(t,r)});he("lsct",Be("sectionDivider"),function(e,t,n){t.sectionDivider={type:X(e)},n()&&($n(e,"8BIM"),t.sectionDivider.key=je(e)),n()&&(t.sectionDivider.subType=X(e))},function(e,t){Z(e,t.sectionDivider.type),t.sectionDivider.key&&(Se(e,"8BIM"),Se(e,t.sectionDivider.key),t.sectionDivider.subType!==void 0&&Z(e,t.sectionDivider.subType))});Ui("lsdk","lsct");he("clbl",Be("blendClippendElements"),function(e,t){t.blendClippendElements=!!Q(e),ie(e,3)},function(e,t){ae(e,t.blendClippendElements?1:0),De(e,3)});he("infx",Be("blendInteriorElements"),function(e,t){t.blendInteriorElements=!!Q(e),ie(e,3)},function(e,t){ae(e,t.blendInteriorElements?1:0),De(e,3)});he("knko",Be("knockout"),function(e,t){t.knockout=!!Q(e),ie(e,3)},function(e,t){ae(e,t.knockout?1:0),De(e,3)});he("lmgm",Be("layerMaskAsGlobalMask"),function(e,t){t.layerMaskAsGlobalMask=!!Q(e),ie(e,3)},function(e,t){ae(e,t.layerMaskAsGlobalMask?1:0),De(e,3)});he("lspf",Be("protected"),function(e,t){var n=X(e);t.protected={transparency:(n&1)!==0,composite:(n&2)!==0,position:(n&4)!==0},n&8&&(t.protected.artboards=!0)},function(e,t){var n=(t.protected.transparency?1:0)|(t.protected.composite?2:0)|(t.protected.position?4:0)|(t.protected.artboards?8:0);Z(e,n)});he("lclr",Be("layerColor"),function(e,t){var n=W(e);ie(e,6),t.layerColor=fc[n]},function(e,t){var n=fc.indexOf(t.layerColor);$(e,n===-1?0:n),De(e,6)});he("shmd",function(e){return e.timestamp!==void 0||e.animationFrames!==void 0||e.animationFrameFlags!==void 0||e.timeline!==void 0||e.comps!==void 0},function(e,t,n){for(var i=X(e),r=function(s){$n(e,"8BIM");var a=je(e);Q(e),ie(e,3),Mt(e,1,function(l){if(a==="cust"){var c=ke(e);c.layerTime!==void 0&&(t.timestamp=c.layerTime)}else if(a==="mlst"){var c=ke(e);t.animationFrames=[];for(var u=0;u<c.LaSt.length;u++){var f=c.LaSt[u],d={frames:f.FrLs};f.enab!==void 0&&(d.enable=f.enab),f.Ofst&&(d.offset=cr(f.Ofst)),f.FXRf&&(d.referencePoint=cr(f.FXRf)),f.Lefx&&(d.effects=Ar(f.Lefx,!!e.logMissingFeatures)),f.blendOptions&&f.blendOptions.Opct&&(d.opacity=ze(f.blendOptions.Opct)),t.animationFrames.push(d)}}else if(a==="mdyn"){W(e);var h=Q(e),S=Q(e);t.animationFrameFlags={propagateFrameOne:!h,unifyLayerPosition:(S&1)!==0,unifyLayerStyle:(S&2)!==0,unifyLayerVisibility:(S&4)!==0}}else if(a==="tmln"){var c=ke(e),v=c.timeScope,E={start:St(v.Strt),duration:St(v.duration),inTime:St(v.inTime),outTime:St(v.outTime),autoScope:c.autoScope,audioLevel:c.audioLevel};c.trackList&&(E.tracks=vd(c.trackList,!!e.logMissingFeatures)),t.timeline=E}else if(a==="cmls"){var c=ke(e);t.comps={settings:[]},c.origFXRefPoint&&(t.comps.originalEffectsReferencePoint={x:c.origFXRefPoint.Hrzn,y:c.origFXRefPoint.Vrtc});for(var b=0,x=c.layerSettings;b<x.length;b++){var w=x[b];t.comps.settings.push({compList:w.compList});var y=t.comps.settings[t.comps.settings.length-1];"enab"in w&&(y.enabled=w.enab),w.Ofst&&(y.offset={x:w.Ofst.Hrzn,y:w.Ofst.Vrtc}),w.FXRefPoint&&(y.effectsReferencePoint={x:w.FXRefPoint.Hrzn,y:w.FXRefPoint.Vrtc})}}else if(a==="extn"){var c=ke(e);e.logMissingFeatures&&e.log('Unhandled "shmd" section key',a)}else e.logMissingFeatures&&e.log('Unhandled "shmd" section key',a);ie(e,l())})},o=0;o<i;o++)r();ie(e,n())},function(e,t,n,i){var r=t.animationFrames,o=t.animationFrameFlags,s=t.timestamp,a=t.timeline,l=t.comps,c=0;r&&c++,o&&c++,a&&c++,s!==void 0&&c++,l&&c++,Z(e,c),r&&(Se(e,"8BIM"),Se(e,"mlst"),ae(e,0),De(e,3),Jn(e,2,function(){for(var u,f={LaID:(u=t.id)!==null&&u!==void 0?u:0,LaSt:[]},d=0;d<r.length;d++){var h=r[d],S={};h.enable!==void 0&&(S.enab=h.enable),S.FrLs=h.frames,h.offset&&(S.Ofst=ur(h.offset)),h.referencePoint&&(S.FXRf=ur(h.referencePoint)),h.effects&&(S.Lefx=kr(h.effects,!1,!1)),h.opacity!==void 0&&(S.blendOptions={Opct:ct(h.opacity)}),f.LaSt.push(S)}Ae(e,"","null",f)},!0)),o&&(Se(e,"8BIM"),Se(e,"mdyn"),ae(e,0),De(e,3),Jn(e,2,function(){$(e,0),ae(e,o.propagateFrameOne?0:15),ae(e,(o.unifyLayerPosition?1:0)|(o.unifyLayerStyle?2:0)|(o.unifyLayerVisibility?4:0))})),a&&(Se(e,"8BIM"),Se(e,"tmln"),ae(e,0),De(e,3),Jn(e,2,function(){var u={Vrsn:1,timeScope:{Vrsn:1,Strt:a.start,duration:a.duration,inTime:a.inTime,outTime:a.outTime},autoScope:a.autoScope,audioLevel:a.audioLevel};a.tracks&&(u.trackList=gd(a.tracks));var f=i.layerToId.get(t)||t.id;if(!f)throw new Error("You need to provide layer.id value whan writing document with animations");u.LyrI=f,Ae(e,"","null",u,"anim")},!0)),s!==void 0&&(Se(e,"8BIM"),Se(e,"cust"),ae(e,0),De(e,3),Jn(e,2,function(){var u={layerTime:s};Ae(e,"","metadata",u)},!0)),l&&(Se(e,"8BIM"),Se(e,"cmls"),ae(e,0),De(e,3),Jn(e,2,function(){var u=i.layerToId.get(t)||t.id;if(!u)throw new Error("You need to provide layer.id value whan writing document with layer comps");var f={};l.originalEffectsReferencePoint&&(f.origFXRefPoint={Hrzn:l.originalEffectsReferencePoint.x,Vrtc:l.originalEffectsReferencePoint.y}),f.LyrI=u,f.layerSettings=[];for(var d=0,h=l.settings;d<h.length;d++){var S=h[d],v={};S.enabled!==void 0&&(v.enab=S.enabled),S.offset&&(v.Ofst={Hrzn:S.offset.x,Vrtc:S.offset.y}),S.effectsReferencePoint&&(v.FXRefPoint={Hrzn:S.effectsReferencePoint.x,Vrtc:S.effectsReferencePoint.y}),v.compList=S.compList,f.layerSettings.push(v)}Ae(e,"","null",f)},!0))});he("PxSc",function(){return!1},function(e,t){var n=ke(e,!0);n.pixelSourceType===1986285651?t.pixelSource={type:"vdPS",origin:{x:n.origin.Hrzn,y:n.origin.Vrtc},interpretation:{interpretAlpha:n.interpretation.interpretAlpha.split(".")[1],profile:n.interpretation.profile},frameReader:{type:"QTFR",link:{name:n.frameReader["Lnk "]["Nm  "],fullPath:n.frameReader["Lnk "].fullPath,originalPath:n.frameReader["Lnk "].originalPath,relativePath:n.frameReader["Lnk "].relPath,alias:n.frameReader["Lnk "].alis},mediaDescriptor:n.frameReader.mediaDescriptor},showAlteredVideo:n.showAlteredVideo}:e.log("Unknown pixelSourceType")},function(e,t){var n=t.pixelSource,i={_name:"",_classID:"PixelSource",pixelSourceType:1986285651,descVersion:1,origin:{Hrzn:n.origin.x,Vrtc:n.origin.y},interpretation:{_name:"",_classID:"footageInterpretation",Vrsn:1,interpretAlpha:"alphaInterpretation.".concat(n.interpretation.interpretAlpha),profile:n.interpretation.profile},frameReader:{_name:"",_classID:"FrameReader",frameReaderType:1364477522,descVersion:1,"Lnk ":{_name:"",_classID:"ExternalFileLink",descVersion:2,"Nm  ":n.frameReader.link.name,fullPath:n.frameReader.link.fullPath,originalPath:n.frameReader.link.originalPath,alis:n.frameReader.link.alias,relPath:n.frameReader.link.relativePath},mediaDescriptor:n.frameReader.mediaDescriptor},showAlteredVideo:n.showAlteredVideo};Ae(e,"","PixelSource",i)});he("vstk",Be("vectorStroke"),function(e,t,n){var i=ke(e);t.vectorStroke={strokeEnabled:i.strokeEnabled,fillEnabled:i.fillEnabled,lineWidth:Le(i.strokeStyleLineWidth),lineDashOffset:Le(i.strokeStyleLineDashOffset),miterLimit:i.strokeStyleMiterLimit,lineCapType:Dc.decode(i.strokeStyleLineCapType),lineJoinType:Bc.decode(i.strokeStyleLineJoinType),lineAlignment:Nc.decode(i.strokeStyleLineAlignment),scaleLock:i.strokeStyleScaleLock,strokeAdjust:i.strokeStyleStrokeAdjust,lineDashSet:i.strokeStyleLineDashSet.map(Le),blendMode:Gt.decode(i.strokeStyleBlendMode),opacity:ze(i.strokeStyleOpacity),content:Pr(i.strokeStyleContent),resolution:i.strokeStyleResolution},ie(e,n())},function(e,t){var n,i,r,o=t.vectorStroke,s={strokeStyleVersion:2,strokeEnabled:!!o.strokeEnabled,fillEnabled:!!o.fillEnabled,strokeStyleLineWidth:o.lineWidth||{value:3,units:"Points"},strokeStyleLineDashOffset:o.lineDashOffset||{value:0,units:"Points"},strokeStyleMiterLimit:(n=o.miterLimit)!==null&&n!==void 0?n:100,strokeStyleLineCapType:Dc.encode(o.lineCapType),strokeStyleLineJoinType:Bc.encode(o.lineJoinType),strokeStyleLineAlignment:Nc.encode(o.lineAlignment),strokeStyleScaleLock:!!o.scaleLock,strokeStyleStrokeAdjust:!!o.strokeAdjust,strokeStyleLineDashSet:o.lineDashSet||[],strokeStyleBlendMode:Gt.encode(o.blendMode),strokeStyleOpacity:ct((i=o.opacity)!==null&&i!==void 0?i:1),strokeStyleContent:_r(o.content||{type:"color",color:{r:0,g:0,b:0}}).descriptor,strokeStyleResolution:(r=o.resolution)!==null&&r!==void 0?r:72};Ae(e,"","strokeStyle",s)});he("artb",Be("artboard"),function(e,t,n){var i=ke(e),r=i.artboardRect;t.artboard={rect:{top:r["Top "],left:r.Left,bottom:r.Btom,right:r.Rght},guideIndices:i.guideIndeces,presetName:i.artboardPresetName,color:Yt(i["Clr "]),backgroundType:i.artboardBackgroundType},ie(e,n())},function(e,t){var n,i=t.artboard,r=i.rect,o={artboardRect:{"Top ":r.top,Left:r.left,Btom:r.bottom,Rght:r.right},guideIndeces:i.guideIndices||[],artboardPresetName:i.presetName||"","Clr ":Zt(i.color),artboardBackgroundType:(n=i.backgroundType)!==null&&n!==void 0?n:1};Ae(e,"","artboard",o)});he("sn2P",Be("usingAlignedRendering"),function(e,t){return t.usingAlignedRendering=!!X(e)},function(e,t){return Z(e,t.usingAlignedRendering?1:0)});var Ci=["unknown","vector","raster","image stack"];function bh(e){var t,n,i,r,o,s,a=g(g({style:ka.decode(e.warpStyle)},e.warpValues?{values:e.warpValues}:{value:e.warpValue||0}),{perspective:e.warpPerspective||0,perspectiveOther:e.warpPerspectiveOther||0,rotate:dr.decode(e.warpRotate),bounds:e.bounds&&{top:Gn(e.bounds["Top "]),left:Gn(e.bounds.Left),bottom:Gn(e.bounds.Btom),right:Gn(e.bounds.Rght)},uOrder:e.uOrder,vOrder:e.vOrder});(e.deformNumRows!=null||e.deformNumCols!=null)&&(a.deformNumRows=e.deformNumRows,a.deformNumCols=e.deformNumCols);var l=e.customEnvelopeWarp;if(l){a.customEnvelopeWarp={meshPoints:[]};for(var c=((t=l.meshPoints.find(function(d){return d.type==="Hrzn"}))===null||t===void 0?void 0:t.values)||[],u=((n=l.meshPoints.find(function(d){return d.type==="Vrtc"}))===null||n===void 0?void 0:n.values)||[],f=0;f<c.length;f++)a.customEnvelopeWarp.meshPoints.push({x:c[f],y:u[f]});(l.quiltSliceX||l.quiltSliceY)&&(a.customEnvelopeWarp.quiltSliceX=((r=(i=l.quiltSliceX)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.values)||[],a.customEnvelopeWarp.quiltSliceY=((s=(o=l.quiltSliceY)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.values)||[])}return a}function La(e){var t,n;return e.deformNumCols!=null||e.deformNumRows!=null||((t=e.customEnvelopeWarp)===null||t===void 0?void 0:t.quiltSliceX)||((n=e.customEnvelopeWarp)===null||n===void 0?void 0:n.quiltSliceY)}function Io(e){var t=e.bounds,n=g(g({warpStyle:ka.encode(e.style)},e.values?{warpValues:e.values}:{warpValue:e.value||0}),{warpPerspective:e.perspective||0,warpPerspectiveOther:e.perspectiveOther||0,warpRotate:dr.encode(e.rotate),bounds:{"Top ":Ke(t&&t.top||{units:"Pixels",value:0},"bounds.top"),Left:Ke(t&&t.left||{units:"Pixels",value:0},"bounds.left"),Btom:Ke(t&&t.bottom||{units:"Pixels",value:0},"bounds.bottom"),Rght:Ke(t&&t.right||{units:"Pixels",value:0},"bounds.right")},uOrder:e.uOrder||0,vOrder:e.vOrder||0}),i=La(e);if(i){var r=n;r.deformNumRows=e.deformNumRows||0,r.deformNumCols=e.deformNumCols||0}var o=e.customEnvelopeWarp;if(o){var s=o.meshPoints||[];if(i){var r=n;r.customEnvelopeWarp={_name:"",_classID:"customEnvelopeWarp",quiltSliceX:[{type:"quiltSliceX",values:o.quiltSliceX||[]}],quiltSliceY:[{type:"quiltSliceY",values:o.quiltSliceY||[]}],meshPoints:[{type:"Hrzn",values:s.map(function(l){return l.x})},{type:"Vrtc",values:s.map(function(l){return l.y})}]}}else n.customEnvelopeWarp={_name:"",_classID:"customEnvelopeWarp",meshPoints:[{type:"Hrzn",values:s.map(function(a){return a.x})},{type:"Vrtc",values:s.map(function(a){return a.y})}]}}return n}he("PlLd",Be("placedLayer"),function(e,t,n){if(je(e)!=="plcL")throw new Error("Invalid PlLd signature");if(fe(e)!==3)throw new Error("Invalid PlLd version");var i=jn(e,1),r=fe(e),o=fe(e);fe(e);var s=fe(e);if(!Ci[s])throw new Error("Invalid PlLd type");for(var a=[],l=0;l<8;l++)a.push(zt(e));var c=fe(e);if(c!==0)throw new Error("Invalid Warp version ".concat(c));var u=ke(e);t.placedLayer=t.placedLayer||{id:i,type:Ci[s],pageNumber:r,totalPages:o,transform:a,warp:bh(u)},ie(e,n())},function(e,t){var n=t.placedLayer;if(Se(e,"plcL"),xe(e,3),!n.id||typeof n.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(n.id))throw new Error("Placed layer ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");if(_i(e,n.id,1),xe(e,1),xe(e,1),xe(e,16),Ci.indexOf(n.type)===-1)throw new Error("Invalid placedLayer type");xe(e,Ci.indexOf(n.type));for(var i=0;i<8;i++)un(e,n.transform[i]);xe(e,0);var r=Sh(n),o=La(r),s=o?"quiltWarp":"warp";Ae(e,"",s,Io(r),s)});function Ny(e){return new Float32Array(e.buffer.slice(e.byteOffset),0,e.byteLength/4)}function Uy(e){return new Uint32Array(e.buffer.slice(e.byteOffset),0,e.byteLength/4)}function Ps(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function co(e){for(var t=[],n=0;n<e.length;n+=2)t.push({x:e[n],y:e[n+1]});return t}function ji(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].x,e[n].y);return t}function ou(e){return co(Ny(e))}function Hi(e){return{x:Le(e.Hrzn),y:Le(e.Vrtc)}}function $i(e){return{_name:"",_classID:"Pnt ",Hrzn:Ke(e.x,"x"),Vrtc:Ke(e.y,"y")}}function Vy(e,t){var n={name:e["Nm  "],opacity:ze(e.blendOptions.Opct),blendMode:Gt.decode(e.blendOptions["Md  "]),enabled:e.enab,hasOptions:e.hasoptions,foregroundColor:Yt(e.FrgC),backgroundColor:Yt(e.BckC)};if("Fltr"in e)switch(e.Fltr._classID){case"boxblur":return g(g({},n),{type:"box blur",filter:{radius:Le(e.Fltr["Rds "])}});case"GsnB":return g(g({},n),{type:"gaussian blur",filter:{radius:Le(e.Fltr["Rds "])}});case"MtnB":return g(g({},n),{type:"motion blur",filter:{angle:e.Fltr.Angl,distance:Le(e.Fltr.Dstn)}});case"RdlB":return g(g({},n),{type:"radial blur",filter:{amount:e.Fltr.Amnt,method:Od.decode(e.Fltr.BlrM),quality:Td.decode(e.Fltr.BlrQ)}});case"shapeBlur":return g(g({},n),{type:"shape blur",filter:{radius:Le(e.Fltr["Rds "]),customShape:{name:e.Fltr.customShape["Nm  "],id:e.Fltr.customShape.Idnt}}});case"SmrB":return g(g({},n),{type:"smart blur",filter:{radius:e.Fltr["Rds "],threshold:e.Fltr.Thsh,quality:Md.decode(e.Fltr.SmBQ),mode:Rd.decode(e.Fltr.SmBM)}});case"surfaceBlur":return g(g({},n),{type:"surface blur",filter:{radius:Le(e.Fltr["Rds "]),threshold:e.Fltr.Thsh}});case"Dspl":return g(g({},n),{type:"displace",filter:{horizontalScale:e.Fltr.HrzS,verticalScale:e.Fltr.VrtS,displacementMap:Ld.decode(e.Fltr.DspM),undefinedAreas:Pi.decode(e.Fltr.UndA),displacementFile:{signature:e.Fltr.DspF.sig,path:e.Fltr.DspF.path}}});case"Pnch":return g(g({},n),{type:"pinch",filter:{amount:e.Fltr.Amnt}});case"Plr ":return g(g({},n),{type:"polar coordinates",filter:{conversion:Dd.decode(e.Fltr.Cnvr)}});case"Rple":return g(g({},n),{type:"ripple",filter:{amount:e.Fltr.Amnt,size:Bd.decode(e.Fltr.RplS)}});case"Shr ":return g(g({},n),{type:"shear",filter:{shearPoints:e.Fltr.ShrP.map(function(a){return{x:a.Hrzn,y:a.Vrtc}}),shearStart:e.Fltr.ShrS,shearEnd:e.Fltr.ShrE,undefinedAreas:Pi.decode(e.Fltr.UndA)}});case"Sphr":return g(g({},n),{type:"spherize",filter:{amount:e.Fltr.Amnt,mode:Nd.decode(e.Fltr.SphM)}});case"Twrl":return g(g({},n),{type:"twirl",filter:{angle:e.Fltr.Angl}});case"Wave":return g(g({},n),{type:"wave",filter:{numberOfGenerators:e.Fltr.NmbG,type:Ud.decode(e.Fltr.Wvtp),wavelength:{min:e.Fltr.WLMn,max:e.Fltr.WLMx},amplitude:{min:e.Fltr.AmMn,max:e.Fltr.AmMx},scale:{x:e.Fltr.SclH,y:e.Fltr.SclV},randomSeed:e.Fltr.RndS,undefinedAreas:Pi.decode(e.Fltr.UndA)}});case"ZgZg":return g(g({},n),{type:"zigzag",filter:{amount:e.Fltr.Amnt,ridges:e.Fltr.NmbR,style:Vd.decode(e.Fltr.ZZTy)}});case"AdNs":return g(g({},n),{type:"add noise",filter:{amount:ze(e.Fltr.Nose),distribution:Gd.decode(e.Fltr.Dstr),monochromatic:e.Fltr.Mnch,randomSeed:e.Fltr.FlRs}});case"DstS":return g(g({},n),{type:"dust and scratches",filter:{radius:e.Fltr["Rds "],threshold:e.Fltr.Thsh}});case"Mdn ":return g(g({},n),{type:"median",filter:{radius:Le(e.Fltr["Rds "])}});case"denoise":return g(g({},n),{type:"reduce noise",filter:{preset:e.Fltr.preset,removeJpegArtifact:e.Fltr.removeJPEGArtifact,reduceColorNoise:ze(e.Fltr.ClNs),sharpenDetails:ze(e.Fltr.Shrp),channelDenoise:e.Fltr.channelDenoise.map(function(a){return g({channels:a.Chnl.map(hr.decode),amount:a.Amnt},a.EdgF?{preserveDetails:a.EdgF}:{})})}});case"ClrH":return g(g({},n),{type:"color halftone",filter:{radius:e.Fltr["Rds "],angle1:e.Fltr.Ang1,angle2:e.Fltr.Ang2,angle3:e.Fltr.Ang3,angle4:e.Fltr.Ang4}});case"Crst":return g(g({},n),{type:"crystallize",filter:{cellSize:e.Fltr.ClSz,randomSeed:e.Fltr.FlRs}});case"Mztn":return g(g({},n),{type:"mezzotint",filter:{type:zd.decode(e.Fltr.MztT),randomSeed:e.Fltr.FlRs}});case"Msc ":return g(g({},n),{type:"mosaic",filter:{cellSize:Le(e.Fltr.ClSz)}});case"Pntl":return g(g({},n),{type:"pointillize",filter:{cellSize:e.Fltr.ClSz,randomSeed:e.Fltr.FlRs}});case"Clds":return g(g({},n),{type:"clouds",filter:{randomSeed:e.Fltr.FlRs}});case"DfrC":return g(g({},n),{type:"difference clouds",filter:{randomSeed:e.Fltr.FlRs}});case"Fbrs":return g(g({},n),{type:"fibers",filter:{variance:e.Fltr.Vrnc,strength:e.Fltr.Strg,randomSeed:e.Fltr.RndS}});case"LnsF":return g(g({},n),{type:"lens flare",filter:{brightness:e.Fltr.Brgh,position:{x:e.Fltr.FlrC.Hrzn,y:e.Fltr.FlrC.Vrtc},lensType:jd.decode(e.Fltr["Lns "])}});case"smartSharpen":return g(g({},n),{type:"smart sharpen",filter:{amount:ze(e.Fltr.Amnt),radius:Le(e.Fltr["Rds "]),threshold:e.Fltr.Thsh,angle:e.Fltr.Angl,moreAccurate:e.Fltr.moreAccurate,blur:Hd.decode(e.Fltr.blur),preset:e.Fltr.preset,shadow:{fadeAmount:ze(e.Fltr.sdwM.Amnt),tonalWidth:ze(e.Fltr.sdwM.Wdth),radius:e.Fltr.sdwM["Rds "]},highlight:{fadeAmount:ze(e.Fltr.hglM.Amnt),tonalWidth:ze(e.Fltr.hglM.Wdth),radius:e.Fltr.hglM["Rds "]}}});case"UnsM":return g(g({},n),{type:"unsharp mask",filter:{amount:ze(e.Fltr.Amnt),radius:Le(e.Fltr["Rds "]),threshold:e.Fltr.Thsh}});case"Dfs ":return g(g({},n),{type:"diffuse",filter:{mode:$d.decode(e.Fltr["Md  "]),randomSeed:e.Fltr.FlRs}});case"Embs":return g(g({},n),{type:"emboss",filter:{angle:e.Fltr.Angl,height:e.Fltr.Hght,amount:e.Fltr.Amnt}});case"Extr":return g(g({},n),{type:"extrude",filter:{type:Wd.decode(e.Fltr.ExtT),size:e.Fltr.ExtS,depth:e.Fltr.ExtD,depthMode:Xd.decode(e.Fltr.ExtR),randomSeed:e.Fltr.FlRs,solidFrontFaces:e.Fltr.ExtF,maskIncompleteBlocks:e.Fltr.ExtM}});case"Tls ":return g(g({},n),{type:"tiles",filter:{numberOfTiles:e.Fltr.TlNm,maximumOffset:e.Fltr.TlOf,fillEmptyAreaWith:Kd.decode(e.Fltr.FlCl),randomSeed:e.Fltr.FlRs}});case"TrcC":return g(g({},n),{type:"trace contour",filter:{level:e.Fltr["Lvl "],edge:qd.decode(e.Fltr["Edg "])}});case"Wnd ":return g(g({},n),{type:"wind",filter:{method:Yd.decode(e.Fltr.WndM),direction:Zd.decode(e.Fltr.Drct)}});case"Dntr":return g(g({},n),{type:"de-interlace",filter:{eliminate:Jd.decode(e.Fltr.IntE),newFieldsBy:Qd.decode(e.Fltr.IntC)}});case"Cstm":return g(g({},n),{type:"custom",filter:{scale:e.Fltr["Scl "],offset:e.Fltr.Ofst,matrix:e.Fltr.Mtrx}});case"HghP":return g(g({},n),{type:"high pass",filter:{radius:Le(e.Fltr["Rds "])}});case"Mxm ":return g(g({},n),{type:"maximum",filter:{radius:Le(e.Fltr["Rds "])}});case"Mnm ":return g(g({},n),{type:"minimum",filter:{radius:Le(e.Fltr["Rds "])}});case"Ofst":return g(g({},n),{type:"offset",filter:{horizontal:e.Fltr.Hrzn,vertical:e.Fltr.Vrtc,undefinedAreas:eh.decode(e.Fltr["Fl  "])}});case"rigidTransform":return g(g({},n),{type:"puppet",filter:{rigidType:e.Fltr.rigidType,bounds:[{x:e.Fltr.PuX0,y:e.Fltr.PuY0},{x:e.Fltr.PuX1,y:e.Fltr.PuY1},{x:e.Fltr.PuX2,y:e.Fltr.PuY2},{x:e.Fltr.PuX3,y:e.Fltr.PuY3}],puppetShapeList:e.Fltr.puppetShapeList.map(function(a){return{rigidType:a.rigidType,originalVertexArray:ou(a.originalVertexArray),deformedVertexArray:ou(a.deformedVertexArray),indexArray:Array.from(Uy(a.indexArray)),pinOffsets:co(a.pinOffsets),posFinalPins:co(a.posFinalPins),pinVertexIndices:a.pinVertexIndices,selectedPin:a.selectedPin,pinPosition:co(a.PinP),pinRotation:a.PnRt,pinOverlay:a.PnOv,pinDepth:a.PnDp,meshQuality:a.meshQuality,meshExpansion:a.meshExpansion,meshRigidity:a.meshRigidity,imageResolution:a.imageResolution,meshBoundaryPath:{pathComponents:a.meshBoundaryPath.pathComponents.map(function(l){return{shapeOperation:l.shapeOperation.split(".")[1],paths:l.SbpL.map(function(c){return{closed:c.Clsp,points:c["Pts "].map(function(u){return{anchor:Hi(u.Anch),forward:Hi(u["Fwd "]),backward:Hi(u["Bwd "]),smooth:u.Smoo}})}})}})}}})}});case"PbPl":{for(var i=[],r=e.Fltr,o=0;o<_t.length&&r["PN".concat(_t[o],"a")];o++)for(var s=0;s<_t.length&&r["PN".concat(_t[o]).concat(_t[s])];s++)i.push({name:r["PN".concat(_t[o]).concat(_t[s])],value:r["PF".concat(_t[o]).concat(_t[s])]});return g(g({},n),{type:"oil paint plugin",filter:{name:e.Fltr.KnNm,gpu:e.Fltr.GpuY,lighting:e.Fltr.LIWy,parameters:i}})}case"HsbP":return g(g({},n),{type:"hsb/hsl",filter:{inputMode:Fo.decode(e.Fltr.Inpt),rowOrder:Fo.decode(e.Fltr.Otpt)}});case"oilPaint":return g(g({},n),{type:"oil paint",filter:{lightingOn:e.Fltr.lightingOn,stylization:e.Fltr.stylization,cleanliness:e.Fltr.cleanliness,brushScale:e.Fltr.brushScale,microBrush:e.Fltr.microBrush,lightDirection:e.Fltr.LghD,specularity:e.Fltr.specularity}});case"LqFy":return g(g({},n),{type:"liquify",filter:{liquifyMesh:e.Fltr.LqMe}});case"perspectiveWarpTransform":return g(g({},n),{type:"perspective warp",filter:{vertices:e.Fltr.vertices.map(Hi),warpedVertices:e.Fltr.warpedVertices.map(Hi),quads:e.Fltr.quads.map(function(a){return a.indices})}});case"Crvs":return g(g({},n),{type:"curves",filter:g({presetKind:th.decode(e.Fltr.presetKind)},e.Fltr.Adjs?{adjustments:e.Fltr.Adjs.map(function(a){var l=a.Chnl.map(hr.decode);if(a["Crv "])return{channels:l,curve:a["Crv "].map(function(c){var u={x:c.Hrzn,y:c.Vrtc};return c.Cnty&&(u.curved=!0),u})};if(a.Mpng)return{channels:l,values:a.Mpng};throw new Error("Unknown curve adjustment")})}:{})});case"BrgC":return g(g({},n),{type:"brightness/contrast",filter:{brightness:e.Fltr.Brgh,contrast:e.Fltr.Cntr,useLegacy:!!e.Fltr.useLegacy}});default:if(t.throwForMissingFeatures)throw new Error("Unknown filter classId: ".concat(e.Fltr._classID));return}else switch(e.filterID){case 1098281575:return g(g({},n),{type:"average"});case 1114403360:return g(g({},n),{type:"blur"});case 1114403405:return g(g({},n),{type:"blur more"});case 1148416099:return g(g({},n),{type:"despeckle"});case 1180922912:return g(g({},n),{type:"facet"});case 1181902701:return g(g({},n),{type:"fragment"});case 1399353968:return g(g({},n),{type:"sharpen"});case 1399353925:return g(g({},n),{type:"sharpen edges"});case 1399353933:return g(g({},n),{type:"sharpen more"});case 1181639749:return g(g({},n),{type:"find edges"});case 1399616122:return g(g({},n),{type:"solarize"});case 1314149187:return g(g({},n),{type:"ntsc colors"});case 1231976050:return g(g({},n),{type:"invert"});default:if(t.throwForMissingFeatures)throw new Error("Unknown filterID: ".concat(e.filterID))}}function Gy(e,t){return{enabled:e.enab,validAtPosition:e.validAtPosition,maskEnabled:e.filterMaskEnable,maskLinked:e.filterMaskLinked,maskExtendWithWhite:e.filterMaskExtendWithWhite,list:e.filterFXList.map(function(n){return Vy(n,t)}).filter(function(n){return!!n})}}function rn(e){return Ke(e.radius,"radius")}function zy(e){var t={_name:"",_classID:"filterFX","Nm  ":e.name,blendOptions:{_name:"",_classID:"blendOptions",Opct:Nt(e.opacity),"Md  ":Gt.encode(e.blendMode)},enab:e.enabled,hasoptions:e.hasOptions,FrgC:Zt(e.foregroundColor),BckC:Zt(e.backgroundColor)};switch(e.type){case"average":return g(g({},t),{filterID:1098281575});case"blur":return g(g({},t),{filterID:1114403360});case"blur more":return g(g({},t),{filterID:1114403405});case"box blur":return g(g({},t),{Fltr:{_name:"Box Blur",_classID:"boxblur","Rds ":rn(e.filter)},filterID:697});case"gaussian blur":return g(g({},t),{Fltr:{_name:"Gaussian Blur",_classID:"GsnB","Rds ":rn(e.filter)},filterID:1198747202});case"motion blur":return g(g({},t),{Fltr:{_name:"Motion Blur",_classID:"MtnB",Angl:e.filter.angle,Dstn:Ke(e.filter.distance,"distance")},filterID:1299476034});case"radial blur":return g(g({},t),{Fltr:{_name:"Radial Blur",_classID:"RdlB",Amnt:e.filter.amount,BlrM:Od.encode(e.filter.method),BlrQ:Td.encode(e.filter.quality)},filterID:1382313026});case"shape blur":return g(g({},t),{Fltr:{_name:"Shape Blur",_classID:"shapeBlur","Rds ":rn(e.filter),customShape:{_name:"",_classID:"customShape","Nm  ":e.filter.customShape.name,Idnt:e.filter.customShape.id}},filterID:702});case"smart blur":return g(g({},t),{Fltr:{_name:"Smart Blur",_classID:"SmrB","Rds ":e.filter.radius,Thsh:e.filter.threshold,SmBQ:Md.encode(e.filter.quality),SmBM:Rd.encode(e.filter.mode)},filterID:1399681602});case"surface blur":return g(g({},t),{Fltr:{_name:"Surface Blur",_classID:"surfaceBlur","Rds ":rn(e.filter),Thsh:e.filter.threshold},filterID:701});case"displace":return g(g({},t),{Fltr:{_name:"Displace",_classID:"Dspl",HrzS:e.filter.horizontalScale,VrtS:e.filter.verticalScale,DspM:Ld.encode(e.filter.displacementMap),UndA:Pi.encode(e.filter.undefinedAreas),DspF:{sig:e.filter.displacementFile.signature,path:e.filter.displacementFile.path}},filterID:1148416108});case"pinch":return g(g({},t),{Fltr:{_name:"Pinch",_classID:"Pnch",Amnt:e.filter.amount},filterID:1349411688});case"polar coordinates":return g(g({},t),{Fltr:{_name:"Polar Coordinates",_classID:"Plr ",Cnvr:Dd.encode(e.filter.conversion)},filterID:1349284384});case"ripple":return g(g({},t),{Fltr:{_name:"Ripple",_classID:"Rple",Amnt:e.filter.amount,RplS:Bd.encode(e.filter.size)},filterID:1383099493});case"shear":return g(g({},t),{Fltr:{_name:"Shear",_classID:"Shr ",ShrP:e.filter.shearPoints.map(function(l){return{_name:"",_classID:"Pnt ",Hrzn:l.x,Vrtc:l.y}}),UndA:Pi.encode(e.filter.undefinedAreas),ShrS:e.filter.shearStart,ShrE:e.filter.shearEnd},filterID:1399353888});case"spherize":return g(g({},t),{Fltr:{_name:"Spherize",_classID:"Sphr",Amnt:e.filter.amount,SphM:Nd.encode(e.filter.mode)},filterID:1399875698});case"twirl":return g(g({},t),{Fltr:{_name:"Twirl",_classID:"Twrl",Angl:e.filter.angle},filterID:1417114220});case"wave":return g(g({},t),{Fltr:{_name:"Wave",_classID:"Wave",Wvtp:Ud.encode(e.filter.type),NmbG:e.filter.numberOfGenerators,WLMn:e.filter.wavelength.min,WLMx:e.filter.wavelength.max,AmMn:e.filter.amplitude.min,AmMx:e.filter.amplitude.max,SclH:e.filter.scale.x,SclV:e.filter.scale.y,UndA:Pi.encode(e.filter.undefinedAreas),RndS:e.filter.randomSeed},filterID:1466005093});case"zigzag":return g(g({},t),{Fltr:{_name:"ZigZag",_classID:"ZgZg",Amnt:e.filter.amount,NmbR:e.filter.ridges,ZZTy:Vd.encode(e.filter.style)},filterID:1516722791});case"add noise":return g(g({},t),{Fltr:{_name:"Add Noise",_classID:"AdNs",Dstr:Gd.encode(e.filter.distribution),Nose:Nt(e.filter.amount),Mnch:e.filter.monochromatic,FlRs:e.filter.randomSeed},filterID:1097092723});case"despeckle":return g(g({},t),{filterID:1148416099});case"dust and scratches":return g(g({},t),{Fltr:{_name:"Dust & Scratches",_classID:"DstS","Rds ":e.filter.radius,Thsh:e.filter.threshold},filterID:1148417107});case"median":return g(g({},t),{Fltr:{_name:"Median",_classID:"Mdn ","Rds ":rn(e.filter)},filterID:1298427424});case"reduce noise":return g(g({},t),{Fltr:{_name:"Reduce Noise",_classID:"denoise",ClNs:Nt(e.filter.reduceColorNoise),Shrp:Nt(e.filter.sharpenDetails),removeJPEGArtifact:e.filter.removeJpegArtifact,channelDenoise:e.filter.channelDenoise.map(function(l){return g({_name:"",_classID:"channelDenoiseParams",Chnl:l.channels.map(function(c){return hr.encode(c)}),Amnt:l.amount},l.preserveDetails?{EdgF:l.preserveDetails}:{})}),preset:e.filter.preset},filterID:633});case"color halftone":return g(g({},t),{Fltr:{_name:"Color Halftone",_classID:"ClrH","Rds ":e.filter.radius,Ang1:e.filter.angle1,Ang2:e.filter.angle2,Ang3:e.filter.angle3,Ang4:e.filter.angle4},filterID:1131180616});case"crystallize":return g(g({},t),{Fltr:{_name:"Crystallize",_classID:"Crst",ClSz:e.filter.cellSize,FlRs:e.filter.randomSeed},filterID:1131574132});case"facet":return g(g({},t),{filterID:1180922912});case"fragment":return g(g({},t),{filterID:1181902701});case"mezzotint":return g(g({},t),{Fltr:{_name:"Mezzotint",_classID:"Mztn",MztT:zd.encode(e.filter.type),FlRs:e.filter.randomSeed},filterID:1299870830});case"mosaic":return g(g({},t),{Fltr:{_name:"Mosaic",_classID:"Msc ",ClSz:Ke(e.filter.cellSize,"cellSize")},filterID:1299407648});case"pointillize":return g(g({},t),{Fltr:{_name:"Pointillize",_classID:"Pntl",ClSz:e.filter.cellSize,FlRs:e.filter.randomSeed},filterID:1349416044});case"clouds":return g(g({},t),{Fltr:{_name:"Clouds",_classID:"Clds",FlRs:e.filter.randomSeed},filterID:1131177075});case"difference clouds":return g(g({},t),{Fltr:{_name:"Difference Clouds",_classID:"DfrC",FlRs:e.filter.randomSeed},filterID:1147564611});case"fibers":return g(g({},t),{Fltr:{_name:"Fibers",_classID:"Fbrs",Vrnc:e.filter.variance,Strg:e.filter.strength,RndS:e.filter.randomSeed},filterID:1180856947});case"lens flare":return g(g({},t),{Fltr:{_name:"Lens Flare",_classID:"LnsF",Brgh:e.filter.brightness,FlrC:{_name:"",_classID:"Pnt ",Hrzn:e.filter.position.x,Vrtc:e.filter.position.y},"Lns ":jd.encode(e.filter.lensType)},filterID:1282306886});case"sharpen":return g(g({},t),{filterID:1399353968});case"sharpen edges":return g(g({},t),{filterID:1399353925});case"sharpen more":return g(g({},t),{filterID:1399353933});case"smart sharpen":return g(g({},t),{Fltr:{_name:"Smart Sharpen",_classID:"smartSharpen",Amnt:Nt(e.filter.amount),"Rds ":rn(e.filter),Thsh:e.filter.threshold,Angl:e.filter.angle,moreAccurate:e.filter.moreAccurate,blur:Hd.encode(e.filter.blur),preset:e.filter.preset,sdwM:{_name:"Parameters",_classID:"adaptCorrectTones",Amnt:Nt(e.filter.shadow.fadeAmount),Wdth:Nt(e.filter.shadow.tonalWidth),"Rds ":e.filter.shadow.radius},hglM:{_name:"Parameters",_classID:"adaptCorrectTones",Amnt:Nt(e.filter.highlight.fadeAmount),Wdth:Nt(e.filter.highlight.tonalWidth),"Rds ":e.filter.highlight.radius}},filterID:698});case"unsharp mask":return g(g({},t),{Fltr:{_name:"Unsharp Mask",_classID:"UnsM",Amnt:Nt(e.filter.amount),"Rds ":rn(e.filter),Thsh:e.filter.threshold},filterID:1433301837});case"diffuse":return g(g({},t),{Fltr:{_name:"Diffuse",_classID:"Dfs ","Md  ":$d.encode(e.filter.mode),FlRs:e.filter.randomSeed},filterID:1147564832});case"emboss":return g(g({},t),{Fltr:{_name:"Emboss",_classID:"Embs",Angl:e.filter.angle,Hght:e.filter.height,Amnt:e.filter.amount},filterID:1164796531});case"extrude":return g(g({},t),{Fltr:{_name:"Extrude",_classID:"Extr",ExtS:e.filter.size,ExtD:e.filter.depth,ExtF:e.filter.solidFrontFaces,ExtM:e.filter.maskIncompleteBlocks,ExtT:Wd.encode(e.filter.type),ExtR:Xd.encode(e.filter.depthMode),FlRs:e.filter.randomSeed},filterID:1165522034});case"find edges":return g(g({},t),{filterID:1181639749});case"solarize":return g(g({},t),{filterID:1399616122});case"tiles":return g(g({},t),{Fltr:{_name:"Tiles",_classID:"Tls ",TlNm:e.filter.numberOfTiles,TlOf:e.filter.maximumOffset,FlCl:Kd.encode(e.filter.fillEmptyAreaWith),FlRs:e.filter.randomSeed},filterID:1416393504});case"trace contour":return g(g({},t),{Fltr:{_name:"Trace Contour",_classID:"TrcC","Lvl ":e.filter.level,"Edg ":qd.encode(e.filter.edge)},filterID:1416782659});case"wind":return g(g({},t),{Fltr:{_name:"Wind",_classID:"Wnd ",WndM:Yd.encode(e.filter.method),Drct:Zd.encode(e.filter.direction)},filterID:1466852384});case"de-interlace":return g(g({},t),{Fltr:{_name:"De-Interlace",_classID:"Dntr",IntE:Jd.encode(e.filter.eliminate),IntC:Qd.encode(e.filter.newFieldsBy)},filterID:1148089458});case"ntsc colors":return g(g({},t),{filterID:1314149187});case"invert":return g(g({},t),{filterID:1231976050});case"custom":return g(g({},t),{Fltr:{_name:"Custom",_classID:"Cstm","Scl ":e.filter.scale,Ofst:e.filter.offset,Mtrx:e.filter.matrix},filterID:1131639917});case"high pass":return g(g({},t),{Fltr:{_name:"High Pass",_classID:"HghP","Rds ":rn(e.filter)},filterID:1214736464});case"maximum":return g(g({},t),{Fltr:{_name:"Maximum",_classID:"Mxm ","Rds ":rn(e.filter)},filterID:1299737888});case"minimum":return g(g({},t),{Fltr:{_name:"Minimum",_classID:"Mnm ","Rds ":rn(e.filter)},filterID:1299082528});case"offset":return g(g({},t),{Fltr:{_name:"Offset",_classID:"Ofst",Hrzn:e.filter.horizontal,Vrtc:e.filter.vertical,"Fl  ":eh.encode(e.filter.undefinedAreas)},filterID:1332114292});case"puppet":return g(g({},t),{Fltr:{_name:"Rigid Transform",_classID:"rigidTransform",null:["Ordn.Trgt"],rigidType:e.filter.rigidType,puppetShapeList:e.filter.puppetShapeList.map(function(l){return{_name:"",_classID:"puppetShape",rigidType:l.rigidType,VrsM:1,VrsN:0,originalVertexArray:Ps(new Float32Array(ji(l.originalVertexArray))),deformedVertexArray:Ps(new Float32Array(ji(l.deformedVertexArray))),indexArray:Ps(new Uint32Array(l.indexArray)),pinOffsets:ji(l.pinOffsets),posFinalPins:ji(l.posFinalPins),pinVertexIndices:l.pinVertexIndices,PinP:ji(l.pinPosition),PnRt:l.pinRotation,PnOv:l.pinOverlay,PnDp:l.pinDepth,meshQuality:l.meshQuality,meshExpansion:l.meshExpansion,meshRigidity:l.meshRigidity,imageResolution:l.imageResolution,meshBoundaryPath:{_name:"",_classID:"pathClass",pathComponents:l.meshBoundaryPath.pathComponents.map(function(c){return{_name:"",_classID:"PaCm",shapeOperation:"shapeOperation.".concat(c.shapeOperation),SbpL:c.paths.map(function(u){return{_name:"",_classID:"Sbpl",Clsp:u.closed,"Pts ":u.points.map(function(f){return{_name:"",_classID:"Pthp",Anch:$i(f.anchor),"Fwd ":$i(f.forward),"Bwd ":$i(f.backward),Smoo:f.smooth}})}})}})},selectedPin:l.selectedPin}}),PuX0:e.filter.bounds[0].x,PuX1:e.filter.bounds[1].x,PuX2:e.filter.bounds[2].x,PuX3:e.filter.bounds[3].x,PuY0:e.filter.bounds[0].y,PuY1:e.filter.bounds[1].y,PuY2:e.filter.bounds[2].y,PuY3:e.filter.bounds[3].y},filterID:991});case"oil paint plugin":{for(var n={},i=0;i<e.filter.parameters.length;i++){var r=e.filter.parameters[i],o=r.name,s=r.value,a="".concat(_t[Math.floor(i/_t.length)]).concat(_t[i%_t.length]);n["PN".concat(a)]=o,n["PT".concat(a)]=0,n["PF".concat(a)]=s}return g(g({},t),{Fltr:g({_name:"Oil Paint Plugin",_classID:"PbPl",KnNm:e.filter.name,GpuY:e.filter.gpu,LIWy:e.filter.lighting,FPth:"1"},n),filterID:1348620396})}case"oil paint":return g(g({},t),{Fltr:{_name:"Oil Paint",_classID:"oilPaint",lightingOn:e.filter.lightingOn,stylization:e.filter.stylization,cleanliness:e.filter.cleanliness,brushScale:e.filter.brushScale,microBrush:e.filter.microBrush,LghD:e.filter.lightDirection,specularity:e.filter.specularity},filterID:1122});case"liquify":return g(g({},t),{Fltr:{_name:"Liquify",_classID:"LqFy",LqMe:e.filter.liquifyMesh},filterID:1282492025});case"perspective warp":return g(g({},t),{Fltr:{_name:"Perspective Warp",_classID:"perspectiveWarpTransform",vertices:e.filter.vertices.map($i),warpedVertices:e.filter.warpedVertices.map($i),quads:e.filter.quads.map(function(l){return{indices:l}})},filterID:442});case"curves":return g(g({},t),{Fltr:g({_name:"Curves",_classID:"Crvs",presetKind:th.encode(e.filter.presetKind)},e.filter.adjustments?{Adjs:e.filter.adjustments.map(function(l){return"curve"in l?{_name:"",_classID:"CrvA",Chnl:l.channels.map(hr.encode),"Crv ":l.curve.map(function(c){return g({_name:"",_classID:"Pnt ",Hrzn:c.x,Vrtc:c.y},c.curved?{Cnty:!0}:{})})}:{_name:"",_classID:"CrvA",Chnl:l.channels.map(hr.encode),Mpng:l.values}})}:{}),filterID:1131574899});case"brightness/contrast":return g(g({},t),{Fltr:{_name:"Brightness/Contrast",_classID:"BrgC",Brgh:e.filter.brightness,Cntr:e.filter.contrast,useLegacy:!!e.filter.useLegacy},filterID:1114793795});default:throw new Error("Unknow filter type: ".concat(e.type))}}function Sh(e){if(e.warp)return e.warp;if(!e.width||!e.height)throw new Error("You must provide width and height of the linked image in placedLayer");var t=e.width,n=e.height,i=0,r=t/3,o=t*2/3,s=t,a=0,l=n/3,c=n*2/3,u=n;return{style:"custom",value:0,perspective:0,perspectiveOther:0,rotate:"horizontal",bounds:{top:{value:0,units:"Pixels"},left:{value:0,units:"Pixels"},bottom:{value:n,units:"Pixels"},right:{value:t,units:"Pixels"}},uOrder:4,vOrder:4,customEnvelopeWarp:{meshPoints:[{x:i,y:a},{x:r,y:a},{x:o,y:a},{x:s,y:a},{x:i,y:l},{x:r,y:l},{x:o,y:l},{x:s,y:l},{x:i,y:c},{x:r,y:c},{x:o,y:c},{x:s,y:c},{x:i,y:u},{x:r,y:u},{x:o,y:u},{x:s,y:u}]}}}he("SoLd",Be("placedLayer"),function(e,t,n){if(je(e)!=="soLD")throw new Error("Invalid SoLd type");var i=fe(e);if(i!==4&&i!==5)throw new Error("Invalid SoLd version");var r=ke(e,!0);t.placedLayer={id:r.Idnt,placed:r.placed,type:Ci[r.Type],pageNumber:r.PgNm,totalPages:r.totalPages,frameStep:St(r.frameStep),duration:St(r.duration),frameCount:r.frameCount,transform:r.Trnf,width:r["Sz  "].Wdth,height:r["Sz  "].Hght,resolution:Le(r.Rslt),warp:bh(r.quiltWarp||r.warp)},r.nonAffineTransform&&r.nonAffineTransform.some(function(o,s){return o!==r.Trnf[s]})&&(t.placedLayer.nonAffineTransform=r.nonAffineTransform),r.Crop&&(t.placedLayer.crop=r.Crop),r.comp&&(t.placedLayer.comp=r.comp),r.compInfo&&(t.placedLayer.compInfo={compID:r.compInfo.compID,originalCompID:r.compInfo.originalCompID}),r.filterFX&&(t.placedLayer.filter=Gy(r.filterFX,e)),ie(e,n())},function(e,t){var n,i;Se(e,"soLD"),xe(e,4);var r=t.placedLayer;if(!r.id||typeof r.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(r.id))throw new Error("Placed layer ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");var o=g(g({Idnt:r.id,placed:(n=r.placed)!==null&&n!==void 0?n:r.id,PgNm:r.pageNumber||1,totalPages:r.totalPages||1},r.crop?{Crop:r.crop}:{}),{frameStep:r.frameStep||{numerator:0,denominator:600},duration:r.duration||{numerator:0,denominator:600},frameCount:r.frameCount||0,Annt:16,Type:Ci.indexOf(r.type),Trnf:r.transform,nonAffineTransform:(i=r.nonAffineTransform)!==null&&i!==void 0?i:r.transform,warp:Io(Sh(r)),"Sz  ":{_name:"",_classID:"Pnt ",Wdth:r.width||0,Hght:r.height||0},Rslt:r.resolution?Ke(r.resolution,"resolution"):{units:"Density",value:72}});if(r.filter&&(o.filterFX={_name:"",_classID:"filterFXStyle",enab:r.filter.enabled,validAtPosition:r.filter.validAtPosition,filterMaskEnable:r.filter.maskEnabled,filterMaskLinked:r.filter.maskLinked,filterMaskExtendWithWhite:r.filter.maskExtendWithWhite,filterFXList:r.filter.list.map(function(a){return zy(a)})}),r.warp&&La(r.warp)){var s=Io(r.warp);o.quiltWarp=s,o.warp={warpStyle:"warpStyle.warpNone",warpValue:s.warpValue,warpPerspective:s.warpPerspective,warpPerspectiveOther:s.warpPerspectiveOther,warpRotate:s.warpRotate,bounds:s.bounds,uOrder:s.uOrder,vOrder:s.vOrder}}else delete o.quiltWarp;r.comp&&(o.comp=r.comp),r.compInfo&&(o.compInfo=r.compInfo),Ae(e,"","null",o,o.quiltWarp?"quiltWarp":"warp")});Ui("SoLE","SoLd");he("fxrp",Be("referencePoint"),function(e,t){t.referencePoint={x:zt(e),y:zt(e)}},function(e,t){un(e,t.referencePoint.x),un(e,t.referencePoint.y)});he("Lr16",function(){return!1},function(e,t,n,i,r){Oa(e,i,r)},function(e,t){});he("Lr32",function(){return!1},function(e,t,n,i,r){Oa(e,i,r)},function(e,t){});he("LMsk",Be("userMask"),function(e,t){t.userMask={colorSpace:lt(e),opacity:W(e)/255};var n=Q(e);if(n!==128)throw new Error("Invalid flag value");ie(e,1)},function(e,t){var n=t.userMask;ut(e,n.colorSpace),$(e,rd(n.opacity,0,1)*255),ae(e,128),De(e,1)});he("Patt",function(e){return!e},function(e,t,n){n()&&ie(e,n())},function(e,t){});function su(e){var t=fe(e),n=fe(e),i=fe(e),r=fe(e);return{top:t,left:n,bottom:i,right:r}}function au(e,t){xe(e,t.top),xe(e,t.left),xe(e,t.bottom),xe(e,t.right)}he("Anno",function(e){return e.annotations!==void 0},function(e,t,n){var i=W(e),r=W(e);if(i!==2||r!==1)throw new Error("Invalid Anno version");for(var o=X(e),s=[],a=0;a<o;a++){X(e);var l=je(e),c=!!Q(e);Q(e),W(e);var u=su(e),f=su(e),d=lt(e),h=jn(e,2),S=jn(e,2),v=jn(e,2);X(e),je(e);var E=X(e),b=void 0;if(l==="txtA")E>=2&&W(e)===65279?b=_a(e,(E-2)/2):(e.offset-=2,b=$o(e,E)),b=b.replace(/\r/g,`
`);else if(l==="sndA")b=ot(e,E);else throw new Error("Unknown annotation type");s.push({type:l==="txtA"?"text":"sound",open:c,iconLocation:u,popupLocation:f,color:d,author:h,name:S,date:v,data:b})}t.annotations=s,ie(e,n())},function(e,t){var n=t.annotations;$(e,2),$(e,1),Z(e,n.length);for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o.type==="sound";if(s&&!(o.data instanceof Uint8Array))throw new Error("Sound annotation data should be Uint8Array");if(!s&&typeof o.data!="string")throw new Error("Text annotation data should be string");var a=e.offset;Z(e,0),Se(e,s?"sndA":"txtA"),ae(e,o.open?1:0),ae(e,28),$(e,1),au(e,o.iconLocation),au(e,o.popupLocation),ut(e,o.color),_i(e,o.author||"",2),_i(e,o.name||"",2),_i(e,o.date||"",2);var l=e.offset;Z(e,0),Se(e,s?"sndM":"txtC"),Z(e,0);var c=e.offset;if(s)On(e,o.data);else{$(e,65279);for(var u=o.data.replace(/\n/g,"\r"),f=0;f<u.length;f++)$(e,u.charCodeAt(f))}e.view.setUint32(a,e.offset-a,!1),e.view.setUint32(l,e.offset-l,!1),e.view.setUint32(c-4,e.offset-c,!1)}});function xh(e){he(e,function(t){var n=t;return!(!n.linkedFiles||!n.linkedFiles.length||e==="lnkE"&&!n.linkedFiles.some(function(i){return i.linkedFile}))},function(t,n,i,r){var o=n;for(o.linkedFiles=o.linkedFiles||[];i()>8;){var s=ks(t),a=t.offset,l=je(t),c=fe(t),u=jn(t,1),f=ft(t),d=je(t).trim(),h=je(t).trim(),S=ks(t),v=Q(t),E=v?ke(t):void 0,b=l==="liFE"?ke(t):void 0,x={id:u,name:f};if(d&&(x.type=d),h&&(x.creator=h),E&&(x.descriptor={compInfo:{compID:E.compInfo.compID,originalCompID:E.compInfo.originalCompID}}),l==="liFE"&&c>3){var w=fe(t),y=Q(t),L=Q(t),I=Q(t),A=Q(t),B=zt(t),N=Math.floor(B),V=(B-N)*1e3;x.time=new Date(Date.UTC(w,y,L,I,A,N,V)).toISOString()}var G=l==="liFE"?ks(t):0;for(l==="liFA"&&ie(t,8),l==="liFD"&&(x.data=ot(t,S)),c>=5&&(x.childDocumentID=ft(t)),c>=6&&(x.assetModTime=zt(t)),c>=7&&(x.assetLockedState=Q(t)),l==="liFE"&&c===2&&(x.data=ot(t,G)),t.skipLinkedFilesData&&(x.data=void 0),e==="lnkE"&&(x.linkedFile={fileSize:G,name:(b==null?void 0:b["Nm  "])||"",fullPath:(b==null?void 0:b.fullPath)||"",originalPath:(b==null?void 0:b.originalPath)||"",relativePath:(b==null?void 0:b.relPath)||""}),o.linkedFiles.push(x);s%4;)s++;t.offset=a+s}ie(t,i())},function(t,n){for(var i,r,o,s,a,l,c,u,f,d=n,h=0,S=d.linkedFiles;h<S.length;h++){var v=S[h];if(e==="lnkE"==!!v.linkedFile){var E=2;v.assetLockedState!=null?E=7:v.assetModTime!=null?E=6:v.childDocumentID!=null?E=5:e==="lnkE"&&(E=3),As(t,0);var b=t.offset;if(Se(t,e==="lnkE"?"liFE":v.data?"liFD":"liFA"),xe(t,E),!v.id||typeof v.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(v.id))throw new Error("Linked file ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");if(_i(t,v.id,1),oi(t,v.name||""),Se(t,v.type?"".concat(v.type,"    ").substring(0,4):"    "),Se(t,v.creator?"".concat(v.creator,"    ").substring(0,4):"\0\0\0\0"),As(t,v.data?v.data.byteLength:0),v.descriptor&&v.descriptor.compInfo){var x={compInfo:{compID:v.descriptor.compInfo.compID,originalCompID:v.descriptor.compInfo.originalCompID}};ae(t,1),Ae(t,"","null",x)}else ae(t,0);if(e==="lnkE"){var x={descVersion:2,"Nm  ":(r=(i=v.linkedFile)===null||i===void 0?void 0:i.name)!==null&&r!==void 0?r:"",fullPath:(s=(o=v.linkedFile)===null||o===void 0?void 0:o.fullPath)!==null&&s!==void 0?s:"",originalPath:(l=(a=v.linkedFile)===null||a===void 0?void 0:a.originalPath)!==null&&l!==void 0?l:"",relPath:(u=(c=v.linkedFile)===null||c===void 0?void 0:c.relativePath)!==null&&u!==void 0?u:""};Ae(t,"","ExternalFileLink",x);var w=v.time?new Date(v.time):new Date;xe(t,w.getUTCFullYear()),ae(t,w.getUTCMonth()),ae(t,w.getUTCDate()),ae(t,w.getUTCHours()),ae(t,w.getUTCMinutes()),un(t,w.getUTCSeconds()+w.getUTCMilliseconds()/1e3)}v.data?On(t,v.data):As(t,((f=v.linkedFile)===null||f===void 0?void 0:f.fileSize)||0),E>=5&&oi(t,v.childDocumentID||""),E>=6&&un(t,v.assetModTime||0),E>=7&&ae(t,v.assetLockedState||0);var y=t.offset-b;for(t.view.setUint32(b-4,y,!1);y%4;)y++,ae(t,0)}}})}xh("lnk2");xh("lnkE");Ui("lnkD","lnk2");Ui("lnk3","lnk2");he("pths",Be("pathList"),function(e,t){ke(e,!0),t.pathList=[]},function(e,t){var n={pathList:[]};Ae(e,"","pathsDataClass",n)});he("lyvr",Be("version"),function(e,t){return t.version=X(e)},function(e,t){return Z(e,t.version)});he("lfxs",function(){return!1},function(e,t,n){var i=X(e);if(i!==0)throw new Error("Invalid lfxs version");var r=ke(e);t.effects=Ar(r,!!e.logMissingFeatures),ie(e,n())},function(e,t,n,i){var r=kr(t.effects,!!i.logMissingFeatures,!0);Z(e,0),Ae(e,"","null",r)});function gt(e){return function(t){return!!t.adjustment&&t.adjustment.type===e}}he("brit",gt("brightness/contrast"),function(e,t,n){t.adjustment||(t.adjustment={type:"brightness/contrast",brightness:_e(e),contrast:_e(e),meanValue:_e(e),labColorOnly:!!Q(e),useLegacy:!0}),ie(e,n())},function(e,t){var n,i=t.adjustment;Me(e,i.brightness||0),Me(e,i.contrast||0),Me(e,(n=i.meanValue)!==null&&n!==void 0?n:127),ae(e,i.labColorOnly?1:0),De(e,1)});function eo(e){var t=_e(e),n=_e(e),i=_e(e),r=_e(e),o=_e(e)/100;return{shadowInput:t,highlightInput:n,shadowOutput:i,highlightOutput:r,midtoneInput:o}}function Wi(e,t){Me(e,t.shadowInput),Me(e,t.highlightInput),Me(e,t.shadowOutput),Me(e,t.highlightOutput),Me(e,Math.round(t.midtoneInput*100))}he("levl",gt("levels"),function(e,t,n){if(W(e)!==2)throw new Error("Invalid levl version");t.adjustment=g(g({},t.adjustment),{type:"levels",rgb:eo(e),red:eo(e),green:eo(e),blue:eo(e)}),ie(e,n())},function(e,t){var n=t.adjustment,i={shadowInput:0,highlightInput:255,shadowOutput:0,highlightOutput:255,midtoneInput:1};$(e,2),Wi(e,n.rgb||i),Wi(e,n.red||i),Wi(e,n.blue||i),Wi(e,n.green||i);for(var r=0;r<59;r++)Wi(e,i)});function to(e){for(var t=W(e),n=[],i=0;i<t;i++){var r=_e(e),o=_e(e);n.push({input:o,output:r})}return n}function Dn(e,t){$(e,t.length);for(var n=0,i=t;n<i.length;n++){var r=i[n];$(e,r.output),$(e,r.input)}}he("curv",gt("curves"),function(e,t,n){if(Q(e),W(e)!==1)throw new Error("Invalid curv version");W(e);var i=W(e),r={type:"curves"};i&1&&(r.rgb=to(e)),i&2&&(r.red=to(e)),i&4&&(r.green=to(e)),i&8&&(r.blue=to(e)),t.adjustment=g(g({},t.adjustment),r),ie(e,n())},function(e,t){var n=t.adjustment,i=n.rgb,r=n.red,o=n.green,s=n.blue,a=0,l=0;i&&i.length&&(a|=1,l++),r&&r.length&&(a|=2,l++),o&&o.length&&(a|=4,l++),s&&s.length&&(a|=8,l++),ae(e,0),$(e,1),$(e,0),$(e,a),i&&i.length&&Dn(e,i),r&&r.length&&Dn(e,r),o&&o.length&&Dn(e,o),s&&s.length&&Dn(e,s),Se(e,"Crv "),$(e,4),$(e,0),$(e,l),i&&i.length&&($(e,0),Dn(e,i)),r&&r.length&&($(e,1),Dn(e,r)),o&&o.length&&($(e,2),Dn(e,o)),s&&s.length&&($(e,3),Dn(e,s))});he("expA",gt("exposure"),function(e,t,n){if(W(e)!==1)throw new Error("Invalid expA version");t.adjustment=g(g({},t.adjustment),{type:"exposure",exposure:Xt(e),offset:Xt(e),gamma:Xt(e)}),ie(e,n())},function(e,t){var n=t.adjustment;$(e,1),Kt(e,n.exposure),Kt(e,n.offset),Kt(e,n.gamma),De(e,2)});he("vibA",gt("vibrance"),function(e,t,n){var i=ke(e);t.adjustment={type:"vibrance"},i.vibrance!==void 0&&(t.adjustment.vibrance=i.vibrance),i.Strt!==void 0&&(t.adjustment.saturation=i.Strt),ie(e,n())},function(e,t){var n=t.adjustment,i={};n.vibrance!==void 0&&(i.vibrance=n.vibrance),n.saturation!==void 0&&(i.Strt=n.saturation),Ae(e,"","null",i)});function Kn(e){return{a:_e(e),b:_e(e),c:_e(e),d:_e(e),hue:_e(e),saturation:_e(e),lightness:_e(e)}}function qn(e,t){var n=t||{};Me(e,n.a||0),Me(e,n.b||0),Me(e,n.c||0),Me(e,n.d||0),Me(e,n.hue||0),Me(e,n.saturation||0),Me(e,n.lightness||0)}he("hue2",gt("hue/saturation"),function(e,t,n){if(W(e)!==2)throw new Error("Invalid hue2 version");t.adjustment=g(g({},t.adjustment),{type:"hue/saturation",master:Kn(e),reds:Kn(e),yellows:Kn(e),greens:Kn(e),cyans:Kn(e),blues:Kn(e),magentas:Kn(e)}),ie(e,n())},function(e,t){var n=t.adjustment;$(e,2),qn(e,n.master),qn(e,n.reds),qn(e,n.yellows),qn(e,n.greens),qn(e,n.cyans),qn(e,n.blues),qn(e,n.magentas)});function _s(e){return{cyanRed:_e(e),magentaGreen:_e(e),yellowBlue:_e(e)}}function Os(e,t){Me(e,t.cyanRed||0),Me(e,t.magentaGreen||0),Me(e,t.yellowBlue||0)}he("blnc",gt("color balance"),function(e,t,n){t.adjustment={type:"color balance",shadows:_s(e),midtones:_s(e),highlights:_s(e),preserveLuminosity:!!Q(e)},ie(e,n())},function(e,t){var n=t.adjustment;Os(e,n.shadows||{}),Os(e,n.midtones||{}),Os(e,n.highlights||{}),ae(e,n.preserveLuminosity?1:0),De(e,1)});he("blwh",gt("black & white"),function(e,t,n){var i=ke(e);t.adjustment={type:"black & white",reds:i["Rd  "],yellows:i.Yllw,greens:i["Grn "],cyans:i["Cyn "],blues:i["Bl  "],magentas:i.Mgnt,useTint:!!i.useTint,presetKind:i.bwPresetKind,presetFileName:i.blackAndWhitePresetFileName},i.tintColor!==void 0&&(t.adjustment.tintColor=Yt(i.tintColor)),ie(e,n())},function(e,t){var n=t.adjustment,i={"Rd  ":n.reds||0,Yllw:n.yellows||0,"Grn ":n.greens||0,"Cyn ":n.cyans||0,"Bl  ":n.blues||0,Mgnt:n.magentas||0,useTint:!!n.useTint,tintColor:Zt(n.tintColor),bwPresetKind:n.presetKind||0,blackAndWhitePresetFileName:n.presetFileName||""};Ae(e,"","null",i)});he("phfl",gt("photo filter"),function(e,t,n){var i=W(e);if(i!==2&&i!==3)throw new Error("Invalid phfl version");var r;i===2?r=lt(e):r={l:fe(e)/100,a:fe(e)/100,b:fe(e)/100},t.adjustment={type:"photo filter",color:r,density:X(e)/100,preserveLuminosity:!!Q(e)},ie(e,n())},function(e,t){var n=t.adjustment;$(e,2),ut(e,n.color||{l:0,a:0,b:0}),Z(e,(n.density||0)*100),ae(e,n.preserveLuminosity?1:0),De(e,3)});function no(e){var t=_e(e),n=_e(e),i=_e(e);ie(e,2);var r=_e(e);return{red:t,green:n,blue:i,constant:r}}function Xi(e,t){var n=t||{};Me(e,n.red),Me(e,n.green),Me(e,n.blue),De(e,2),Me(e,n.constant)}he("mixr",gt("channel mixer"),function(e,t,n){if(W(e)!==1)throw new Error("Invalid mixr version");var i=t.adjustment=g(g({},t.adjustment),{type:"channel mixer",monochrome:!!W(e)});i.monochrome||(i.red=no(e),i.green=no(e),i.blue=no(e)),i.gray=no(e),ie(e,n())},function(e,t){var n=t.adjustment;$(e,1),$(e,n.monochrome?1:0),n.monochrome?(Xi(e,n.gray),De(e,3*5*2)):(Xi(e,n.red),Xi(e,n.green),Xi(e,n.blue),Xi(e,n.gray))});var lu=me("colorLookupType","3DLUT",{"3dlut":"3DLUT",abstractProfile:"abstractProfile",deviceLinkProfile:"deviceLinkProfile"}),cu=me("LUTFormatType","look",{look:"LUTFormatLOOK",cube:"LUTFormatCUBE","3dl":"LUTFormat3DL"}),io=me("colorLookupOrder","rgb",{rgb:"rgbOrder",bgr:"bgrOrder"});he("clrL",gt("color lookup"),function(e,t,n){if(W(e)!==1)throw new Error("Invalid clrL version");var i=ke(e);t.adjustment={type:"color lookup"};var r=t.adjustment;i.lookupType!==void 0&&(r.lookupType=lu.decode(i.lookupType)),i["Nm  "]!==void 0&&(r.name=i["Nm  "]),i.Dthr!==void 0&&(r.dither=i.Dthr),i.profile!==void 0&&(r.profile=i.profile),i.LUTFormat!==void 0&&(r.lutFormat=cu.decode(i.LUTFormat)),i.dataOrder!==void 0&&(r.dataOrder=io.decode(i.dataOrder)),i.tableOrder!==void 0&&(r.tableOrder=io.decode(i.tableOrder)),i.LUT3DFileData!==void 0&&(r.lut3DFileData=i.LUT3DFileData),i.LUT3DFileName!==void 0&&(r.lut3DFileName=i.LUT3DFileName),ie(e,n())},function(e,t){var n=t.adjustment,i={};n.lookupType!==void 0&&(i.lookupType=lu.encode(n.lookupType)),n.name!==void 0&&(i["Nm  "]=n.name),n.dither!==void 0&&(i.Dthr=n.dither),n.profile!==void 0&&(i.profile=n.profile),n.lutFormat!==void 0&&(i.LUTFormat=cu.encode(n.lutFormat)),n.dataOrder!==void 0&&(i.dataOrder=io.encode(n.dataOrder)),n.tableOrder!==void 0&&(i.tableOrder=io.encode(n.tableOrder)),n.lut3DFileData!==void 0&&(i.LUT3DFileData=n.lut3DFileData),n.lut3DFileName!==void 0&&(i.LUT3DFileName=n.lut3DFileName),$(e,1),Ae(e,"","null",i)});he("nvrt",gt("invert"),function(e,t,n){t.adjustment={type:"invert"},ie(e,n())},function(){});he("post",gt("posterize"),function(e,t,n){t.adjustment={type:"posterize",levels:W(e)},ie(e,n())},function(e,t){var n,i=t.adjustment;$(e,(n=i.levels)!==null&&n!==void 0?n:4),De(e,2)});he("thrs",gt("threshold"),function(e,t,n){t.adjustment={type:"threshold",level:W(e)},ie(e,n())},function(e,t){var n,i=t.adjustment;$(e,(n=i.level)!==null&&n!==void 0?n:128),De(e,2)});var uu=["","","","rgb","hsb","","lab"];he("grdm",gt("gradient map"),function(e,t,n){var i=W(e);if(i!==1&&i!==3)throw new Error("Invalid grdm version");var r={type:"gradient map",gradientType:"solid"};r.reverse=!!Q(e),r.dither=!!Q(e);var o=!!Q(e);if(e.offset--,o){var s=je(e);r.method=Bi.decode(s)}r.name=ft(e),r.colorStops=[],r.opacityStops=[];for(var a=W(e),l=0;l<a;l++)r.colorStops.push({location:X(e),midpoint:X(e)/100,color:lt(e)}),ie(e,2);for(var c=W(e),l=0;l<c;l++)r.opacityStops.push({location:X(e),midpoint:X(e)/100,opacity:W(e)/255});var u=W(e);if(u!==2)throw new Error("Invalid grdm expansion count");var f=W(e);r.smoothness=f/4096;var d=W(e);if(d!==32)throw new Error("Invalid grdm length");r.gradientType=W(e)?"noise":"solid",r.randomSeed=X(e),r.addTransparency=!!W(e),r.restrictColors=!!W(e),r.roughness=X(e)/4096,r.colorModel=uu[W(e)]||"rgb",r.min=[W(e)/32768,W(e)/32768,W(e)/32768,W(e)/32768],r.max=[W(e)/32768,W(e)/32768,W(e)/32768,W(e)/32768],ie(e,n());for(var h=0,S=r.colorStops;h<S.length;h++){var v=S[h];v.location/=f}for(var E=0,b=r.opacityStops;E<b.length;E++){var v=b[E];v.location/=f}t.adjustment=r},function(e,t){var n,i,r,o=t.adjustment;$(e,o.method!==void 0?3:1),ae(e,o.reverse?1:0),ae(e,o.dither?1:0),o.method!==void 0&&Se(e,Bi.encode(o.method)),oi(e,o.name||""),$(e,o.colorStops&&o.colorStops.length||0);for(var s=Math.round(((n=o.smoothness)!==null&&n!==void 0?n:1)*4096),a=0,l=o.colorStops||[];a<l.length;a++){var c=l[a];Z(e,Math.round(c.location*s)),Z(e,Math.round(c.midpoint*100)),ut(e,c.color),De(e,2)}$(e,o.opacityStops&&o.opacityStops.length||0);for(var u=0,f=o.opacityStops||[];u<f.length;u++){var c=f[u];Z(e,Math.round(c.location*s)),Z(e,Math.round(c.midpoint*100)),$(e,Math.round(c.opacity*255))}$(e,2),$(e,s),$(e,32),$(e,o.gradientType==="noise"?1:0),Z(e,o.randomSeed||0),$(e,o.addTransparency?1:0),$(e,o.restrictColors?1:0),Z(e,Math.round(((i=o.roughness)!==null&&i!==void 0?i:1)*4096));var d=uu.indexOf((r=o.colorModel)!==null&&r!==void 0?r:"rgb");$(e,d===-1?3:d);for(var h=0;h<4;h++)$(e,Math.round((o.min&&o.min[h]||0)*32768));for(var h=0;h<4;h++)$(e,Math.round((o.max&&o.max[h]||0)*32768));De(e,4)});function gn(e){return{c:_e(e),m:_e(e),y:_e(e),k:_e(e)}}function mn(e,t){var n=t||{};Me(e,n.c),Me(e,n.m),Me(e,n.y),Me(e,n.k)}he("selc",gt("selective color"),function(e,t){if(W(e)!==1)throw new Error("Invalid selc version");var n=W(e)?"absolute":"relative";ie(e,8),t.adjustment={type:"selective color",mode:n,reds:gn(e),yellows:gn(e),greens:gn(e),cyans:gn(e),blues:gn(e),magentas:gn(e),whites:gn(e),neutrals:gn(e),blacks:gn(e)}},function(e,t){var n=t.adjustment;$(e,1),$(e,n.mode==="absolute"?1:0),De(e,8),mn(e,n.reds),mn(e,n.yellows),mn(e,n.greens),mn(e,n.cyans),mn(e,n.blues),mn(e,n.magentas),mn(e,n.whites),mn(e,n.neutrals),mn(e,n.blacks)});he("CgEd",function(e){var t=e.adjustment;return t?t.type==="brightness/contrast"&&!t.useLegacy||(t.type==="levels"||t.type==="curves"||t.type==="exposure"||t.type==="channel mixer"||t.type==="hue/saturation")&&t.presetFileName!==void 0:!1},function(e,t,n){var i=ke(e);if(i.Vrsn!==1)throw new Error("Invalid CgEd version");"presetFileName"in i?t.adjustment=g(g({},t.adjustment),{presetKind:i.presetKind,presetFileName:i.presetFileName}):"curvesPresetFileName"in i?t.adjustment=g(g({},t.adjustment),{presetKind:i.curvesPresetKind,presetFileName:i.curvesPresetFileName}):"mixerPresetFileName"in i?t.adjustment=g(g({},t.adjustment),{presetKind:i.mixerPresetKind,presetFileName:i.mixerPresetFileName}):t.adjustment={type:"brightness/contrast",brightness:i.Brgh,contrast:i.Cntr,meanValue:i.means,useLegacy:!!i.useLegacy,labColorOnly:!!i["Lab "],auto:!!i.Auto},ie(e,n())},function(e,t){var n,i,r,o,s=t.adjustment;if(s.type==="levels"||s.type==="exposure"||s.type==="hue/saturation"){var a={Vrsn:1,presetKind:(n=s.presetKind)!==null&&n!==void 0?n:1,presetFileName:s.presetFileName||""};Ae(e,"","null",a)}else if(s.type==="curves"){var a={Vrsn:1,curvesPresetKind:(i=s.presetKind)!==null&&i!==void 0?i:1,curvesPresetFileName:s.presetFileName||""};Ae(e,"","null",a)}else if(s.type==="channel mixer"){var a={Vrsn:1,mixerPresetKind:(r=s.presetKind)!==null&&r!==void 0?r:1,mixerPresetFileName:s.presetFileName||""};Ae(e,"","null",a)}else if(s.type==="brightness/contrast"){var a={Vrsn:1,Brgh:s.brightness||0,Cntr:s.contrast||0,means:(o=s.meanValue)!==null&&o!==void 0?o:127,"Lab ":!!s.labColorOnly,useLegacy:!!s.useLegacy,Auto:!!s.auto};Ae(e,"","null",a)}else throw new Error("Unhandled CgEd case")});function jy(e){var t=[];function n(i){var r;if(i.children)for(var o=0,s=i.children;o<s.length;o++){var a=s[o];((r=a.text)===null||r===void 0?void 0:r.index)!==void 0&&(t[a.text.index]=a),n(a)}}return n(e),t}he("Txt2",Be("engineData"),function(e,t,n,i){var r=ot(e,n());t.engineData=Rm(r);var o=jy(i),s=fh(r),a=My(s),l=a.ResourceDict.TextFrameSet;if(l)for(var c=0;c<l.length;c++){var u=o[c];l[c].path&&(u!=null&&u.text)&&(u.text.textPath=l[c].path)}},function(e,t){var n=od(t.engineData);On(e,n)});he("FEid",Be("filterEffectsMasks"),function(e,t,n){var i=fe(e);if(i<1||i>3)throw new Error("Invalid filterEffects version ".concat(i));for(t.filterEffectsMasks=[];n()>8;){if(X(e))throw new Error("filterEffects: 64 bit length is not supported");var r=X(e),o=e.offset+r,s=jn(e,1),a=fe(e);if(a!==1)throw new Error("Invalid filterEffect version ".concat(a));if(X(e))throw new Error("filterEffect: 64 bit length is not supported");X(e);for(var l=fe(e),c=fe(e),u=fe(e),f=fe(e),d=fe(e),h=fe(e),S=[],v=0;v<h+2;v++){var E=fe(e);if(E){if(X(e))throw new Error("filterEffect: 64 bit length is not supported");var b=X(e);if(!b)throw new Error("filterEffect: Empty channel");var x=W(e),w=ot(e,b-2);S.push({compressionMode:x,data:w})}else S.push(void 0)}if(t.filterEffectsMasks.push({id:s,top:l,left:c,bottom:u,right:f,depth:d,channels:S}),e.offset<o&&Q(e)){var y=fe(e),L=fe(e),I=fe(e),A=fe(e);if(X(e))throw new Error("filterEffect: 64 bit length is not supported");var B=X(e),x=W(e),w=ot(e,B-2);t.filterEffectsMasks[t.filterEffectsMasks.length-1].extra={top:y,left:L,bottom:I,right:A,compressionMode:x,data:w}}e.offset=o;for(var N=r;N%4;)e.offset++,N++}},function(e,t){var n;xe(e,3);for(var i=0,r=t.filterEffectsMasks;i<r.length;i++){var o=r[i];Z(e,0),Z(e,0);var s=e.offset;_i(e,o.id,1),xe(e,1),Z(e,0),Z(e,0);var a=e.offset;xe(e,o.top),xe(e,o.left),xe(e,o.bottom),xe(e,o.right),xe(e,o.depth);var l=Math.max(0,o.channels.length-2);xe(e,l);for(var c=0;c<l+2;c++){var u=o.channels[c];xe(e,u?1:0),u&&(Z(e,0),Z(e,u.data.length+2),$(e,u.compressionMode),On(e,u.data))}e.view.setUint32(a-4,e.offset-a,!1);var f=(n=t.filterEffectsMasks[t.filterEffectsMasks.length-1])===null||n===void 0?void 0:n.extra;f&&(ae(e,1),xe(e,f.top),xe(e,f.left),xe(e,f.bottom),xe(e,f.right),Z(e,0),Z(e,f.data.byteLength+2),$(e,f.compressionMode),On(e,f.data));var d=e.offset-s;for(e.view.setUint32(s-4,d,!1);d%4;)De(e,1),d++}});Ui("FXid","FEid");he("FMsk",Be("filterMask"),function(e,t){t.filterMask={colorSpace:lt(e),opacity:W(e)/255}},function(e,t){var n;ut(e,t.filterMask.colorSpace),$(e,rd((n=t.filterMask.opacity)!==null&&n!==void 0?n:1,0,1)*255)});he("artd",function(e){return e.artboards!==void 0},function(e,t,n){var i=ke(e);t.artboards={count:i["Cnt "],autoExpandOffset:{horizontal:i.autoExpandOffset.Hrzn,vertical:i.autoExpandOffset.Vrtc},origin:{horizontal:i.origin.Hrzn,vertical:i.origin.Vrtc},autoExpandEnabled:i.autoExpandEnabled,autoNestEnabled:i.autoNestEnabled,autoPositionEnabled:i.autoPositionEnabled,shrinkwrapOnSaveEnabled:!!i.shrinkwrapOnSaveEnabled,docDefaultNewArtboardBackgroundColor:Yt(i.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:i.docDefaultNewArtboardBackgroundType},ie(e,n())},function(e,t){var n,i,r,o,s,a=t.artboards,l={"Cnt ":a.count,autoExpandOffset:a.autoExpandOffset?{Hrzn:a.autoExpandOffset.horizontal,Vrtc:a.autoExpandOffset.vertical}:{Hrzn:0,Vrtc:0},origin:a.origin?{Hrzn:a.origin.horizontal,Vrtc:a.origin.vertical}:{Hrzn:0,Vrtc:0},autoExpandEnabled:(n=a.autoExpandEnabled)!==null&&n!==void 0?n:!0,autoNestEnabled:(i=a.autoNestEnabled)!==null&&i!==void 0?i:!0,autoPositionEnabled:(r=a.autoPositionEnabled)!==null&&r!==void 0?r:!0,shrinkwrapOnSaveEnabled:(o=a.shrinkwrapOnSaveEnabled)!==null&&o!==void 0?o:!0,docDefaultNewArtboardBackgroundColor:Zt(a.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:(s=a.docDefaultNewArtboardBackgroundType)!==null&&s!==void 0?s:1};Ae(e,"","null",l,"artd")});function Ch(e){return Object.keys(e).map(function(t){return e[t]}).some(function(t){return Array.isArray(t)&&t.length>1})}he("lfx2",function(e){return e.effects!==void 0&&!Ch(e.effects)},function(e,t,n){var i=X(e);if(i!==0)throw new Error("Invalid lfx2 version");var r=ke(e);t.effects=Ar(r,!!e.logMissingFeatures),ie(e,n())},function(e,t,n,i){var r=kr(t.effects,!!i.logMissingFeatures,!0);Z(e,0),Ae(e,"","null",r)});he("cinf",Be("compositorUsed"),function(e,t,n){var i=ke(e);function r(o){return o.split(".")[1]}t.compositorUsed={description:i.description,reason:i.reason,engine:r(i.Engn)},i.Vrsn&&(t.compositorUsed.version=i.Vrsn),i.psVersion&&(t.compositorUsed.photoshopVersion=i.psVersion),i.enableCompCore&&(t.compositorUsed.enableCompCore=r(i.enableCompCore)),i.enableCompCoreGPU&&(t.compositorUsed.enableCompCoreGPU=r(i.enableCompCoreGPU)),i.enableCompCoreThreads&&(t.compositorUsed.enableCompCoreThreads=r(i.enableCompCoreThreads)),i.compCoreSupport&&(t.compositorUsed.compCoreSupport=r(i.compCoreSupport)),i.compCoreGPUSupport&&(t.compositorUsed.compCoreGPUSupport=r(i.compCoreGPUSupport)),ie(e,n())},function(e,t){var n=t.compositorUsed,i={Vrsn:n.version||{major:1,minor:0,fix:0}};n.photoshopVersion&&(i.psVersion=n.photoshopVersion),i.description=n.description,i.reason=n.reason,i.Engn="Engn.".concat(n.engine),n.enableCompCore&&(i.enableCompCore="enable.".concat(n.enableCompCore)),n.enableCompCoreGPU&&(i.enableCompCoreGPU="enable.".concat(n.enableCompCoreGPU)),n.enableCompCoreThreads&&(i.enableCompCoreThreads="enable.".concat(n.enableCompCoreThreads)),n.compCoreSupport&&(i.compCoreSupport="reason.".concat(n.compCoreSupport)),n.compCoreGPUSupport&&(i.compCoreGPUSupport="reason.".concat(n.compCoreGPUSupport)),Ae(e,"","null",i)});he("extn",function(e){return e._extn!==void 0},function(e,t){ke(e)},function(e,t){});he("iOpa",Be("fillOpacity"),function(e,t){t.fillOpacity=Q(e)/255,ie(e,3)},function(e,t){ae(e,t.fillOpacity*255),De(e,3)});he("brst",Be("channelBlendingRestrictions"),function(e,t,n){for(t.channelBlendingRestrictions=[];n()>4;)t.channelBlendingRestrictions.push(fe(e))},function(e,t){for(var n=0,i=t.channelBlendingRestrictions;n<i.length;n++){var r=i[n];xe(e,r)}});he("tsly",Be("transparencyShapesLayer"),function(e,t){t.transparencyShapesLayer=!!Q(e),ie(e,3)},function(e,t){ae(e,t.transparencyShapesLayer?1:0),De(e,3)});function ae(e,t){var n=Rn(e,1);e.view.setUint8(n,t)}function Me(e,t){var n=Rn(e,2);e.view.setInt16(n,t,!1)}function $(e,t){var n=Rn(e,2);e.view.setUint16(n,t,!1)}function Hy(e,t){var n=Rn(e,2);e.view.setUint16(n,t,!0)}function xe(e,t){var n=Rn(e,4);e.view.setInt32(n,t,!1)}function fu(e,t){var n=Rn(e,4);e.view.setInt32(n,t,!0)}function Z(e,t){var n=Rn(e,4);e.view.setUint32(n,t,!1)}function Kt(e,t){var n=Rn(e,4);e.view.setFloat32(n,t,!1)}function un(e,t){var n=Rn(e,8);e.view.setFloat64(n,t,!1)}function Ot(e,t){xe(e,t*65536)}function Wt(e,t){xe(e,t*(1<<24))}function On(e,t){if(t){Fh(e,e.offset+t.length);var n=new Uint8Array(e.buffer);n.set(t,e.offset),e.offset+=t.length}}function De(e,t){for(var n=0;n<t;n++)ae(e,0)}function Se(e,t){if(t.length!==4)throw new Error("Invalid signature: '".concat(t,"'"));for(var n=0;n<4;n++)ae(e,t.charCodeAt(n))}function $y(e,t){for(var n=0;n<t.length;n++)ae(e,t.charCodeAt(n))}function _i(e,t,n){var i=t.length;if(i>255)throw new Error("String too long");ae(e,i);for(var r=0;r<i;r++){var o=t.charCodeAt(r);ae(e,o<128?o:63)}for(;++i%n;)ae(e,0)}function Wy(e,t){for(var n=0;n<t.length;n++)$(e,t.charCodeAt(n))}function Xy(e,t){for(var n=0;n<t.length;n++)Hy(e,t.charCodeAt(n))}function Tt(e,t){Z(e,t.length),Wy(e,t)}function oi(e,t){Z(e,t.length+1);for(var n=0;n<t.length;n++)$(e,t.charCodeAt(n));$(e,0)}function Jn(e,t,n,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1),r&&Z(e,0);var o=e.offset;Z(e,0),n();for(var s=e.offset-o-4,a=s;a%t;)ae(e,0),a++;i&&(s=a),e.view.setUint32(o,s,!1)}function Ky(e,t){var n=e.buffer.byteLength;do n*=2;while(t>n);var i=new ArrayBuffer(n),r=new Uint8Array(i),o=new Uint8Array(e.buffer);r.set(o),e.buffer=i,e.view=new DataView(e.buffer)}function Fh(e,t){t>e.buffer.byteLength&&Ky(e,t)}function Rn(e,t){var n=e.offset;return Fh(e,e.offset+=t),n}function ut(e,t){t?"r"in t?($(e,0),$(e,Math.round(t.r*257)),$(e,Math.round(t.g*257)),$(e,Math.round(t.b*257)),$(e,0)):"fr"in t?($(e,0),$(e,Math.round(t.fr*255*257)),$(e,Math.round(t.fg*255*257)),$(e,Math.round(t.fb*255*257)),$(e,0)):"l"in t?($(e,7),Me(e,Math.round(t.l*1e4)),Me(e,Math.round(t.a<0?t.a*12800:t.a*12700)),Me(e,Math.round(t.b<0?t.b*12800:t.b*12700)),$(e,0)):"h"in t?($(e,1),$(e,Math.round(t.h*65535)),$(e,Math.round(t.s*65535)),$(e,Math.round(t.b*65535)),$(e,0)):"c"in t?($(e,2),$(e,Math.round(t.c*257)),$(e,Math.round(t.m*257)),$(e,Math.round(t.y*257)),$(e,Math.round(t.k*257))):($(e,8),$(e,Math.round(t.k*1e4/255)),De(e,6)):($(e,0),De(e,8))}var du;(function(e){e[e.Bitmap=0]="Bitmap",e[e.Grayscale=1]="Grayscale",e[e.Indexed=2]="Indexed",e[e.RGB=3]="RGB",e[e.CMYK=4]="CMYK",e[e.Multichannel=7]="Multichannel",e[e.Duotone=8]="Duotone",e[e.Lab=9]="Lab"})(du||(du={}));var hu;(function(e){e[e.Other=0]="Other",e[e.OpenFolder=1]="OpenFolder",e[e.ClosedFolder=2]="ClosedFolder",e[e.BoundingSectionDivider=3]="BoundingSectionDivider"})(hu||(hu={}));var pu;(function(e){e[e.None=0]="None",e[e.Visibility=1]="Visibility",e[e.Position=2]="Position",e[e.Appearance=4]="Appearance"})(pu||(pu={}));var vu;(function(e){e[e.Color0=0]="Color0",e[e.Color1=1]="Color1",e[e.Color2=2]="Color2",e[e.Color3=3]="Color3",e[e.Transparency=-1]="Transparency",e[e.UserMask=-2]="UserMask",e[e.RealUserMask=-3]="RealUserMask"})(vu||(vu={}));var gu;(function(e){e[e.RawData=0]="RawData",e[e.RleCompressed=1]="RleCompressed",e[e.ZipWithoutPrediction=2]="ZipWithoutPrediction",e[e.ZipWithPrediction=3]="ZipWithPrediction"})(gu||(gu={}));function qy(e,t){var n="buffer"in e?ea(e.buffer,e.byteOffset,e.byteLength):ea(e);return ly(n,t)}const Yy={class:"layer-item"},Zy=["data-layer-id"],Jy={class:"layer-icon"},Qy={class:"layer-name"},eb={key:0,class:"layer-children"},tb=ai({__name:"LayerItem",props:{layer:{},selectedLayer:{},expandedGroups:{},layerVisibility:{},disableVisibilityToggle:{type:Boolean}},emits:["layer-select","toggle-visibility"],setup(e,{emit:t}){const n=e,i=t,r=We(!1);Ei(()=>n.expandedGroups,d=>{const h=n.layer.__uniqueId;d.has(h)&&(r.value=!0)},{immediate:!0,deep:!0});const o=nt(()=>n.layer.children&&n.layer.children.length>0),s=nt(()=>n.selectedLayer?n.selectedLayer.__uniqueId===n.layer.__uniqueId:!1),a=nt(()=>{const d=n.layer.__uniqueId;return n.layerVisibility.get(d)??!0}),l=()=>{r.value=!r.value},c=()=>{i("toggle-visibility",n.layer)},u=()=>{i("layer-select",n.layer)},f=()=>o.value?"":n.layer.text?"":"";return(d,h)=>{const S=Lp("LayerItem",!0);return He(),Qe("div",Yy,[te("div",{class:ln(["layer-header",{selected:s.value,hidden:!a.value}]),"data-layer-id":e.layer.__uniqueId,onClick:u},[o.value?(He(),Qe("span",{key:0,class:"layer-toggle",onClick:or(l,["stop"])},xt(r.value?"":""),1)):kn("",!0),e.disableVisibilityToggle?kn("",!0):(He(),Qe("span",{key:1,class:"layer-visibility",onClick:or(c,["stop"])},xt(a.value?"":""),1)),te("span",Jy,xt(f()),1),te("span",Qy,xt(e.layer.name),1)],10,Zy),r.value&&o.value?(He(),Qe("div",eb,[(He(!0),Qe(Rt,null,xa(e.layer.children,(v,E)=>(He(),No(S,{key:`${v.name}-${E}-${v.left}-${v.top}`,layer:v,"selected-layer":e.selectedLayer,"expanded-groups":e.expandedGroups,"layer-visibility":e.layerVisibility,"disable-visibility-toggle":e.disableVisibilityToggle,onLayerSelect:h[0]||(h[0]=b=>d.$emit("layer-select",b)),onToggleVisibility:h[1]||(h[1]=b=>d.$emit("toggle-visibility",b))},null,8,["layer","selected-layer","expanded-groups","layer-visibility","disable-visibility-toggle"]))),128))])):kn("",!0)])}}}),Wo=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},nb=Wo(tb,[["__scopeId","data-v-0c8e97d5"]]),ib={class:"layer-tree"},rb=ai({__name:"LayerTree",props:{layers:{},selectedLayer:{},expandedGroups:{},layerVisibility:{},disableVisibilityToggle:{type:Boolean}},emits:["layer-select","toggle-visibility"],setup(e){return(t,n)=>(He(),Qe("div",ib,[(He(!0),Qe(Rt,null,xa(e.layers,(i,r)=>(He(),No(nb,{key:`${i.name}-${r}-${i.left}-${i.top}`,layer:i,"selected-layer":e.selectedLayer,"expanded-groups":e.expandedGroups,"layer-visibility":e.layerVisibility,"disable-visibility-toggle":e.disableVisibilityToggle,onLayerSelect:n[0]||(n[0]=o=>t.$emit("layer-select",o)),onToggleVisibility:n[1]||(n[1]=o=>t.$emit("toggle-visibility",o))},null,8,["layer","selected-layer","expanded-groups","layer-visibility","disable-visibility-toggle"]))),128))]))}}),ob=Wo(rb,[["__scopeId","data-v-9943f508"]]),sb={class:"properties"},ab={class:"property-section"},lb={class:"section-header"},cb={class:"property-section"},ub={key:0,class:"property-section"},fb={class:"text-content-wrapper"},db={class:"text-content"},hb={class:"property-section"},pb={key:0,class:"layer-preview"},vb={key:1,class:"vector-layer-notice"},gb={key:0},mb={key:1},yb={key:2,class:"vector-layer-notice"},bb={class:"export-list"},Sb=["onUpdate:modelValue","disabled"],xb=["onUpdate:modelValue","onChange"],Cb=["onClick"],Fb={class:"property-section"},wb={class:"debug-content"},Ib=ai({__name:"LayerProperties",props:{layer:{},psd:{}},setup(e){const t=e,n=We(!1),i=We(!1),r=We(),o=nt(()=>t.layer.canvas),s=nt(()=>{var A;const I=t.layer;return((A=I.vectorMask)==null?void 0:A.paths)&&I.vectorMask.paths.length>0}),a=nt(()=>{var A;return((A=t.layer.placedLayer)==null?void 0:A.type)==="vector"}),l=nt(()=>{var V;const I=t.layer;if(!I.placedLayer||!((V=t.psd)!=null&&V.linkedFiles))return null;const A=I.placedLayer.id,B=I.placedLayer.placed;let N=t.psd.linkedFiles.find(G=>G.id===A||G.id===B);if(!N&&I.name){const G=I.name.toLowerCase();N=t.psd.linkedFiles.find(ne=>ne.name?ne.name.replace(/\.[^.]+$/,"").toLowerCase()===G:!1),N||(N=t.psd.linkedFiles.find(ne=>ne.name&&ne.name.toLowerCase()===G)),N||(N=t.psd.linkedFiles.find(ne=>ne.name&&ne.name.toLowerCase().includes(G)),N&&console.warn(" Using partial name match - may be incorrect:",I.name,"",N.name))}return N&&N.data?(console.log(" Found linked file data:",N.name,N.type,N.data.length,"bytes"),N):null});Ei([o,r],()=>{!o.value||!r.value||ii(()=>{c()})},{immediate:!0});const c=()=>{if(!o.value||!r.value)return;const I=r.value,A=o.value,B=268,N=176,V=B/A.width,G=N/A.height,ne=Math.min(1,V,G),ee=Math.floor(A.width*ne),ce=Math.floor(A.height*ne);I.width=ee,I.height=ce;const de=I.getContext("2d");de&&(de.imageSmoothingEnabled=!0,de.imageSmoothingQuality="high",de.drawImage(A,0,0,ee,ce))},u=We([{scale:"1",format:"png"}]),f=(I,A,B)=>{const N=V=>Math.round(V).toString(16).padStart(2,"0");return`#${N(I)}${N(A)}${N(B)}`},d=nt(()=>t.layer.text&&t.layer.text.text||null),h=nt(()=>{var B;const I=t.layer,A={layer:I};if(I.placedLayer&&((B=t.psd)!=null&&B.linkedFiles)){A.linkedFilesAvailable=t.psd.linkedFiles.length,A.placedLayerId=I.placedLayer.id,A.placedLayerPlaced=I.placedLayer.placed;const N=t.psd.linkedFiles.filter(V=>V.id===I.placedLayer.id||V.id===I.placedLayer.placed||I.name&&V.name&&V.name.toLowerCase().includes(I.name.toLowerCase()));N.length>0&&(A.matchingLinkedFiles=N.map(V=>({id:V.id,name:V.name,type:V.type,dataSize:V.data?V.data.length:0})))}return JSON.stringify(A,null,2)}),S=nt(()=>{var q,ue,Pe,ve,Ce,Ee,Ze,ye,ge,we,R,j;const I=t.layer,A=[],B=[],N=I.right-I.left,V=I.bottom-I.top;N&&V&&(A.push(`width: ${N}px;`),A.push(`height: ${V}px;`));let G=null,ne=!1;if((q=I.effects)!=null&&q.solidFill&&I.effects.solidFill.length>0){const M=I.effects.solidFill[0];if(M.enabled!==!1&&M.color){ne=!0;const U=Math.round(M.color.r||0),oe=Math.round(M.color.g||0),m=Math.round(M.color.b||0);G=f(U,oe,m)}}if(!G&&((ue=I.effects)!=null&&ue.colorOverlay)&&I.effects.colorOverlay.length>0){const M=I.effects.colorOverlay[0];if(M.enabled!==!1&&M.color){ne=!0;const U=Math.round(M.color.r||0),oe=Math.round(M.color.g||0),m=Math.round(M.color.b||0);G=f(U,oe,m)}}if(!G&&((Pe=I.vectorFill)==null?void 0:Pe.type)==="color"&&I.vectorFill.color){ne=!0;const M=I.vectorFill.color,U=Math.round(M.r||0),oe=Math.round(M.g||0),m=Math.round(M.b||0);G=f(U,oe,m)}const ee=I.fillOpacity!==void 0?I.fillOpacity>1?I.fillOpacity/255:I.fillOpacity:1;if(G&&ne&&ee>0&&A.push(`background-color: ${G};`),I.text){const M=I.text;if((ve=M.style)!=null&&ve.font&&A.push(`font-family: "${M.style.font.name}";`),(Ce=M.style)!=null&&Ce.fontSize&&A.push(`font-size: ${Math.round(M.style.fontSize)}px;`),(Ee=M.style)!=null&&Ee.fillColor){const U=M.style.fillColor;A.push(`color: ${f(U.r,U.g,U.b)};`)}if((Ze=M.style)!=null&&Ze.leading&&A.push(`line-height: ${Math.round(M.style.leading)}px;`),(ye=M.style)!=null&&ye.tracking){const U=(M.style.tracking/1e3).toFixed(3);A.push(`letter-spacing: ${U}em;`)}(ge=M.paragraphStyle)!=null&&ge.align&&A.push(`text-align: ${M.paragraphStyle.align};`)}let ce=1,de=1;if(I.opacity!==void 0&&(de=I.opacity>1?I.opacity/255:I.opacity,ce=de),ce<1&&A.push(`opacity: ${ce.toFixed(2)};`),I.blendMode&&I.blendMode!=="normal"&&I.blendMode!=="pass through"&&A.push(`mix-blend-mode: ${I.blendMode};`),I.effects){const M=[];if(I.effects.dropShadow&&I.effects.dropShadow.length>0&&I.effects.dropShadow.forEach(U=>{if(U.enabled!==!1){const oe=(U.angle||0)*Math.PI/180,m=typeof U.distance=="object"?U.distance.value||0:U.distance||0,F=typeof U.size=="object"?U.size.value||0:U.size||0,p=U.opacity!==void 0?U.opacity:1,C=Math.round(Math.cos(oe)*m),k=Math.round(Math.sin(oe)*m),P=U.color||{r:0,g:0,b:0},D=Math.round(P.r||0),O=Math.round(P.g||0),T=Math.round(P.b||0);M.push(`${C}px ${k}px ${F}px rgba(${D}, ${O}, ${T}, ${p.toFixed(2)})`)}}),I.effects.innerShadow&&I.effects.innerShadow.length>0&&I.effects.innerShadow.forEach(U=>{if(U.enabled!==!1){const oe=(U.angle||0)*Math.PI/180,m=typeof U.distance=="object"?U.distance.value||0:U.distance||0,F=typeof U.size=="object"?U.size.value||0:U.size||0,p=U.opacity!==void 0?U.opacity:1,C=Math.round(Math.cos(oe)*m),k=Math.round(Math.sin(oe)*m),P=U.color||{r:0,g:0,b:0},D=Math.round(P.r||0),O=Math.round(P.g||0),T=Math.round(P.b||0);M.push(`inset ${C}px ${k}px ${F}px rgba(${D}, ${O}, ${T}, ${p.toFixed(2)})`)}}),M.length>0&&A.push(`box-shadow: ${M.join(", ")};`),I.effects.stroke&&I.effects.stroke.length>0){const U=I.effects.stroke[0];if(U.enabled!==!1){const oe=typeof U.size=="object"?U.size.value||1:U.size||1,m=U.opacity!==void 0?U.opacity:1,F=U.color||{r:0,g:0,b:0},p=Math.round(F.r||0),C=Math.round(F.g||0),k=Math.round(F.b||0);m<1?A.push(`border: ${oe}px solid rgba(${p}, ${C}, ${k}, ${m.toFixed(2)});`):A.push(`border: ${oe}px solid ${f(p,C,k)};`)}}((we=I.vectorMask)!=null&&we.paths||(R=I.additionalInfo)!=null&&R.lrFX)&&A.push("border-radius: 10px;")}(j=I.vectorMask)!=null&&j.paths&&!I.effects&&A.push("border-radius: 10px;"),I.left!==void 0&&I.top!==void 0&&(B.push("position: absolute;"),B.push(`left: ${I.left}px;`),B.push(`top: ${I.top}px;`));const J=[];return A.length>0&&J.push(A.join(`
`)),B.length>0&&(J.length>0&&J.push(""),J.push(B.join(`
`))),J.length>0?J.join(`
`):"/* No CSS properties available */"}),v=async()=>{const I=window.getSelection(),A=I==null?void 0:I.toString().trim();if(A&&A.length>0)try{await navigator.clipboard.writeText(A),I==null||I.removeAllRanges(),n.value=!0,setTimeout(()=>{n.value=!1},1500)}catch(B){console.error("Failed to copy CSS:",B)}},E=async()=>{try{await navigator.clipboard.writeText(S.value),n.value=!0,setTimeout(()=>{n.value=!1},1500)}catch(I){console.error("Failed to copy CSS:",I)}},b=async()=>{try{await navigator.clipboard.writeText(d.value||""),i.value=!0,setTimeout(()=>{i.value=!1},1500)}catch(I){console.error("Failed to copy text:",I)}},x=()=>{u.value.push({scale:"1",format:"png"})},w=I=>{u.value.splice(I,1)},y=I=>{I.format==="svg"&&(I.scale="1")},L=async()=>{var V,G,ne,ee,ce,de,J,q,ue,Pe;const I=t.layer,A=I.canvas,B=((V=I.vectorMask)==null?void 0:V.paths)&&I.vectorMask.paths.length>0,N=((G=I.placedLayer)==null?void 0:G.type)==="vector";if(!A&&!B){alert("This layer has no image data to export");return}for(const ve of u.value){const Ce=parseFloat(ve.scale),Ee=ve.format;if(Ee==="svg"){if(N&&l.value)try{const p=l.value.data,C=((ne=l.value.type)==null?void 0:ne.toLowerCase())||"",k=l.value.name||"layer";if(console.log(" Attempting to export embedded vector file:",k,C),C.includes("svg")||k.endsWith(".svg")){const P=new TextDecoder().decode(p),D=new Blob([P],{type:"image/svg+xml"}),O=URL.createObjectURL(D),T=document.createElement("a");T.href=O,T.download=`${t.layer.name||"layer"}.svg`,T.click(),URL.revokeObjectURL(O),await new Promise(_=>setTimeout(_,100));continue}if(C.includes("pdf")||C.includes("illustrator")||k.endsWith(".ai")||k.endsWith(".pdf")){console.log(" AI/PDF file detected - exporting raw file");const P=new Blob([p],{type:"application/octet-stream"}),D=URL.createObjectURL(P),O=document.createElement("a"),T=k.split(".").pop()||"ai";O.href=D,O.download=`${t.layer.name||"layer"}.${T}`,O.click(),URL.revokeObjectURL(D),alert(`Exported ${T.toUpperCase()} file. You can convert it to SVG using Adobe Illustrator or online converters.`),await new Promise(_=>setTimeout(_,100));continue}}catch(p){console.error("Failed to export embedded vector file:",p)}const R=I.vectorMask,j=I.vectorFill,M=I.vectorStroke;let U,oe,m=0,F=0;if((de=(ce=(ee=I.vectorOrigination)==null?void 0:ee.keyDescriptorList)==null?void 0:ce[0])!=null&&de.keyOriginShapeBoundingBox){const p=I.vectorOrigination.keyDescriptorList[0].keyOriginShapeBoundingBox;m=p.left.value,F=p.top.value,U=p.right.value-p.left.value,oe=p.bottom.value-p.top.value}else U=(t.layer.right||0)-(t.layer.left||0),oe=(t.layer.bottom||0)-(t.layer.top||0);if(R!=null&&R.paths&&R.paths.length>0)try{let p="";for(const se of R.paths)if(se.knots&&se.knots.length>0){const pe=se.knots,be=pe[0];p+=`M ${be.points[0]} ${be.points[1]} `;for(let Ne=0;Ne<pe.length;Ne++){const $e=pe[Ne],Oe=pe[(Ne+1)%pe.length],le=$e.points[2],mt=$e.points[3],Bt=Oe.points[4],et=Oe.points[5],it=Oe.points[0],en=Oe.points[1];p+=`C ${le} ${mt}, ${Bt} ${et}, ${it} ${en} `}se.open||(p+="Z ")}let C="none",k=1;if((j==null?void 0:j.type)==="color"&&j.color){const se=Math.round(j.color.r||0),pe=Math.round(j.color.g||0),be=Math.round(j.color.b||0);C=`rgb(${se}, ${pe}, ${be})`}let P="none",D=0;if(M!=null&&M.strokeEnabled&&M.content&&(D=((J=M.lineWidth)==null?void 0:J.value)||1,M.content.type==="color"&&M.content.color)){const se=Math.round(M.content.color.r||0),pe=Math.round(M.content.color.g||0),be=Math.round(M.content.color.b||0);P=`rgb(${se}, ${pe}, ${be})`}const O=t.layer.opacity!==void 0?t.layer.opacity:1,T=p.trim(),_=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${U}" height="${oe}" viewBox="${m} ${F} ${U} ${oe}" xmlns="http://www.w3.org/2000/svg">
  <path d="${T}" fill="${C}" fill-opacity="${k*O}" stroke="${P}" stroke-width="${D}" opacity="${O}" />
</svg>`,z=new Blob([_],{type:"image/svg+xml"}),H=URL.createObjectURL(z),K=document.createElement("a"),re=`${t.layer.name||"layer"}.svg`;K.href=H,K.download=re,K.click(),URL.revokeObjectURL(H),await new Promise(se=>setTimeout(se,100));continue}catch(p){console.error("Failed to convert vector paths to SVG:",p)}if(A){const p=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${U}" height="${oe}" viewBox="0 0 ${U} ${oe}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <image width="${U}" height="${oe}" xlink:href="${A.toDataURL("image/png")}" />
</svg>`,C=new Blob([p],{type:"image/svg+xml"}),k=URL.createObjectURL(C),P=document.createElement("a"),D=`${t.layer.name||"layer"}.svg`;P.href=k,P.download=D,P.click(),URL.revokeObjectURL(k)}await new Promise(p=>setTimeout(p,100));continue}if(N&&l.value){const R=l.value.data,j=((q=l.value.type)==null?void 0:q.toLowerCase())||"",M=l.value.name||"layer";if(j.includes("svg")||M.endsWith(".svg"))try{console.log(" Rendering SVG at",Ce,"x scale for",Ee.toUpperCase());const U=new TextDecoder().decode(R),oe=new Blob([U],{type:"image/svg+xml"}),m=URL.createObjectURL(oe),F=new Image;await new Promise((T,_)=>{F.onload=T,F.onerror=_,F.src=m});const p=((ue=I.placedLayer)==null?void 0:ue.width)||F.width,C=((Pe=I.placedLayer)==null?void 0:Pe.height)||F.height,k=document.createElement("canvas");k.width=p*Ce,k.height=C*Ce;const P=k.getContext("2d");if(!P){URL.revokeObjectURL(m);continue}P.drawImage(F,0,0,k.width,k.height),URL.revokeObjectURL(m);const D=Ee==="png"?"image/png":"image/jpeg",O=Ee==="jpg"?.9:void 0;k.toBlob(T=>{if(!T)return;const _=URL.createObjectURL(T),z=document.createElement("a"),H=`${t.layer.name||"layer"}_${Ce}x.${Ee}`;z.href=_,z.download=H,z.click(),URL.revokeObjectURL(_)},D,O),await new Promise(T=>setTimeout(T,100));continue}catch(U){console.error("Failed to render SVG, falling back to canvas:",U)}}if(!A){console.warn("Skipping raster export for vector-only layer");continue}const Ze=document.createElement("canvas");Ze.width=A.width*Ce,Ze.height=A.height*Ce;const ye=Ze.getContext("2d");if(!ye)continue;ye.scale(Ce,Ce),ye.drawImage(A,0,0);const ge=Ee==="png"?"image/png":"image/jpeg",we=Ee==="jpg"?.9:void 0;Ze.toBlob(R=>{if(!R)return;const j=URL.createObjectURL(R),M=document.createElement("a"),U=`${t.layer.name||"layer"}_${Ce}x.${Ee}`;M.href=j,M.download=U,M.click(),URL.revokeObjectURL(j)},ge,we),await new Promise(R=>setTimeout(R,100))}};return(I,A)=>(He(),Qe("div",sb,[te("div",ab,[te("div",lb,[te("h4",null,xt(e.layer.name),1)])]),te("div",cb,[te("div",{class:"section-header-with-copy"},[A[0]||(A[0]=te("h4",null,"CSS Properties",-1)),te("button",{class:"copy-icon-btn",onClick:E,title:"Copy all CSS"},"  ")]),te("div",{class:"css-code",onMouseup:v},[te("pre",null,xt(S.value),1),te("div",{class:ln(["copy-notification",{show:n.value}])}," Copied to clipboard ",2)],32)]),d.value?(He(),Qe("div",ub,[te("div",{class:"section-header-with-copy"},[A[1]||(A[1]=te("h4",null,"Text Content",-1)),te("button",{class:"copy-icon-btn",onClick:b,title:"Copy text"},"  ")]),te("div",fb,[te("pre",db,xt(d.value),1),te("div",{class:ln(["copy-notification",{show:i.value}])}," Copied to clipboard ",2)])])):kn("",!0),te("div",hb,[A[9]||(A[9]=te("h4",null,"Export",-1)),o.value||s.value||a.value?(He(),Qe("div",pb,[o.value?(He(),Qe("canvas",{key:0,ref_key:"previewCanvas",ref:r,class:"preview-canvas"},null,512)):a.value?(He(),Qe("div",vb,[A[4]||(A[4]=mi(" Vector Smart Object",-1)),A[5]||(A[5]=te("br",null,null,-1)),l.value?(He(),Qe("small",gb,[mi(xt(l.value.name)+" ("+xt(l.value.type)+")",1),A[2]||(A[2]=te("br",null,null,-1)),mi(" "+xt(Math.round(l.value.data.length/1024))+"KB embedded data ",1)])):(He(),Qe("small",mb,[...A[3]||(A[3]=[mi(" Contains embedded vector file (AI/PDF/SVG)",-1),te("br",null,null,-1),te("span",{style:{color:"#f56c6c"}}," Embedded data not found",-1)])]))])):(He(),Qe("div",yb,[...A[6]||(A[6]=[mi(" Vector shape layer",-1),te("br",null,null,-1),te("small",null,"Export as SVG to get vector data",-1)])]))])):kn("",!0),te("div",bb,[(He(!0),Qe(Rt,null,xa(u.value,(B,N)=>(He(),Qe("div",{key:N,class:"export-item"},[ja(te("select",{"onUpdate:modelValue":V=>B.scale=V,class:"export-select",disabled:B.format==="svg"},[...A[7]||(A[7]=[te("option",{value:"1"},"1x",-1),te("option",{value:"2"},"2x",-1),te("option",{value:"3"},"3x",-1),te("option",{value:"4"},"4x",-1)])],8,Sb),[[pl,B.scale]]),ja(te("select",{"onUpdate:modelValue":V=>B.format=V,class:"export-select",onChange:V=>y(B)},[...A[8]||(A[8]=[te("option",{value:"png"},"PNG",-1),te("option",{value:"jpg"},"JPG",-1),te("option",{value:"svg"},"SVG",-1)])],40,xb),[[pl,B.format]]),u.value.length>1?(He(),Qe("button",{key:0,class:"export-remove-btn",onClick:V=>w(N),title:"Remove"},"  ",8,Cb)):kn("",!0)]))),128))]),te("div",{class:"export-actions"},[te("button",{class:"add-export-btn",onClick:x}," Add "),te("button",{class:"export-all-btn",onClick:L}," Export ")])]),te("div",Fb,[A[11]||(A[11]=te("h4",null,"Debug Info",-1)),te("details",null,[A[10]||(A[10]=te("summary",{style:{cursor:"pointer",color:"#999","margin-bottom":"8px"}},"Show raw layer data",-1)),te("div",wb,[te("pre",null,xt(h.value),1)])])])]))}}),Eb=Wo(Ib,[["__scopeId","data-v-aba53794"]]);class kb{constructor(){Xo(this,"cache",new Map);Xo(this,"maxSize",50)}getCacheKey(t,n,i,r){return`${t}x${n}_${i}_${r}`}get(t){return this.cache.get(t)}set(t,n){if(this.cache.size>=this.maxSize){const i=this.cache.keys().next().value;i&&this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}}const uo=new kb;function Ab(e,t){const n=[];function i(r,o=!0){const s=t.get(r.__uniqueId),a=s!==void 0?o&&s:o&&!r.hidden;if(a&&n.push(r.__uniqueId),r.children)for(const l of r.children)i(l,a)}if(e.children)for(const r of e.children)i(r);return n.join(",")}const oa={normal:"source-over","pass through":"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color dodge":"color-dodge","color burn":"color-burn","hard light":"hard-light","soft light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"};function wh(e,t,n=!0){if(!n)return!1;const i=t.get(e.__uniqueId);return i!==void 0?i:!e.hidden}function Ih(e,t,n,i=!0){let r=0;for(;r<t.length;){const o=t[r],s=[];let a=r+1;for(;a<t.length&&t[a].clipping;)s.push(t[a]),a++;s.length>0?(Pb(e,o,s,n,i),r=a):(Da(e,o,n,i),r++)}}function Pb(e,t,n,i,r){const o=document.createElement("canvas");o.width=e.canvas.width,o.height=e.canvas.height;const s=o.getContext("2d",{alpha:!0});for(const a of n)if(wh(a,i.layerVisibility||new Map,r)&&a.canvas){s.save();const c=a.opacity!==void 0&&a.opacity!==null?a.opacity:1,u=a.fillOpacity!==void 0&&a.fillOpacity!==null?a.fillOpacity:1;if(s.globalAlpha=c*u,i.applyBlendModes!==!1&&a.blendMode){const h=oa[a.blendMode];h&&(s.globalCompositeOperation=h)}const f=a.left||0,d=a.top||0;s.drawImage(a.canvas,f,d),s.restore()}if(t.canvas){s.globalCompositeOperation="destination-in";const a=t.left||0,l=t.top||0;s.drawImage(t.canvas,a,l)}Da(e,t,i,r),e.drawImage(o,0,0)}function Da(e,t,n,i=!0){const r=wh(t,n.layerVisibility||new Map,i);if(r){if(t.children&&t.children.length>0){const o=t.opacity!==void 0&&t.opacity!==null?t.opacity:1,s=t.fillOpacity!==void 0&&t.fillOpacity!==null?t.fillOpacity:1,a=o*s;if(n.applyBlendModes!==!1&&t.blendMode&&t.blendMode!=="normal"&&t.blendMode!=="pass through"||a<1){e.save();const c=document.createElement("canvas");c.width=e.canvas.width,c.height=e.canvas.height;const u=c.getContext("2d",{alpha:!0,willReadFrequently:!1});for(const d of t.children)Da(u,d,n,r);const f=o*s;e.globalAlpha=f,n.applyBlendModes!==!1&&t.blendMode&&t.blendMode!=="normal"&&t.blendMode!=="pass through"&&(e.globalCompositeOperation=oa[t.blendMode]||"source-over"),e.drawImage(c,0,0),e.restore()}else Ih(e,t.children,n,r);return}if(t.canvas){e.save();const o=t.opacity!==void 0&&t.opacity!==null?t.opacity:1,s=t.fillOpacity!==void 0&&t.fillOpacity!==null?t.fillOpacity:1;if(e.globalAlpha=o*s,n.applyBlendModes!==!1&&t.blendMode){const c=oa[t.blendMode];c&&(e.globalCompositeOperation=c)}const a=t.left||0,l=t.top||0;e.drawImage(t.canvas,a,l),e.restore()}}}function _b(e,t={}){const n=Ab(e,t.layerVisibility||new Map),i=uo.getCacheKey(e.width,e.height,n,t.applyBlendModes!==!1),r=uo.get(i);if(r)return r;const o=t.viewport||{x:0,y:0,width:e.width,height:e.height},s=document.createElement("canvas");s.width=o.width,s.height=o.height;const a=s.getContext("2d",{alpha:!0,willReadFrequently:!1});return t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,s.width,s.height)),(o.x!==0||o.y!==0)&&a.translate(-o.x,-o.y),e.children&&Ih(a,e.children,t),uo.set(i,s),s}function Ob(){uo.clear(),console.log(" Compositor cache cleared")}const Tb={class:"home"},Rb={key:0,class:"loading-overlay"},Mb={class:"loading-text"},Lb={key:1,class:"viewer"},Db={class:"toolbar"},Bb=["title"],Nb={class:"tool-icon"},Ub={key:0,class:"sidebar floating"},Vb={key:1,class:"properties-panel floating"},Gb={class:"zoom-controls"},zb=ai({__name:"HomeView",setup(e){typeof document<"u"&&Tm((p,C)=>{const k=document.createElement("canvas");return k.width=p,k.height=C,k});const t=We(),n=We(),i=We(),r=We(null),o=We(null),s=We(!1),a=We(""),l=We(new Map),c=We(1),u=We(0),f=We(0),d=We(!1),h=We(0),S=We(0),v=We("select"),E=We(!1),b=We(!0),x=We(!0),w=We(null),y=p=>{let C=1/0,k=1/0,P=-1/0,D=-1/0;const O=T=>{const _=l.value.get(T.__uniqueId);if(_!==!1&&!(T.hidden&&_===void 0))if(T.children)for(const z of T.children)O(z);else{const z=T.left||0,H=T.top||0,K=T.right||0,re=T.bottom||0;C=Math.min(C,z),k=Math.min(k,H),P=Math.max(P,K),D=Math.max(D,re)}};if(p.children)for(const T of p.children)O(T);return C===1/0?{left:p.left||0,top:p.top||0,right:p.right||0,bottom:p.bottom||0}:{left:C,top:k,right:P,bottom:D}},L=p=>{if(!p.canvas)return null;const C=p.canvas,D=C.getContext("2d").getImageData(0,0,C.width,C.height).data;let O=C.width,T=C.height,_=0,z=0;for(let re=0;re<C.height;re++)for(let se=0;se<C.width;se++)D[(re*C.width+se)*4+3]>0&&(O=Math.min(O,se),T=Math.min(T,re),_=Math.max(_,se),z=Math.max(z,re));if(O>_)return null;const H=p.left||0,K=p.top||0;return{left:H+O,top:K+T,right:H+_+1,bottom:K+z+1}},I=p=>{var O,T,_;let C=p.left||0,k=p.top||0,P=p.right||0,D=p.bottom||0;if(p.children&&p.children.length>0){const z=y(p);C=z.left,k=z.top,P=z.right,D=z.bottom}else if((_=(T=(O=p.vectorOrigination)==null?void 0:O.keyDescriptorList)==null?void 0:T[0])!=null&&_.keyOriginShapeBoundingBox){const z=p.vectorOrigination.keyDescriptorList[0].keyOriginShapeBoundingBox;C=z.left.value,k=z.top.value,P=z.right.value,D=z.bottom.value}else if(p.canvas){const z=L(p);z&&(C=z.left,k=z.top,P=z.right,D=z.bottom)}return{left:C,top:k,right:P,bottom:D}},A=async p=>{var P;const k=(P=p.target.files)==null?void 0:P[0];k&&await N(k)},B=async p=>{var k;const C=(k=p.dataTransfer)==null?void 0:k.files[0];C&&C.name.endsWith(".psd")&&await N(C)},N=async p=>{try{s.value=!0,a.value="Reading file...",Ob();const C=await p.arrayBuffer();a.value="Parsing PSD structure...",await new Promise(_=>setTimeout(_,100));const k=qy(C,{skipLayerImageData:!1,skipThumbnail:!0,useImageData:!1,skipLinkedFilesData:!1,skipVectorData:!1,skipCompositeImageData:!1});k.linkedFiles&&k.linkedFiles.length>0&&console.log(" Found linkedFiles:",k.linkedFiles.length),k.canvas&&console.log(" PSD has composite canvas (with effects)");const P=(_,z="")=>{if(_.effects&&console.log(`${z} Layer "${_.name}" has effects:`,Object.keys(_.effects)),_.children)for(const H of _.children)P(H,z+"  ")};if(k.children)for(const _ of k.children)P(_);a.value="Processing layers...",await new Promise(_=>setTimeout(_,100));let D=0;const O=_=>{_.__uniqueId=D++,_.children&&_.children.forEach(z=>O(z))};O(k),a.value="Initializing visibility...",await new Promise(_=>setTimeout(_,100));const T=_=>{const z=_.hidden===!0;l.value.set(_.__uniqueId,!z),_.children&&_.children.forEach(H=>T(H))};T(k),r.value=k,a.value="Rendering canvas...",await ii(),await V(k),await ii(),m(),s.value=!1,a.value=""}catch(C){console.error("Error loading PSD:",C),alert("Failed to load PSD file"),s.value=!1,a.value=""}},V=async p=>{if(!n.value||!i.value){console.error("Canvas or container ref is null!");return}if(!n.value.getContext("2d")){console.error("Cannot get 2d context!");return}n.value.width=window.innerWidth,n.value.height=window.innerHeight,p.canvas&&(n.value.__psdCanvas=p.canvas);const k=P=>{if(P)for(const D of P)D.children&&D.children.length>0&&k(D.children),D.canvas&&(D.__canvas=D.canvas)};k(p.children),n.value.__psdData=p},G=()=>{if(!n.value)return;const p=n.value.getContext("2d");if(!p)return;const C=n.value.__psdData;if(!C)return;p.fillStyle="#2c2c2c",p.fillRect(0,0,n.value.width,n.value.height),p.save(),p.translate(n.value.width/2+u.value,n.value.height/2+f.value),p.scale(c.value,c.value),p.translate(-C.width/2,-C.height/2);let k;x.value&&C.canvas?(k=C.canvas,console.log(" Using Photoshop composite (with effects)")):k=_b(C,{layerVisibility:l.value,applyBlendModes:!0}),console.log(" Composite canvas:",k.width,"x",k.height),console.log(" Main canvas:",n.value.width,"x",n.value.height),console.log(" Zoom:",c.value,"Pan:",u.value,f.value),p.drawImage(k,0,0),ne(p),p.restore()},ne=(p,C)=>{if(o.value){const k=o.value,{left:P,top:D,right:O,bottom:T}=I(k),_=O-P,z=T-D;p.save(),p.strokeStyle="#42b983",p.lineWidth=2/c.value,p.strokeRect(P,D,_,z),p.restore()}if(o.value&&w.value&&o.value!==w.value){const k=o.value,P=w.value,D=I(k),O=D.left,T=D.top,_=D.right,z=D.bottom,H=I(P),K=H.left,re=H.top,se=H.right,pe=H.bottom,be=se-K,Ne=pe-re;if(p.strokeStyle="#ff6b6b",p.fillStyle="#ff6b6b",p.lineWidth=1/c.value,p.font=`${12/c.value}px sans-serif`,p.textAlign="center",p.textBaseline="middle",!(_<K||se<O||z<re||pe<T)){if(O>K){const Oe=Math.round(O-K),le=(T+z)/2;p.beginPath(),p.moveTo(K,le),p.lineTo(O,le),p.stroke(),p.fillText(`${Oe}px`,(K+O)/2,le-8/c.value)}if(_<se){const Oe=Math.round(se-_),le=(T+z)/2;p.beginPath(),p.moveTo(_,le),p.lineTo(se,le),p.stroke(),p.fillText(`${Oe}px`,(_+se)/2,le-8/c.value)}if(T>re){const Oe=Math.round(T-re),le=(O+_)/2;p.beginPath(),p.moveTo(le,re),p.lineTo(le,T),p.stroke(),p.save(),p.translate(le+8/c.value,(re+T)/2),p.rotate(-Math.PI/2),p.fillText(`${Oe}px`,0,0),p.restore()}if(z<pe){const Oe=Math.round(pe-z),le=(O+_)/2;p.beginPath(),p.moveTo(le,z),p.lineTo(le,pe),p.stroke(),p.save(),p.translate(le+8/c.value,(z+pe)/2),p.rotate(-Math.PI/2),p.fillText(`${Oe}px`,0,0),p.restore()}}else{if(_<K){const Oe=Math.round(K-_),le=(T+z)/2;p.beginPath(),p.moveTo(_,le),p.lineTo(K,le),p.stroke(),p.fillText(`${Oe}px`,(_+K)/2,le-8/c.value)}else if(se<O){const Oe=Math.round(O-se),le=(T+z)/2;p.beginPath(),p.moveTo(se,le),p.lineTo(O,le),p.stroke(),p.fillText(`${Oe}px`,(se+O)/2,le-8/c.value)}if(z<re){const Oe=Math.round(re-z),le=(O+_)/2;p.beginPath(),p.moveTo(le,z),p.lineTo(le,re),p.stroke(),p.save(),p.translate(le+8/c.value,(z+re)/2),p.rotate(-Math.PI/2),p.fillText(`${Oe}px`,0,0),p.restore()}else if(pe<T){const Oe=Math.round(T-pe),le=(O+_)/2;p.beginPath(),p.moveTo(le,pe),p.lineTo(le,T),p.stroke(),p.save(),p.translate(le+8/c.value,(pe+T)/2),p.rotate(-Math.PI/2),p.fillText(`${Oe}px`,0,0),p.restore()}}p.strokeStyle="#ff6b6b",p.setLineDash([4/c.value,4/c.value]),p.strokeRect(K,re,be,Ne),p.setLineDash([])}},ee=p=>{const C=l.value.get(p.__uniqueId);l.value.set(p.__uniqueId,!C),G()},ce=p=>{o.value=p,de(p),ii(()=>{J(p)}),G()},de=p=>{if(!r.value)return;const C=(P,D,O=[])=>{if(P.__uniqueId===D.__uniqueId)return[...O,P];if(P.children)for(const T of P.children){const _=C(T,D,[...O,P]);if(_)return _}return null},k=C(r.value,p);k&&(q.value=new Set(k.map(P=>P.__uniqueId)))},J=p=>{const C=p.__uniqueId,k=document.querySelector(`[data-layer-id="${C}"]`);k&&k.scrollIntoView({behavior:"smooth",block:"nearest"})},q=We(new Set),ue=nt(()=>{var p;return(p=r.value)!=null&&p.children?[...r.value.children].reverse():[]}),Pe=p=>{if(!n.value)return;const C=p.deltaY>0?.9:1.1,k=Math.max(.1,Math.min(10,c.value*C)),P=n.value.getBoundingClientRect(),D=p.clientX-P.left,O=p.clientY-P.top,T=(D-n.value.width/2-u.value)/c.value,_=(O-n.value.height/2-f.value)/c.value;c.value=k,u.value=D-n.value.width/2-T*k,f.value=O-n.value.height/2-_*k,G()},ve=p=>{if(p.button===0){const C=E.value?"hand":v.value;C==="hand"?(d.value=!0,h.value=p.clientX,S.value=p.clientY):C==="select"&&Ze(p.clientX,p.clientY)}},Ce=new Map,Ee=(p,C=!1)=>{if(!r.value)return!1;const k=p.__uniqueId;if(l.value.get(k)===!1)return!1;if(Ce.has(k))return Ce.get(k);const P=(T,_)=>{if(T.children)for(const z of T.children){if(z.__uniqueId===_.__uniqueId)return T;const H=P(z,_);if(H)return H}return null};let D=p,O=P(r.value,D);for(;O&&O!==r.value;){const T=O.__uniqueId;if(l.value.get(T)===!1)return Ce.set(k,!1),!1;D=O,O=P(r.value,D)}return Ce.set(k,!0),!0},Ze=(p,C)=>{if(!n.value||!r.value)return;const k=n.value.getBoundingClientRect(),P=n.value.width/2,D=n.value.height/2,O=n.value.__psdCanvas;if(!O)return;const T=p-k.left,_=C-k.top,z=(T-P-u.value)/c.value+O.width/2,H=(_-D-f.value)/c.value+O.height/2,K=[],re=(se,pe,be)=>{var Ne,$e,Oe;if(se){for(const le of se)if(le.children&&le.children.length>0&&re(le.children,pe,be),le.opacity!==void 0&&le.opacity>0){let mt=le.left??0,Bt=le.top??0,et=le.right??0,it=le.bottom??0;if((Oe=($e=(Ne=le.vectorOrigination)==null?void 0:Ne.keyDescriptorList)==null?void 0:$e[0])!=null&&Oe.keyOriginShapeBoundingBox){const It=le.vectorOrigination.keyDescriptorList[0].keyOriginShapeBoundingBox;mt=It.left.value,Bt=It.top.value,et=It.right.value,it=It.bottom.value}const en=et-mt,Mn=it-Bt;if(en>0&&Mn>0&&pe>=mt&&pe<=et&&be>=Bt&&be<=it&&Ee(le)){const It=en*Mn;K.push({layer:le,area:It})}}}};if(re(r.value.children,z,H),K.length>0){K.sort((pe,be)=>pe.area-be.area);const se=K[0].layer;ce(se)}},ye=(p,C)=>{if(!n.value||!r.value)return;const k=n.value.getBoundingClientRect(),P=n.value.width/2,D=n.value.height/2,O=n.value.__psdCanvas;if(!O)return;const T=p-k.left,_=C-k.top,z=(T-P-u.value)/c.value+O.width/2,H=(_-D-f.value)/c.value+O.height/2,K=[],re=(se,pe,be)=>{var Ne,$e,Oe;if(se){for(const le of se)if(le.children&&le.children.length>0&&re(le.children,pe,be),le.opacity!==void 0&&le.opacity>0&&Ee(le)){let mt=le.left??0,Bt=le.top??0,et=le.right??0,it=le.bottom??0;if((Oe=($e=(Ne=le.vectorOrigination)==null?void 0:Ne.keyDescriptorList)==null?void 0:$e[0])!=null&&Oe.keyOriginShapeBoundingBox){const It=le.vectorOrigination.keyDescriptorList[0].keyOriginShapeBoundingBox;mt=It.left.value,Bt=It.top.value,et=It.right.value,it=It.bottom.value}const en=et-mt,Mn=it-Bt;if(en>0&&Mn>0&&pe>=mt&&pe<=et&&be>=Bt&&be<=it){const It=en*Mn;K.push({layer:le,area:It})}}}};if(re(r.value.children,z,H),K.length>0){K.sort((pe,be)=>pe.area-be.area);const se=K[0].layer;se!==o.value?(w.value=se,G()):w.value&&(w.value=null,G())}else w.value&&(w.value=null,G())};let ge=null;const we=p=>{if(d.value){const C=p.clientX-h.value,k=p.clientY-S.value;u.value+=C,f.value+=k,h.value=p.clientX,S.value=p.clientY,G()}else v.value==="select"&&o.value&&!E.value&&ge===null&&(ge=window.setTimeout(()=>{ye(p.clientX,p.clientY),ge=null},50))},R=()=>{d.value=!1},j=p=>{r.value&&(p.code==="Space"&&!E.value?(p.preventDefault(),E.value=!0):p.code==="KeyS"?(p.preventDefault(),v.value="select"):p.code==="KeyH"?(p.preventDefault(),v.value="hand"):p.code==="KeyL"&&(p.preventDefault(),b.value=!b.value))},M=p=>{r.value&&p.code==="Space"&&(p.preventDefault(),E.value=!1)};tf(()=>{window.addEventListener("keydown",j),window.addEventListener("keyup",M)}),Sa(()=>{window.removeEventListener("keydown",j),window.removeEventListener("keyup",M)});const U=()=>{c.value=Math.min(10,c.value*1.2),G()},oe=()=>{c.value=Math.max(.1,c.value/1.2),G()},m=()=>{if(!n.value)return;const p=n.value.__psdCanvas;if(!p)return;const C=window.innerWidth,k=window.innerHeight,P=p.width,D=p.height,O=C*.8/P,T=k*.8/D,_=Math.min(O,T);c.value=_,u.value=0,f.value=0,G()},F=()=>{r.value=null,o.value=null,l.value.clear(),c.value=1,u.value=0,f.value=0,v.value="select",E.value=!1};return(p,C)=>(He(),Qe("div",Tb,[r.value?(He(),Qe("div",Lb,[te("div",{class:ln(["canvas-area",{"tool-hand":E.value||v.value==="hand","tool-select":!E.value&&v.value==="select"}]),ref_key:"canvasContainer",ref:i,onWheel:or(Pe,["prevent"]),onMousedown:ve,onMousemove:we,onMouseup:R,onMouseleave:R},[te("canvas",{ref_key:"canvas",ref:n},null,512)],34),te("div",Db,[te("button",{onClick:C[2]||(C[2]=k=>b.value=!b.value),title:"Toggle Layers Panel (L)"},[...C[8]||(C[8]=[te("span",{class:"tool-icon"},"",-1),te("span",{class:"tool-key"},"L",-1)])]),C[11]||(C[11]=te("div",{class:"toolbar-separator"},null,-1)),te("button",{class:ln({active:v.value==="select"}),onClick:C[3]||(C[3]=k=>v.value="select"),title:"Select (S)"},[...C[9]||(C[9]=[te("span",{class:"tool-icon"},"",-1),te("span",{class:"tool-key"},"S",-1)])],2),te("button",{class:ln({active:v.value==="hand"}),onClick:C[4]||(C[4]=k=>v.value="hand"),title:"Hand (H)"},[...C[10]||(C[10]=[te("span",{class:"tool-icon"},"",-1),te("span",{class:"tool-key"},"H",-1)])],2),C[12]||(C[12]=te("div",{class:"toolbar-separator"},null,-1)),te("button",{class:ln({active:x.value}),onClick:C[5]||(C[5]=k=>{x.value=!x.value,G()}),title:x.value?"Using Photoshop composite (with effects)":"Using dynamic rendering (no effects)"},[te("span",Nb,xt(x.value?"":""),1)],10,Bb)]),b.value?(He(),Qe("div",Ub,[te("div",{class:"sidebar-header"},[C[13]||(C[13]=te("h3",null,"Layers",-1)),te("button",{onClick:F,class:"btn-reset"},"")]),Ft(ob,{layers:ue.value,"expanded-groups":q.value,"layer-visibility":l.value,"disable-visibility-toggle":x.value,onLayerSelect:ce,onToggleVisibility:ee,"selected-layer":o.value},null,8,["layers","expanded-groups","layer-visibility","disable-visibility-toggle","selected-layer"])])):kn("",!0),o.value?(He(),Qe("div",Vb,[Ft(Eb,{layer:o.value,psd:r.value},null,8,["layer","psd"])])):kn("",!0),te("div",Gb,[te("button",{onClick:oe,title:"Zoom Out"},""),te("span",null,xt(Math.round(c.value*100))+"%",1),te("button",{onClick:U,title:"Zoom In"},"+"),te("button",{onClick:m,title:"Fit to Screen"},"")])])):(He(),Qe("div",{key:0,class:"upload-area",onDrop:or(B,["prevent"]),onDragover:C[1]||(C[1]=or(()=>{},["prevent"]))},[te("input",{type:"file",ref_key:"fileInput",ref:t,onChange:A,accept:".psd",style:{display:"none"}},null,544),te("div",{class:"upload-content",onClick:C[0]||(C[0]=k=>p.$refs.fileInput.click())},[...C[6]||(C[6]=[te("div",{class:"upload-icon"},"",-1),te("h2",null,"Upload PSD file",-1),te("p",null,"Drag and drop file here or click to select",-1)])]),s.value?(He(),Qe("div",Rb,[C[7]||(C[7]=te("div",{class:"loading-spinner"},null,-1)),te("div",Mb,xt(a.value),1)])):kn("",!0)],32))]))}}),jb=Wo(zb,[["__scopeId","data-v-94d09207"]]),Hb=i0({history:Dg("/psd-peek/"),routes:[{path:"/",name:"home",component:jb}]}),Ba=Kv(r0);Ba.use(Jv());Ba.use(Hb);Ba.mount("#app");
